(self.webpackChunkcard_kingdom_heroes=self.webpackChunkcard_kingdom_heroes||[]).push([[179],{825:(Cl,ot,ft)=>{"use strict";function he(e){return"function"==typeof e}function Lr(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ii=Lr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function is(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class sn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(he(r))try{r()}catch(s){n=s instanceof Ii?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Vs(s)}catch(a){n=n??[],a instanceof Ii?n=[...n,...a.errors]:n.push(a)}}if(n)throw new Ii(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Vs(n);else{if(n instanceof sn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&is(t,n)}remove(n){const{_finalizers:t}=this;t&&is(t,n),n instanceof sn&&n._removeParent(this)}}sn.EMPTY=(()=>{const e=new sn;return e.closed=!0,e})();const ss=sn.EMPTY;function ei(e){return e instanceof sn||e&&"closed"in e&&he(e.remove)&&he(e.add)&&he(e.unsubscribe)}function Vs(e){he(e)?e():e.unsubscribe()}const Nr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fr={setTimeout(e,n,...t){const{delegate:r}=Fr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Fr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function as(e){Fr.setTimeout(()=>{const{onUnhandledError:n}=Nr;if(!n)throw e;n(e)})}function Hs(){}const os=Us("C",void 0,void 0);function Us(e,n,t){return{kind:e,value:n,error:t}}let mn=null;function ls(e){if(Nr.useDeprecatedSynchronousErrorHandling){const n=!mn;if(n&&(mn={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=mn;if(mn=null,t)throw r}}else e()}class us extends sn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ei(n)&&n.add(this)):this.destination=Tl}static create(n,t,r){return new an(n,t,r)}next(n){this.isStopped?xi(function El(e){return Us("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?xi(function Sl(e){return Us("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?xi(os,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Al=Function.prototype.bind;function At(e,n){return Al.call(e,n)}class rr{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Bn(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Bn(r)}else Bn(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Bn(t)}}}class an extends us{constructor(n,t,r){let i;if(super(),he(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Nr.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&At(n.next,s),error:n.error&&At(n.error,s),complete:n.complete&&At(n.complete,s)}):i=n}this.destination=new rr(i)}}function Bn(e){Nr.useDeprecatedSynchronousErrorHandling?function Dl(e){Nr.useDeprecatedSynchronousErrorHandling&&mn&&(mn.errorThrown=!0,mn.error=e)}(e):as(e)}function xi(e,n){const{onStoppedNotification:t}=Nr;t&&Fr.setTimeout(()=>t(e,n))}const Tl={closed:!0,next:Hs,error:function br(e){throw e},complete:Hs},$s="function"==typeof Symbol&&Symbol.observable||"@@observable";function wr(e){return e}function Ja(e){return 0===e.length?wr:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let Tt=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function cd(e){return e&&e instanceof us||function ud(e){return e&&he(e.next)&&he(e.error)&&he(e.complete)}(e)&&ei(e)}(t)?t:new an(t,r,i);return ls(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Vn(r))((i,s)=>{const a=new an({next:o=>{try{t(o)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[$s](){return this}pipe(...t){return Ja(t)(this)}toPromise(t){return new(t=Vn(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return e.create=n=>new e(n),e})();function Vn(e){var n;return null!==(n=e??Nr.Promise)&&void 0!==n?n:Promise}const js=Lr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Hn=(()=>{class e extends Tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new cs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new js}next(t){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ss:(this.currentObservers=null,s.push(t),new sn(()=>{this.currentObservers=null,is(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Tt;return t.source=this,t}}return e.create=(n,t)=>new cs(n,t),e})();class cs extends Hn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:ss}}function zs(e){return he(e?.lift)}function ht(e){return n=>{if(zs(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(e,n,t,r,i){return new dd(e,n,t,r,i)}class dd extends us{constructor(n,t,r,i,s,a){super(n),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(o){try{t(o)}catch(l){n.error(l)}}:super._next,this._error=i?function(o){try{i(o)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){n.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Je(e,n){return ht((t,r)=>{let i=0;t.subscribe(Mt(r,s=>{r.next(e.call(n,s,i++))}))})}function vn(e){return this instanceof vn?(this.v=e,this):new vn(e)}function no(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Kt(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(a){return new Promise(function(o,l){!function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}(o,l,(a=e[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Mi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ds(e){return he(e?.then)}function Ks(e){return he(e[$s])}function Pi(e){return Symbol.asyncIterator&&he(e?.[Symbol.asyncIterator])}function In(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hs=function fs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ri(e){return he(e?.[hs])}function Ri(e){return function Gs(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){r[m]&&(i[m]=function(y){return new Promise(function(b,D){s.push([m,y,b,D])>1||o(m,y)})})}function o(m,y){try{!function l(m){m.value instanceof vn?Promise.resolve(m.value.v).then(c,d):g(s[0][2],m)}(r[m](y))}catch(b){g(s[0][3],b)}}function c(m){o("next",m)}function d(m){o("throw",m)}function g(m,y){m(y),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield vn(t.read());if(i)return yield vn(void 0);yield yield vn(r)}}finally{t.releaseLock()}})}function Ys(e){return he(e?.getReader)}function xn(e){if(e instanceof Tt)return e;if(null!=e){if(Ks(e))return function Ml(e){return new Tt(n=>{const t=e[$s]();if(he(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Mi(e))return function Qs(e){return new Tt(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(ds(e))return function It(e){return new Tt(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,as)})}(e);if(Pi(e))return ii(e);if(ri(e))return function xt(e){return new Tt(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Ys(e))return function mt(e){return ii(Ri(e))}(e)}throw In(e)}function ii(e){return new Tt(n=>{(function Pl(e,n){var t,r,i,s;return function ti(e,n,t,r){return new(t||(t=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(g){a(g)}}function l(d){try{c(r.throw(d))}catch(g){a(g)}}function c(d){d.done?s(d.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(d.value).then(o,l)}c((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=no(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function sr(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function nt(e,n,t=1/0){return he(n)?nt((r,i)=>Je((s,a)=>n(r,s,i,a))(xn(e(r,i))),t):("number"==typeof n&&(t=n),ht((r,i)=>function Rl(e,n,t,r,i,s,a,o){const l=[];let c=0,d=0,g=!1;const m=()=>{g&&!l.length&&!c&&n.complete()},y=D=>c<r?b(D):l.push(D),b=D=>{s&&n.next(D),c++;let B=!1;xn(t(D,d++)).subscribe(Mt(n,Y=>{i?.(Y),s?y(Y):n.next(Y)},()=>{B=!0},void 0,()=>{if(B)try{for(c--;l.length&&c<r;){const Y=l.shift();a?sr(n,a,()=>b(Y)):b(Y)}m()}catch(Y){n.error(Y)}}))};return e.subscribe(Mt(n,y,()=>{g=!0,m()})),()=>{o?.()}}(r,i,e,t)))}function fe(e=1/0){return nt(wr,e)}const $n=new Tt(e=>e.complete());function en(e){return e[e.length-1]}function Br(e){return function Li(e){return e&&he(e.schedule)}(en(e))?e.pop():void 0}function gs(e,n=0){return ht((t,r)=>{t.subscribe(Mt(r,i=>sr(r,e,()=>r.next(i),n),()=>sr(r,e,()=>r.complete(),n),i=>sr(r,e,()=>r.error(i),n)))})}function ps(e,n=0){return ht((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function f(e,n){if(!e)throw new Error("Iterable cannot be null");return new Tt(t=>{sr(t,n,()=>{const r=e[Symbol.asyncIterator]();sr(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function _(e,n){return n?function p(e,n){if(null!=e){if(Ks(e))return function _n(e,n){return xn(e).pipe(ps(n),gs(n))}(e,n);if(Mi(e))return function Nl(e,n){return new Tt(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(ds(e))return function Xs(e,n){return xn(e).pipe(ps(n),gs(n))}(e,n);if(Pi(e))return f(e,n);if(ri(e))return function u(e,n){return new Tt(t=>{let r;return sr(t,n,()=>{r=e[hs](),sr(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}(e,n);if(Ys(e))return function h(e,n){return f(Ri(e),n)}(e,n)}throw In(e)}(e,n):xn(e)}function M(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new an({next:()=>{r.unsubscribe(),e()}});return n(...t).subscribe(r)}function A(e){for(let n in e)if(e[n]===A)return n;throw Error("Could not find renamed property on target object.")}function L(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(L).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function G(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const O=A({__forward_ref__:A});function x(e){return e.__forward_ref__=x,e.toString=function(){return L(this())},e}function S(e){return F(e)?e():e}function F(e){return"function"==typeof e&&e.hasOwnProperty(O)&&e.__forward_ref__===x}function k(e){return e&&!!e.\u0275providers}const N="https://g.co/ng/security#xss";class I extends Error{constructor(n,t){super(ue(n,t)),this.code=n}}function ue(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}function j(e){return"string"==typeof e?e:null==e?"":String(e)}function H(e,n){throw new I(-201,!1)}function ve(e,n){null==e&&function Ve(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Se(e){return{providers:e.providers||[],imports:e.imports||[]}}function at(e){return vt(e,Fi)||vt(e,Bi)}function vt(e,n){return e.hasOwnProperty(n)?e[n]:null}function Js(e){return e&&(e.hasOwnProperty(Cr)||e.hasOwnProperty(_D))?e[Cr]:null}const Fi=A({\u0275prov:A}),Cr=A({\u0275inj:A}),Bi=A({ngInjectableDef:A}),_D=A({ngInjectorDef:A});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let bd;function or(e){const n=bd;return bd=e,n}function Tp(e,n,t){const r=at(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Le.Optional?null:void 0!==n?n:void H(L(e))}const _t=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),io={},wd="__NG_DI_FLAG__",Fl="ngTempTokenPath",wD="ngTokenPath",CD=/\n/gm,SD="\u0275",Ip="__source";let so;function ea(e){const n=so;return so=e,n}function ED(e,n=Le.Default){if(void 0===so)throw new I(-203,!1);return null===so?Tp(e,void 0,n):so.get(e,n&Le.Optional?null:void 0,n)}function we(e,n=Le.Default){return(function bD(){return bd}()||ED)(S(e),n)}function rt(e,n=Le.Default){return we(e,Bl(n))}function Bl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Cd(e){const n=[];for(let t=0;t<e.length;t++){const r=S(e[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=Le.Default;for(let a=0;a<r.length;a++){const o=r[a],l=DD(o);"number"==typeof l?-1===l?i=o.token:s|=l:i=o}n.push(we(i,s))}else n.push(we(r))}return n}function ao(e,n){return e[wd]=n,e.prototype[wd]=n,e}function DD(e){return e[wd]}function si(e){return{toString:e}.toString()}var Vr=(()=>((Vr=Vr||{})[Vr.OnPush=0]="OnPush",Vr[Vr.Default=1]="Default",Vr))(),Sr=(()=>{return(e=Sr||(Sr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Sr;var e})();const ai={},lt=[],Vl=A({\u0275cmp:A}),Sd=A({\u0275dir:A}),Ed=A({\u0275pipe:A}),kp=A({\u0275mod:A}),oi=A({\u0275fac:A}),oo=A({__NG_ELEMENT_ID__:A});let ID=0;function Hl(e){return si(()=>{const n=Mp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Sr.Emulated,id:"c"+ID++,styles:e.styles||lt,_:null,schemas:e.schemas||null,tView:null};Pp(t);const r=e.dependencies;return t.directiveDefs=Ul(r,!1),t.pipeDefs=Ul(r,!0),t})}function kD(e){return ut(e)||on(e)}function OD(e){return null!==e}function Vi(e){return si(()=>({type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Op(e,n){if(null==e)return ai;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}function wn(e){return si(()=>{const n=Mp(e);return Pp(n),n})}function ut(e){return e[Vl]||null}function on(e){return e[Sd]||null}function On(e){return e[Ed]||null}function jn(e,n){const t=e[kp]||null;if(!t&&!0===n)throw new Error(`Type ${L(e)} does not have '\u0275mod' property.`);return t}function Mp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Op(e.inputs,n),outputs:Op(e.outputs)}}function Pp(e){e.features?.forEach(n=>n(e))}function Ul(e,n){if(!e)return null;const t=n?On:kD;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(OD)}const li=0,me=1,Ke=2,kt=3,Er=4,ms=5,ln=6,na=7,Rt=8,$l=9,jl=10,Qe=11,Dd=12,lo=13,Rp=14,ra=15,un=16,uo=17,ia=18,Hr=19,co=20,Lp=21,bt=22,Ad=1,Np=2,zl=7,Wl=8,sa=9,Cn=10;function zn(e){return Array.isArray(e)&&"object"==typeof e[Ad]}function Dr(e){return Array.isArray(e)&&!0===e[Ad]}function Td(e){return 0!=(4&e.flags)}function fo(e){return e.componentOffset>-1}function Gl(e){return 1==(1&e.flags)}function Ar(e){return!!e.template}function PD(e){return 0!=(256&e[Ke])}function ys(e,n){return e.hasOwnProperty(oi)?e[oi]:null}class ND{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function vs(){return Vp}function Vp(e){return e.type.prototype.ngOnChanges&&(e.setInput=BD),FD}function FD(){const e=Up(this),n=e?.current;if(n){const t=e.previous;if(t===ai)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function BD(e,n,t,r){const i=this.declaredInputs[t],s=Up(e)||function VD(e,n){return e[Hp]=n}(e,{previous:ai,current:null}),a=s.current||(s.current={}),o=s.previous,l=o[i];a[i]=new ND(l&&l.currentValue,n,o===ai),e[r]=n}vs.ngInherit=!0;const Hp="__ngSimpleChanges__";function Up(e){return e[Hp]||null}const lr=function(e,n,t){};function tn(e){for(;Array.isArray(e);)e=e[li];return e}function Wn(e,n){return tn(n[e.index])}function zp(e,n){return e.data[n]}function Mn(e,n){const t=n[e];return zn(t)?t:t[li]}function Kl(e){return 64==(64&e[Ke])}function Hi(e,n){return null==n?null:e[n]}function Wp(e){e[ia]=0}function xd(e,n){e[ms]+=n;let t=e,r=e[kt];for(;null!==r&&(1===n&&1===t[ms]||-1===n&&0===t[ms]);)r[ms]+=n,t=r,r=r[kt]}const $e={lFrame:tm(null),bindingsEnabled:!0};function qp(){return $e.bindingsEnabled}function ie(){return $e.lFrame.lView}function it(){return $e.lFrame.tView}function $t(e){return $e.lFrame.contextLView=e,e[Rt]}function jt(e){return $e.lFrame.contextLView=null,e}function nn(){let e=Kp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Kp(){return $e.lFrame.currentTNode}function Ur(e,n){const t=$e.lFrame;t.currentTNode=e,t.isParent=n}function kd(){return $e.lFrame.isParent}function Sn(){const e=$e.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function oa(){return $e.lFrame.bindingIndex++}function XD(e,n){const t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=e,Md(n)}function Md(e){$e.lFrame.currentDirectiveIndex=e}function Xp(){return $e.lFrame.currentQueryIndex}function Rd(e){$e.lFrame.currentQueryIndex=e}function eA(e){const n=e[me];return 2===n.type?n.declTNode:1===n.type?e[ln]:null}function Jp(e,n,t){if(t&Le.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&Le.Host||(i=eA(s),null===i||(s=s[ra],10&i.type))););if(null===i)return!1;n=i,e=s}const r=$e.lFrame=em();return r.currentTNode=n,r.lView=e,!0}function Ld(e){const n=em(),t=e[me];$e.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function em(){const e=$e.lFrame,n=null===e?null:e.child;return null===n?tm(e):n}function tm(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function nm(){const e=$e.lFrame;return $e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const rm=nm;function Nd(){const e=nm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function En(){return $e.lFrame.selectedIndex}function _s(e){$e.lFrame.selectedIndex=e}function Yl(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;a&&(e.contentHooks??(e.contentHooks=[])).push(-t,a),o&&((e.contentHooks??(e.contentHooks=[])).push(t,o),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(t,o)),l&&(e.viewHooks??(e.viewHooks=[])).push(-t,l),c&&((e.viewHooks??(e.viewHooks=[])).push(t,c),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(t,c)),null!=d&&(e.destroyHooks??(e.destroyHooks=[])).push(t,d)}}function Ql(e,n,t){im(e,n,3,t)}function Zl(e,n,t,r){(3&e[Ke])===t&&im(e,n,t,r)}function Fd(e,n){let t=e[Ke];(3&t)===n&&(t&=2047,t+=1,e[Ke]=t)}function im(e,n,t,r){const s=r??-1,a=n.length-1;let o=0;for(let l=void 0!==r?65535&e[ia]:0;l<a;l++)if("number"==typeof n[l+1]){if(o=n[l],null!=r&&o>=r)break}else n[l]<0&&(e[ia]+=65536),(o<s||-1==s)&&(uA(e,t,n,l),e[ia]=(4294901760&e[ia])+l+2),l++}function uA(e,n,t,r){const i=t[r]<0,s=t[r+1],o=e[i?-t[r]:t[r]];if(i){if(e[Ke]>>11<e[ia]>>16&&(3&e[Ke])===n){e[Ke]+=2048,lr(4,o,s);try{s.call(o)}finally{lr(5,o,s)}}}else{lr(4,o,s);try{s.call(o)}finally{lr(5,o,s)}}}const la=-1;class go{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Vd(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],a=t[r++],o=t[r++];e.setAttribute(n,a,o,s)}else{const s=i,a=t[++r];am(s)?e.setProperty(n,s,a):e.setAttribute(n,s,a),r++}}return r}function sm(e){return 3===e||4===e||6===e}function am(e){return 64===e.charCodeAt(0)}function po(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||om(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function om(e,n,t,r,i){let s=0,a=e.length;if(-1===n)a=-1;else for(;s<e.length;){const o=e[s++];if("number"==typeof o){if(o===n){a=-1;break}if(o>n){a=s-1;break}}}for(;s<e.length;){const o=e[s];if("number"==typeof o)break;if(o===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(e.splice(a,0,n),s=a+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function lm(e){return e!==la}function Xl(e){return 32767&e}function Jl(e,n){let t=function hA(e){return e>>16}(e),r=n;for(;t>0;)r=r[ra],t--;return r}let Hd=!0;function eu(e){const n=Hd;return Hd=e,n}const um=255,cm=5;let gA=0;const $r={};function tu(e,n){const t=dm(e,n);if(-1!==t)return t;const r=n[me];r.firstCreatePass&&(e.injectorIndex=n.length,Ud(r.data,e),Ud(n,null),Ud(r.blueprint,null));const i=$d(e,n),s=e.injectorIndex;if(lm(i)){const a=Xl(i),o=Jl(i,n),l=o[me].data;for(let c=0;c<8;c++)n[s+c]=o[a+c]|l[a+c]}return n[s+8]=i,s}function Ud(e,n){e.push(0,0,0,0,0,0,0,0,n)}function dm(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function $d(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=_m(i),null===r)return la;if(t++,i=i[ra],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return la}function jd(e,n,t){!function pA(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(oo)&&(r=t[oo]),null==r&&(r=t[oo]=gA++);const i=r&um;n.data[e+(i>>cm)]|=1<<i}(e,n,t)}function fm(e,n,t){if(t&Le.Optional||void 0!==e)return e;H()}function hm(e,n,t,r){if(t&Le.Optional&&void 0===r&&(r=null),!(t&(Le.Self|Le.Host))){const i=e[$l],s=or(void 0);try{return i?i.get(n,r,t&Le.Optional):Tp(n,r,t&Le.Optional)}finally{or(s)}}return fm(r,0,t)}function gm(e,n,t,r=Le.Default,i){if(null!==e){if(1024&n[Ke]){const a=function bA(e,n,t,r,i){let s=e,a=n;for(;null!==s&&null!==a&&1024&a[Ke]&&!(256&a[Ke]);){const o=pm(s,a,t,r|Le.Self,$r);if(o!==$r)return o;let l=s.parent;if(!l){const c=a[Lp];if(c){const d=c.get(t,$r,r);if(d!==$r)return d}l=_m(a),a=a[ra]}s=l}return i}(e,n,t,r,$r);if(a!==$r)return a}const s=pm(e,n,t,r,$r);if(s!==$r)return s}return hm(n,t,r,i)}function pm(e,n,t,r,i){const s=function vA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(oo)?e[oo]:void 0;return"number"==typeof n?n>=0?n&um:_A:n}(t);if("function"==typeof s){if(!Jp(n,e,r))return r&Le.Host?fm(i,0,r):hm(n,t,r,i);try{const a=s(r);if(null!=a||r&Le.Optional)return a;H()}finally{rm()}}else if("number"==typeof s){let a=null,o=dm(e,n),l=la,c=r&Le.Host?n[un][ln]:null;for((-1===o||r&Le.SkipSelf)&&(l=-1===o?$d(e,n):n[o+8],l!==la&&ym(r,!1)?(a=n[me],o=Xl(l),n=Jl(l,n)):o=-1);-1!==o;){const d=n[me];if(mm(s,o,d.data)){const g=yA(o,n,t,a,r,c);if(g!==$r)return g}l=n[o+8],l!==la&&ym(r,n[me].data[o+8]===c)&&mm(s,o,n)?(a=d,o=Xl(l),n=Jl(l,n)):o=-1}}return i}function yA(e,n,t,r,i,s){const a=n[me],o=a.data[e+8],d=nu(o,a,t,null==r?fo(o)&&Hd:r!=a&&0!=(3&o.type),i&Le.Host&&s===o);return null!==d?bs(n,a,d,o):$r}function nu(e,n,t,r,i){const s=e.providerIndexes,a=n.data,o=1048575&s,l=e.directiveStart,d=s>>20,m=i?o+d:e.directiveEnd;for(let y=r?o:o+d;y<m;y++){const b=a[y];if(y<l&&t===b||y>=l&&b.type===t)return y}if(i){const y=a[l];if(y&&Ar(y)&&y.type===t)return l}return null}function bs(e,n,t,r){let i=e[t];const s=n.data;if(function cA(e){return e instanceof go}(i)){const a=i;a.resolving&&function ee(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new I(-200,`Circular dependency in DI detected for ${e}${t}`)}(function R(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():j(e)}(s[t]));const o=eu(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?or(a.injectImpl):null;Jp(e,r,Le.Default);try{i=e[t]=a.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function lA(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const a=Vp(n);(t.preOrderHooks??(t.preOrderHooks=[])).push(e,a),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,a)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-e,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,s))}(t,s[t],n)}finally{null!==l&&or(l),eu(o),a.resolving=!1,rm()}}return i}function mm(e,n,t){return!!(t[n+(e>>cm)]&1<<e)}function ym(e,n){return!(e&Le.Self||e&Le.Host&&n)}class ua{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return gm(this._tNode,this._lView,n,Bl(r),t)}}function _A(){return new ua(nn(),ie())}function zd(e){return F(e)?()=>{const n=zd(S(e));return n&&n()}:ys(e)}function _m(e){const n=e[me],t=n.type;return 2===t?n.declTNode:1===t?e[ln]:null}const da="__parameters__";function ha(e,n,t){return si(()=>{const r=function Wd(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return o.annotation=a,o;function o(l,c,d){const g=l.hasOwnProperty(da)?l[da]:Object.defineProperty(l,da,{value:[]})[da];for(;g.length<=d;)g.push(null);return(g[d]=g[d]||[]).push(a),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Ne{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ws(e,n){e.forEach(t=>Array.isArray(t)?ws(t,n):n(t))}function wm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function iu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}const _o=ao(ha("Optional"),8),bo=ao(ha("SkipSelf"),4);var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();const Jd=new Map;let GA=0;const tf="__ngContext__";function cn(e,n){zn(n)?(e[tf]=n[co],function KA(e){Jd.set(e[co],e)}(n)):e[tf]=n}let nf;function rf(e,n){return nf(e,n)}function Eo(e){const n=e[kt];return Dr(n)?n[kt]:n}function sf(e){return $m(e[lo])}function af(e){return $m(e[Er])}function $m(e){for(;null!==e&&!Dr(e);)e=e[Er];return e}function ma(e,n,t,r,i){if(null!=r){let s,a=!1;Dr(r)?s=r:zn(r)&&(a=!0,r=r[li]);const o=tn(r);0===e&&null!==t?null==i?Km(n,t,o):Cs(n,t,o,i||null,!0):1===e&&null!==t?Cs(n,t,o,i||null,!0):2===e?function gf(e,n,t){const r=lu(e,n);r&&function gT(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,o,a):3===e&&n.destroyNode(o),null!=s&&function yT(e,n,t,r,i){const s=t[zl];s!==tn(t)&&ma(n,e,r,s,i);for(let o=Cn;o<t.length;o++){const l=t[o];Do(l[me],l,e,n,r,s)}}(n,e,s,t,i)}}function uf(e,n,t){return e.createElement(n,t)}function zm(e,n){const t=e[sa],r=t.indexOf(n),i=n[kt];512&n[Ke]&&(n[Ke]&=-513,xd(i,-1)),t.splice(r,1)}function cf(e,n){if(e.length<=Cn)return;const t=Cn+n,r=e[t];if(r){const i=r[uo];null!==i&&i!==e&&zm(i,r),n>0&&(e[t-1][Er]=r[Er]);const s=iu(e,Cn+n);!function aT(e,n){Do(e,n,n[Qe],2,null,null),n[li]=null,n[ln]=null}(r[me],r);const a=s[Hr];null!==a&&a.detachView(s[me]),r[kt]=null,r[Er]=null,r[Ke]&=-65}return r}function Wm(e,n){if(!(128&n[Ke])){const t=n[Qe];t.destroyNode&&Do(e,n,t,3,null,null),function uT(e){let n=e[lo];if(!n)return df(e[me],e);for(;n;){let t=null;if(zn(n))t=n[lo];else{const r=n[Cn];r&&(t=r)}if(!t){for(;n&&!n[Er]&&n!==e;)zn(n)&&df(n[me],n),n=n[kt];null===n&&(n=e),zn(n)&&df(n[me],n),t=n&&n[Er]}n=t}}(n)}}function df(e,n){if(!(128&n[Ke])){n[Ke]&=-65,n[Ke]|=128,function hT(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof go)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=i[s[a]],l=s[a+1];lr(4,o,l);try{l.call(o)}finally{lr(5,o,l)}}else{lr(4,i,s);try{s.call(i)}finally{lr(5,i,s)}}}}}(e,n),function fT(e,n){const t=e.cleanup,r=n[na];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[i=a]():r[i=-a].unsubscribe(),s+=2}else{const a=r[i=t[s+1]];t[s].call(a)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();n[na]=null}}(e,n),1===n[me].type&&n[Qe].destroy();const t=n[uo];if(null!==t&&Dr(n[kt])){t!==n[kt]&&zm(t,n);const r=n[Hr];null!==r&&r.detachView(e)}!function YA(e){Jd.delete(e[co])}(n)}}function Gm(e,n,t){return function qm(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[li];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Sr.None||s===Sr.Emulated)return null}return Wn(r,t)}}(e,n.parent,t)}function Cs(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Km(e,n,t){e.appendChild(n,t)}function Ym(e,n,t,r,i){null!==r?Cs(e,n,t,r,i):Km(e,n,t)}function lu(e,n){return e.parentNode(n)}let ff,yf,Xm=function Zm(e,n,t){return 40&e.type?Wn(e,t):null};function uu(e,n,t,r){const i=Gm(e,r,n),s=n[Qe],o=function Qm(e,n,t){return Xm(e,n,t)}(r.parent||n[ln],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Ym(s,i,t[l],o,!1);else Ym(s,i,t,o,!1);void 0!==ff&&ff(s,r,n,t,i)}function cu(e,n){if(null!==n){const t=n.type;if(3&t)return Wn(n,e);if(4&t)return hf(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return cu(e,r);{const i=e[n.index];return Dr(i)?hf(-1,i):tn(i)}}if(32&t)return rf(n,e)()||tn(e[n.index]);{const r=ey(e,n);return null!==r?Array.isArray(r)?r[0]:cu(Eo(e[un]),r):cu(e,n.next)}}return null}function ey(e,n){return null!==n?e[un][ln].projection[n.projection]:null}function hf(e,n){const t=Cn+e+1;if(t<n.length){const r=n[t],i=r[me].firstChild;if(null!==i)return cu(r,i)}return n[zl]}function pf(e,n,t,r,i,s,a){for(;null!=t;){const o=r[t.index],l=t.type;if(a&&0===n&&(o&&cn(tn(o),r),t.flags|=2),32!=(32&t.flags))if(8&l)pf(e,n,t.child,r,i,s,!1),ma(n,e,i,o,s);else if(32&l){const c=rf(t,r);let d;for(;d=c();)ma(n,e,i,d,s);ma(n,e,i,o,s)}else 16&l?ty(e,n,r,t,i,s):ma(n,e,i,o,s);t=a?t.projectionNext:t.next}}function Do(e,n,t,r,i,s){pf(t,r,e.firstChild,n,i,s,!1)}function ty(e,n,t,r,i,s){const a=t[un],l=a[ln].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ma(n,e,i,l[c],s);else pf(e,n,l,a[kt],i,s,!0)}function ny(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function ry(e,n,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Vd(e,n,r),null!==i&&ny(e,n,i),null!==s&&function _T(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}class ly{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${N})`}}const PT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Bt=(()=>((Bt=Bt||{})[Bt.NONE=0]="NONE",Bt[Bt.HTML=1]="HTML",Bt[Bt.STYLE=2]="STYLE",Bt[Bt.SCRIPT=3]="SCRIPT",Bt[Bt.URL=4]="URL",Bt[Bt.RESOURCE_URL=5]="RESOURCE_URL",Bt))();function be(e){const n=function Io(){const e=ie();return e&&e[Dd]}();return n?n.sanitize(Bt.URL,e)||"":function Ao(e,n){const t=function xT(e){return e instanceof ly&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${N})`)}return t===n}(e,"URL")?function Ui(e){return e instanceof ly?e.changingThisBreaksApplicationSecurity:e}(e):function _f(e){return(e=String(e)).match(PT)?e:"unsafe:"+e}(j(e))}const gu=new Ne("ENVIRONMENT_INITIALIZER"),yy=new Ne("INJECTOR",-1),vy=new Ne("INJECTOR_DEF_TYPES");class _y{get(n,t=io){if(t===io){const r=new Error(`NullInjectorError: No provider for ${L(n)}!`);throw r.name="NullInjectorError",r}return t}}function GT(...e){return{\u0275providers:by(0,e),\u0275fromNgModule:!0}}function by(e,...n){const t=[],r=new Set;let i;return ws(n,s=>{const a=s;Sf(a,t,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&wy(i,t),t}function wy(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];Ef(i,s=>{n.push(s)})}}function Sf(e,n,t,r){if(!(e=S(e)))return!1;let i=null,s=Js(e);const a=!s&&ut(e);if(s||a){if(a&&!a.standalone)return!1;i=e}else{const l=e.ngModule;if(s=Js(l),!s)return!1;i=l}const o=r.has(i);if(a){if(o)return!1;if(r.add(i),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of l)Sf(c,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let c;r.add(i);try{ws(s.imports,d=>{Sf(d,n,t,r)&&(c||(c=[]),c.push(d))})}finally{}void 0!==c&&wy(c,n)}if(!o){const c=ys(i)||(()=>new i);n.push({provide:i,useFactory:c,deps:lt},{provide:vy,useValue:i,multi:!0},{provide:gu,useValue:()=>we(i),multi:!0})}const l=s.providers;null==l||o||Ef(l,d=>{n.push(d)})}}return i!==e&&void 0!==e.providers}function Ef(e,n){for(let t of e)k(t)&&(t=t.\u0275providers),Array.isArray(t)?Ef(t,n):n(t)}const qT=A({provide:String,useValue:A});function Df(e){return null!==e&&"object"==typeof e&&qT in e}function Ss(e){return"function"==typeof e}const Af=new Ne("Set Injector scope."),pu={},YT={};let Tf;function mu(){return void 0===Tf&&(Tf=new _y),Tf}class fi{}class Ey extends fi{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xf(n,a=>this.processProvider(a)),this.records.set(yy,va(void 0,this)),i.has("environment")&&this.records.set(fi,va(void 0,this));const s=this.records.get(Af);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vy.multi,lt,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=ea(this),r=or(void 0);try{return n()}finally{ea(t),or(r)}}get(n,t=io,r=Le.Default){this.assertNotDestroyed(),r=Bl(r);const i=ea(this),s=or(void 0);try{if(!(r&Le.SkipSelf)){let o=this.records.get(n);if(void 0===o){const l=function eI(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ne}(n)&&at(n);o=l&&this.injectableDefInScope(l)?va(If(n),pu):null,this.records.set(n,o)}if(null!=o)return this.hydrate(n,o)}return(r&Le.Self?mu():this.parent).get(n,t=r&Le.Optional&&t===io?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Fl]=a[Fl]||[]).unshift(L(n)),i)throw a;return function AD(e,n,t,r){const i=e[Fl];throw n[Ip]&&i.unshift(n[Ip]),e.message=function TD(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==SD?e.slice(2):e;let i=L(n);if(Array.isArray(n))i=n.map(L).join(" -> ");else if("object"==typeof n){let s=[];for(let a in n)if(n.hasOwnProperty(a)){let o=n[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):L(o)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(CD,"\n  ")}`}("\n"+e.message,i,t,r),e[wD]=i,e[Fl]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{or(s),ea(i)}}resolveInjectorInitializers(){const n=ea(this),t=or(void 0);try{const r=this.get(gu.multi,lt,Le.Self);for(const i of r)i()}finally{ea(n),or(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(L(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(n){let t=Ss(n=S(n))?n:S(n&&n.provide);const r=function ZT(e){return Df(e)?va(void 0,e.useValue):va(function Dy(e,n,t){let r;if(Ss(e)){const i=S(e);return ys(i)||If(i)}if(Df(e))r=()=>S(e.useValue);else if(function Sy(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Cd(e.deps||[]));else if(function Cy(e){return!(!e||!e.useExisting)}(e))r=()=>we(S(e.useExisting));else{const i=S(e&&(e.useClass||e.provide));if(!function XT(e){return!!e.deps}(e))return ys(i)||If(i);r=()=>new i(...Cd(e.deps))}return r}(e),pu)}(n);if(Ss(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=va(void 0,pu,!0),i.factory=()=>Cd(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===pu&&(t.value=YT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function JT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=S(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function If(e){const n=at(e),t=null!==n?n.factory:ys(e);if(null!==t)return t;if(e instanceof Ne)throw new I(204,!1);if(e instanceof Function)return function QT(e){const n=e.length;if(n>0)throw function vo(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new I(204,!1);const t=function ar(e){return e&&(e[Fi]||e[Bi])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new I(204,!1)}function va(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function xf(e,n){for(const t of e)Array.isArray(t)?xf(t,n):t&&k(t)?xf(t.\u0275providers,n):n(t)}class tI{}class Ay{}class rI{resolveComponentFactory(n){throw function nI(e){const n=Error(`No component factory found for ${L(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let xo=(()=>{class e{}return e.NULL=new rI,e})();function iI(){return _a(nn(),ie())}function _a(e,n){return new $i(Wn(e,n))}let $i=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=iI,e})();function sI(e){return e instanceof $i?e.nativeElement:e}class ko{}let yu=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function aI(){const e=ie(),t=Mn(nn().index,e);return(zn(t)?t:e)[Qe]}(),e})(),oI=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null}),e})();class vu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const lI=new vu("15.2.10"),kf={},Of="ngOriginalError";function Mf(e){return e[Of]}class ba{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Mf(n);for(;t&&Mf(t);)t=Mf(t);return t||null}}function Iy(e){return e.ownerDocument}function hi(e){return e instanceof Function?e():e}function ky(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}const Oy="ng-template";function vI(e,n,t){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const a=e[r++];if(t&&"class"===s&&-1!==ky(a.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function My(e){return 4===e.type&&e.value!==Oy}function _I(e,n,t){return n===(4!==e.type||t?e.value:Oy)}function bI(e,n,t){let r=4;const i=e.attrs||[],s=function SI(e){for(let n=0;n<e.length;n++)if(sm(e[n]))return n;return e.length}(i);let a=!1;for(let o=0;o<n.length;o++){const l=n[o];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&!_I(e,l,t)||""===l&&1===n.length){if(Tr(r))return!1;a=!0}}else{const c=8&r?l:n[++o];if(8&r&&null!==e.attrs){if(!vI(e.attrs,c,t)){if(Tr(r))return!1;a=!0}continue}const g=wI(8&r?"class":l,i,My(e),t);if(-1===g){if(Tr(r))return!1;a=!0;continue}if(""!==c){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==ky(y,c,0)||2&r&&c!==m){if(Tr(r))return!1;a=!0}}}}else{if(!a&&!Tr(r)&&!Tr(l))return!1;if(a&&Tr(l))continue;a=!1,r=l|1&r}}return Tr(r)||a}function Tr(e){return 0==(1&e)}function wI(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const a=n[i];if(a===e)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=n[++i];for(;"string"==typeof o;)o=n[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function EI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Py(e,n,t=!1){for(let r=0;r<n.length;r++)if(bI(e,n[r],t))return!0;return!1}function Ry(e,n){return e?":not("+n.trim()+")":n}function AI(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let a=e[t];if("string"==typeof a)if(2&r){const o=e[++t];i+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Tr(a)&&(n+=Ry(s,i),i=""),r=a,s=s||!Tr(r);t++}return""!==i&&(n+=Ry(s,i)),n}const je={};function E(e){Ly(it(),ie(),En()+e,!1)}function Ly(e,n,t,r){if(!r)if(3==(3&n[Ke])){const s=e.preOrderCheckHooks;null!==s&&Ql(n,s,t)}else{const s=e.preOrderHooks;null!==s&&Zl(n,s,0,t)}_s(t)}function Vy(e,n=null,t=null,r){const i=Hy(e,n,t,r);return i.resolveInjectorInitializers(),i}function Hy(e,n=null,t=null,r,i=new Set){const s=[t||lt,GT(e)];return r=r||("object"==typeof e?void 0:L(e)),new Ey(s,n||mu(),r||null,i)}let gi=(()=>{class e{static create(t,r){if(Array.isArray(t))return Vy({name:""},r,t,"");{const i=t.name??"";return Vy({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=io,e.NULL=new _y,e.\u0275prov=ce({token:e,providedIn:"any",factory:()=>we(yy)}),e.__NG_ELEMENT_ID__=-1,e})();function Oe(e,n=Le.Default){const t=ie();return null===t?we(e,n):gm(nn(),t,S(e),n)}function Ky(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=e.data[s];Rd(t[r]),a.contentQueries(2,n[s],s)}}}function bu(e,n,t,r,i,s,a,o,l,c,d){const g=n.blueprint.slice();return g[li]=i,g[Ke]=76|r,(null!==d||e&&1024&e[Ke])&&(g[Ke]|=1024),Wp(g),g[kt]=g[ra]=e,g[Rt]=t,g[jl]=a||e&&e[jl],g[Qe]=o||e&&e[Qe],g[Dd]=l||e&&e[Dd]||null,g[$l]=c||e&&e[$l]||null,g[ln]=s,g[co]=function qA(){return GA++}(),g[Lp]=d,g[un]=2==n.type?e[un]:g,g}function Sa(e,n,t,r,i){let s=e.data[n];if(null===s)s=function Ff(e,n,t,r,i){const s=Kp(),a=kd(),l=e.data[n]=function XI(e,n,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(a?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,r,i),function ZD(){return $e.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function ho(){const e=$e.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Ur(s,!0),s}function Oo(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Bf(e,n,t){Ld(n);try{const r=e.viewQuery;null!==r&&qf(1,r,t);const i=e.template;null!==i&&Yy(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ky(e,n),e.staticViewQueries&&qf(2,e.viewQuery,t);const s=e.components;null!==s&&function YI(e,n){for(let t=0;t<n.length;t++)vx(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Ke]&=-5,Nd()}}function wu(e,n,t,r){const i=n[Ke];if(128!=(128&i)){Ld(n);try{Wp(n),function Qp(e){return $e.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Yy(e,n,t,2,r);const a=3==(3&i);if(a){const c=e.preOrderCheckHooks;null!==c&&Ql(n,c,null)}else{const c=e.preOrderHooks;null!==c&&Zl(n,c,0,null),Fd(n,0)}if(function mx(e){for(let n=sf(e);null!==n;n=af(n)){if(!n[Np])continue;const t=n[sa];for(let r=0;r<t.length;r++){const i=t[r];512&i[Ke]||xd(i[kt],1),i[Ke]|=512}}}(n),function px(e){for(let n=sf(e);null!==n;n=af(n))for(let t=Cn;t<n.length;t++){const r=n[t],i=r[me];Kl(r)&&wu(i,r,i.template,r[Rt])}}(n),null!==e.contentQueries&&Ky(e,n),a){const c=e.contentCheckHooks;null!==c&&Ql(n,c)}else{const c=e.contentHooks;null!==c&&Zl(n,c,1),Fd(n,1)}!function qI(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)_s(~i);else{const s=i,a=t[++r],o=t[++r];XD(a,s),o(2,n[s])}}}finally{_s(-1)}}(e,n);const o=e.components;null!==o&&function KI(e,n){for(let t=0;t<n.length;t++)yx(e,n[t])}(n,o);const l=e.viewQuery;if(null!==l&&qf(2,l,r),a){const c=e.viewCheckHooks;null!==c&&Ql(n,c)}else{const c=e.viewHooks;null!==c&&Zl(n,c,2),Fd(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ke]&=-41,512&n[Ke]&&(n[Ke]&=-513,xd(n[kt],-1))}finally{Nd()}}}function Yy(e,n,t,r,i){const s=En(),a=2&r;try{_s(-1),a&&n.length>bt&&Ly(e,n,bt,!1),lr(a?2:0,i),t(r,i)}finally{_s(s),lr(a?3:1,i)}}function Vf(e,n,t){if(Td(n)){const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}function Hf(e,n,t){qp()&&(function sx(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;fo(t)&&function fx(e,n,t){const r=Wn(n,e),i=Qy(t),s=e[jl],a=Cu(e,bu(e,i,null,t.onPush?32:16,r,n,s,s.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||tu(t,n),cn(r,n);const a=t.initialInputs;for(let o=i;o<s;o++){const l=e.data[o],c=bs(n,e,o,t);cn(c,n),null!==a&&hx(0,o-i,c,l,0,a),Ar(l)&&(Mn(t.index,n)[Rt]=bs(n,e,o,t))}}(e,n,t,Wn(t,n)),64==(64&t.flags)&&t0(e,n,t))}function Uf(e,n,t=Wn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],o=-1===a?t(n,e):e[a];e[i++]=o}}}function Qy(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=$f(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function $f(e,n,t,r,i,s,a,o,l,c){const d=bt+r,g=d+i,m=function QI(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:je);return t}(d,g),y="function"==typeof c?c():c;return m[me]={type:e,blueprint:m,template:t,queries:null,viewQuery:o,declTNode:n,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1}}function Zy(e,n,t,r){const i=r0(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&s0(e).push(r,i.length-1))}function Xy(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const s=e[i];null===r?Jy(t,n,i,s):r.hasOwnProperty(i)&&Jy(t,n,r[i],s)}return t}function Jy(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function jf(e,n,t,r){if(qp()){const i=null===r?null:{"":-1},s=function ox(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(Py(n,a.selectors,!1))if(r||(r=[]),Ar(a))if(null!==a.findHostDirectiveDefs){const o=[];i=i||new Map,a.findHostDirectiveDefs(a,o,i),r.unshift(...o,a),zf(e,n,o.length)}else r.unshift(a),zf(e,n,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(e,t);let a,o;null===s?a=o=null:[a,o]=s,null!==a&&e0(e,n,t,a,i,o),i&&function lx(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new I(-301,!1);r.push(n[i],s)}}}(t,r,i)}t.mergedAttrs=po(t.mergedAttrs,t.attrs)}function e0(e,n,t,r,i,s){for(let c=0;c<r.length;c++)jd(tu(t,n),e,r[c].type);!function cx(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let a=!1,o=!1,l=Oo(e,n,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];t.mergedAttrs=po(t.mergedAttrs,d.hostAttrs),dx(e,t,n,l,d),ux(l,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const g=d.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t.index),a=!0),!o&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t.index),o=!0),l++}!function JI(e,n,t){const i=n.directiveEnd,s=e.data,a=n.attrs,o=[];let l=null,c=null;for(let d=n.directiveStart;d<i;d++){const g=s[d],m=t?t.get(g):null,b=m?m.outputs:null;l=Xy(g.inputs,d,l,m?m.inputs:null),c=Xy(g.outputs,d,c,b);const D=null===l||null===a||My(n)?null:gx(l,d,a);o.push(D)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=o,n.inputs=l,n.outputs=c}(e,t,s)}function t0(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function JD(){return $e.lFrame.currentDirectiveIndex}();try{_s(s);for(let o=r;o<i;o++){const l=e.data[o],c=n[o];Md(o),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ax(l,c)}}finally{_s(-1),Md(a)}}function ax(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function zf(e,n,t){n.componentOffset=t,(e.components??(e.components=[])).push(n.index)}function ux(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ar(n)&&(t[""]=e)}}function dx(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=ys(i.type)),a=new go(s,Ar(i),Oe);e.blueprint[r]=a,t[r]=a,function rx(e,n,t,r,i){const s=i.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const o=~n.index;(function ix(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=o&&a.push(o),a.push(t,r,s)}}(e,n,r,Oo(e,t,i.hostVars,je),i)}function hx(e,n,t,r,i,s){const a=s[n];if(null!==a){const o=r.setInput;for(let l=0;l<a.length;){const c=a[l++],d=a[l++],g=a[l++];null!==o?r.setInput(t,g,c,d):t[d]=g}}}function gx(e,n,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const a=e[s];for(let o=0;o<a.length;o+=2)if(a[o]===n){r.push(s,a[o+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function n0(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null]}function yx(e,n){const t=Mn(n,e);if(Kl(t)){const r=t[me];48&t[Ke]?wu(r,t,r.template,t[Rt]):t[ms]>0&&Gf(t)}}function Gf(e){for(let r=sf(e);null!==r;r=af(r))for(let i=Cn;i<r.length;i++){const s=r[i];if(Kl(s))if(512&s[Ke]){const a=s[me];wu(a,s,a.template,s[Rt])}else s[ms]>0&&Gf(s)}const t=e[me].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Mn(t[r],e);Kl(i)&&i[ms]>0&&Gf(i)}}function vx(e,n){const t=Mn(n,e),r=t[me];(function _x(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),Bf(r,t,t[Rt])}function Cu(e,n){return e[lo]?e[Rp][Er]=n:e[lo]=n,e[Rp]=n,n}function Su(e){for(;e;){e[Ke]|=32;const n=Eo(e);if(PD(e)&&!n)return e;e=n}return null}function Eu(e,n,t,r=!0){const i=n[jl];i.begin&&i.begin();try{wu(e,n,e.template,t)}catch(a){throw r&&o0(n,a),a}finally{i.end&&i.end()}}function qf(e,n,t){Rd(0),n(e,t)}function r0(e){return e[na]||(e[na]=[])}function s0(e){return e.cleanup||(e.cleanup=[])}function o0(e,n){const t=e[$l],r=t?t.get(ba,null):null;r&&r.handleError(n)}function Kf(e,n,t,r,i){for(let s=0;s<t.length;){const a=t[s++],o=t[s++],l=n[a],c=e.data[a];null!==c.setInput?c.setInput(l,i,r,o):l[o]=i}}function pi(e,n,t){const r=function ql(e,n){return tn(n[e])}(n,e);!function jm(e,n,t){e.setValue(n,t)}(e[Qe],r,t)}function Du(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let a=0;a<n.length;a++){const o=n[a];"number"==typeof o?s=o:1==s?i=G(i,o):2==s&&(r=G(r,o+": "+n[++a]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Au(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];if(null!==s&&r.push(tn(s)),Dr(s))for(let o=Cn;o<s.length;o++){const l=s[o],c=l[me].firstChild;null!==c&&Au(l[me],l,c,r)}const a=t.type;if(8&a)Au(e,n,t.child,r);else if(32&a){const o=rf(t,n);let l;for(;l=o();)r.push(l)}else if(16&a){const o=ey(n,t);if(Array.isArray(o))r.push(...o);else{const l=Eo(n[un]);Au(l[me],l,o,r,!0)}}t=i?t.projectionNext:t.next}return r}class Mo{get rootNodes(){const n=this._lView,t=n[me];return Au(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(n){this._lView[Rt]=n}get destroyed(){return 128==(128&this._lView[Ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[kt];if(Dr(n)){const t=n[Wl],r=t?t.indexOf(this):-1;r>-1&&(cf(n,r),iu(t,r))}this._attachedToViewContainer=!1}Wm(this._lView[me],this._lView)}onDestroy(n){Zy(this._lView[me],this._lView,null,n)}markForCheck(){Su(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ke]&=-65}reattach(){this._lView[Ke]|=64}detectChanges(){Eu(this._lView[me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lT(e,n){Do(e,n,n[Qe],2,null,null)}(this._lView[me],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=n}}class bx extends Mo{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Eu(n[me],n,n[Rt],!1)}checkNoChanges(){}get context(){return null}}class l0 extends xo{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=ut(n);return new Po(t,this.ngModule)}}function u0(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class Cx{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Bl(r);const i=this.injector.get(n,kf,r);return i!==kf||t===kf?i:this.parentInjector.get(n,t,r)}}class Po extends Ay{get inputs(){return u0(this.componentDef.inputs)}get outputs(){return u0(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function TI(e){return e.map(AI).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof fi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new Cx(n,s):n,o=a.get(ko,null);if(null===o)throw new I(407,!1);const l=a.get(oI,null),c=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",g=r?function ZI(e,n,t){return e.selectRootElement(n,t===Sr.ShadowDom)}(c,r,this.componentDef.encapsulation):uf(c,d,function wx(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(d)),m=this.componentDef.onPush?288:272,y=$f(0,null,null,1,0,null,null,null,null,null),b=bu(null,y,null,m,null,null,o,c,l,a,null);let D,B;Ld(b);try{const Y=this.componentDef;let te,z=null;Y.findHostDirectiveDefs?(te=[],z=new Map,Y.findHostDirectiveDefs(Y,te,z),te.push(Y)):te=[Y];const ne=function Ex(e,n){const t=e[me],r=bt;return e[r]=n,Sa(t,r,2,"#host",null)}(b,g),le=function Dx(e,n,t,r,i,s,a,o){const l=i[me];!function Ax(e,n,t,r){for(const i of e)n.mergedAttrs=po(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Du(n,n.mergedAttrs,!0),null!==t&&ry(r,t,n))}(r,e,n,a);const c=s.createRenderer(n,t),d=bu(i,Qy(t),null,t.onPush?32:16,i[e.index],e,s,c,o||null,null,null);return l.firstCreatePass&&zf(l,e,r.length-1),Cu(i,d),i[e.index]=d}(ne,g,Y,te,b,o,c);B=zp(y,bt),g&&function Ix(e,n,t,r){if(r)Vd(e,t,["ng-version",lI.full]);else{const{attrs:i,classes:s}=function II(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!Tr(i))break;i=s}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Vd(e,t,i),s&&s.length>0&&ny(e,t,s.join(" "))}}(c,Y,g,r),void 0!==t&&function xx(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(B,this.ngContentSelectors,t),D=function Tx(e,n,t,r,i,s){const a=nn(),o=i[me],l=Wn(a,i);e0(o,i,a,t,null,r);for(let d=0;d<t.length;d++)cn(bs(i,o,a.directiveStart+d,a),i);t0(o,i,a),l&&cn(l,i);const c=bs(i,o,a.directiveStart+a.componentOffset,a);if(e[Rt]=i[Rt]=c,null!==s)for(const d of s)d(c,n);return Vf(o,a,e),c}(le,Y,te,z,b,[kx]),Bf(y,b,null)}finally{Nd()}return new Sx(this.componentType,D,_a(B,b),b,B)}}class Sx extends tI{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new bx(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const s=this._rootLView;Kf(s[me],s,i,n,t),Su(Mn(this._tNode.index,s))}}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function kx(){const e=nn();Yl(ie()[me],e)}function Tu(e){return!!Qf(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Qf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zr(e,n,t){return e[n]=t}function Ro(e,n){return e[n]}function dn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Es(e,n,t,r){const i=dn(e,n,t);return dn(e,n+1,r)||i}function cr(e,n,t,r,i,s){const a=Es(e,n,t,r);return Es(e,n+2,i,s)||a}function oe(e,n,t,r,i,s,a,o){const l=ie(),c=it(),d=e+bt,g=c.firstCreatePass?function zx(e,n,t,r,i,s,a,o,l){const c=n.consts,d=Sa(n,e,4,a||null,Hi(c,o));jf(n,t,d,Hi(c,l)),Yl(n,d);const g=d.tView=$f(2,d,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c);return null!==n.queries&&(n.queries.template(n,d),g.queries=n.queries.embeddedTView(d)),d}(d,c,l,n,t,r,i,s,a):c.data[d];Ur(g,!1);const m=l[Qe].createComment("");uu(c,l,m,g),cn(m,l),Cu(l,l[d]=n0(m,l,m,g)),Gl(g)&&Hf(c,l,g),null!=a&&Uf(l,g,o)}function w(e,n,t){const r=ie();return dn(r,oa(),n)&&function qn(e,n,t,r,i,s,a,o){const l=Wn(n,t);let d,c=n.inputs;!o&&null!=c&&(d=c[r])?(Kf(e,t,d,r,i),fo(n)&&function tx(e,n){const t=Mn(n,e);16&t[Ke]||(t[Ke]|=32)}(t,n.index)):3&n.type&&(r=function ex(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,n.value||"",r):i,s.setProperty(l,r,i))}(it(),function Ct(){const e=$e.lFrame;return zp(e.tView,e.selectedIndex)}(),r,e,n,r[Qe],t,!1),w}function Xf(e,n,t,r,i){const a=i?"class":"style";Kf(e,t,n.inputs[a],a,r)}function q(e,n,t,r){const i=ie(),s=it(),a=bt+e,o=i[Qe],l=s.firstCreatePass?function qx(e,n,t,r,i,s){const a=n.consts,l=Sa(n,e,2,r,Hi(a,i));return jf(n,t,l,Hi(a,s)),null!==l.attrs&&Du(l,l.attrs,!1),null!==l.mergedAttrs&&Du(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(a,s,i,n,t,r):s.data[a],c=i[a]=uf(o,n,function oA(){return $e.lFrame.currentNamespace}()),d=Gl(l);return Ur(l,!0),ry(o,c,l),32!=(32&l.flags)&&uu(s,i,c,l),0===function WD(){return $e.lFrame.elementDepthCount}()&&cn(c,i),function GD(){$e.lFrame.elementDepthCount++}(),d&&(Hf(s,i,l),Vf(s,l,i)),null!==r&&Uf(i,l),q}function J(){let e=nn();kd()?function Od(){$e.lFrame.isParent=!1}():(e=e.parent,Ur(e,!1));const n=e;!function qD(){$e.lFrame.elementDepthCount--}();const t=it();return t.firstCreatePass&&(Yl(t,e),Td(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function dA(e){return 0!=(8&e.flags)}(n)&&Xf(t,n,ie(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function fA(e){return 0!=(16&e.flags)}(n)&&Xf(t,n,ie(),n.stylesWithoutHost,!1),J}function de(e,n,t,r){return q(e,n,t,r),J(),de}function Ln(){return ie()}function xu(e){return!!e&&"function"==typeof e.then}const A0=function D0(e){return!!e&&"function"==typeof e.subscribe};function Zt(e,n,t,r){const i=ie(),s=it(),a=nn();return function I0(e,n,t,r,i,s,a){const o=Gl(r),c=e.firstCreatePass&&s0(e),d=n[Rt],g=r0(n);let m=!0;if(3&r.type||a){const D=Wn(r,n),B=a?a(D):D,Y=g.length,te=a?ne=>a(tn(ne[r.index])):r.index;let z=null;if(!a&&o&&(z=function Yx(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const o=n[na],l=i[s+2];return o.length>l?o[l]:null}"string"==typeof a&&(s+=2)}return null}(e,n,i,r.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1;else{s=k0(r,n,d,s,!1);const ne=t.listen(B,i,s);g.push(s,ne),c&&c.push(i,te,Y,Y+1)}}else s=k0(r,n,d,s,!1);const y=r.outputs;let b;if(m&&null!==y&&(b=y[i])){const D=b.length;if(D)for(let B=0;B<D;B+=2){const le=n[b[B]][b[B+1]].subscribe(s),Re=g.length;g.push(s,le),c&&c.push(i,r.index,Re,-(Re+1))}}}(s,i,i[Qe],a,e,n,r),Zt}function x0(e,n,t,r){try{return lr(6,n,t),!1!==t(r)}catch(i){return o0(e,i),!1}finally{lr(7,n,t)}}function k0(e,n,t,r,i){return function s(a){if(a===Function)return r;Su(e.componentOffset>-1?Mn(e.index,n):n);let l=x0(n,t,r,a),c=s.__ngNextListenerFn__;for(;c;)l=x0(n,t,c,a)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function re(e=1){return function tA(e){return($e.lFrame.contextLView=function nA(e,n){for(;e>0;)n=n[ra],e--;return n}(e,$e.lFrame.contextLView))[Rt]}(e)}function Ce(e,n=""){const t=ie(),r=it(),i=e+bt,s=r.firstCreatePass?Sa(r,i,1,n,null):r.data[i],a=t[i]=function lf(e,n){return e.createText(n)}(t[Qe],n);uu(r,t,a,s),Ur(s,!1)}function No(e){return ze("",e,""),No}function ze(e,n,t){const r=ie(),i=function Da(e,n,t,r){return dn(e,oa(),t)?n+j(t)+r:je}(r,e,n,t);return i!==je&&pi(r,En(),i),ze}const La="en-US";let Cv=La;class Na{}class Kv{}class Yv extends Na{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new l0(this);const r=jn(n);this._bootstrapComponents=hi(r.bootstrap),this._r3Injector=Hy(n,t,[{provide:Na,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],L(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class fh extends Kv{constructor(n){super(),this.moduleType=n}create(n){return new Yv(this.moduleType,n)}}class UO extends Na{constructor(n,t,r){super(),this.componentFactoryResolver=new l0(this),this.instance=null;const i=new Ey([...n,{provide:Na,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],t||mu(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Nu(e,n,t=null){return new UO(e,n,t).injector}let $O=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=by(0,t.type),i=r.length>0?Nu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ce({token:e,providedIn:"environment",factory:()=>new e(we(fi))}),e})();function hh(e){e.getStandaloneInjector=n=>n.get($O).getOrCreateStandaloneInjector(e)}function Ae(e,n,t){const r=Sn()+e,i=ie();return i[r]===je?zr(i,r,t?n.call(t):n()):Ro(i,r)}function W(e,n,t,r){return function r_(e,n,t,r,i,s){const a=n+t;return dn(e,a,i)?zr(e,a+1,s?r.call(s,i):r(i)):$o(e,a+1)}(ie(),Sn(),e,n,t,r)}function Kn(e,n,t,r,i){return function i_(e,n,t,r,i,s,a){const o=n+t;return Es(e,o,i,s)?zr(e,o+2,a?r.call(a,i,s):r(i,s)):$o(e,o+2)}(ie(),Sn(),e,n,t,r,i)}function kr(e,n,t,r,i,s){return function s_(e,n,t,r,i,s,a,o){const l=n+t;return function Iu(e,n,t,r,i){const s=Es(e,n,t,r);return dn(e,n+2,i)||s}(e,l,i,s,a)?zr(e,l+3,o?r.call(o,i,s,a):r(i,s,a)):$o(e,l+3)}(ie(),Sn(),e,n,t,r,i,s)}function Fa(e,n,t,r,i,s,a){return function a_(e,n,t,r,i,s,a,o,l){const c=n+t;return cr(e,c,i,s,a,o)?zr(e,c+4,l?r.call(l,i,s,a,o):r(i,s,a,o)):$o(e,c+4)}(ie(),Sn(),e,n,t,r,i,s,a)}function $o(e,n){const t=e[n];return t===je?void 0:t}function ph(e){return n=>{setTimeout(e,void 0,n)}}const An=class lM extends Hn{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),a=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),s=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(s=ph(s),i&&(i=ph(i)),a&&(a=ph(a)));const o=super.subscribe({next:i,error:s,complete:a});return n instanceof sn&&n.add(o),o}};function uM(){return this._results[Symbol.iterator]()}class mh{get changes(){return this._changes||(this._changes=new An)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=mh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=uM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function ur(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function CA(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mi=(()=>{class e{}return e.__NG_ELEMENT_ID__=fM,e})();const cM=mi,dM=class extends cM{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n,t){const r=this._declarationTContainer.tView,i=bu(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,t||null);i[uo]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Hr];return null!==a&&(i[Hr]=a.createEmbeddedView(r)),Bf(r,i,n),new Mo(i)}};function fM(){return Fu(nn(),ie())}function Fu(e,n){return 4&e.type?new dM(n,e,_a(e,n)):null}let Or=(()=>{class e{}return e.__NG_ELEMENT_ID__=hM,e})();function hM(){return c_(nn(),ie())}const gM=Or,l_=class extends gM{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const n=$d(this._hostTNode,this._hostLView);if(lm(n)){const t=Jl(n,this._hostLView),r=Xl(n);return new ua(t[me].data[r+8],t)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=u_(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=n.createEmbeddedView(t||{},s);return this.insert(a,i),a}createComponent(n,t,r,i,s){const a=n&&!function yo(e){return"function"==typeof e}(n);let o;if(a)o=t;else{const g=t||{};o=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=a?n:new Po(ut(n)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(a?c:this.parentInjector).get(fi,null);m&&(s=m)}const d=l.create(c,i,void 0,s);return this.insert(d.hostView,o),d}insert(n,t){const r=n._lView,i=r[me];if(function zD(e){return Dr(e[kt])}(r)){const d=this.indexOf(n);if(-1!==d)this.detach(d);else{const g=r[kt],m=new l_(g,g[ln],g[kt]);m.detach(m.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;!function cT(e,n,t,r){const i=Cn+r,s=t.length;r>0&&(t[i-1][Er]=n),r<s-Cn?(n[Er]=t[i],wm(t,Cn+r,n)):(t.push(n),n[Er]=null),n[kt]=t;const a=n[uo];null!==a&&t!==a&&function dT(e,n){const t=e[sa];n[un]!==n[kt][kt][un]&&(e[Np]=!0),null===t?e[sa]=[n]:t.push(n)}(a,n);const o=n[Hr];null!==o&&o.insertView(e),n[Ke]|=64}(i,r,a,s);const o=hf(s,a),l=r[Qe],c=lu(l,a[zl]);return null!==c&&function oT(e,n,t,r,i,s){r[li]=i,r[ln]=n,Do(e,r,t,1,i,s)}(i,a[ln],l,r,c,o),n.attachToViewContainerRef(),wm(yh(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=u_(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=cf(this._lContainer,t);r&&(iu(yh(this._lContainer),t),Wm(r[me],r))}detach(n){const t=this._adjustIndex(n,-1),r=cf(this._lContainer,t);return r&&null!=iu(yh(this._lContainer),t)?new Mo(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function u_(e){return e[Wl]}function yh(e){return e[Wl]||(e[Wl]=[])}function c_(e,n){let t;const r=n[e.index];if(Dr(r))t=r;else{let i;if(8&e.type)i=tn(r);else{const s=n[Qe];i=s.createComment("");const a=Wn(e,n);Cs(s,lu(s,a),i,function pT(e,n){return e.nextSibling(n)}(s,a),!1)}n[e.index]=t=n0(r,n,i,e),Cu(n,t)}return new l_(t,e,n)}class vh{constructor(n){this.queryList=n,this.matches=null}clone(){return new vh(this.queryList)}setDirty(){this.queryList.setDirty()}}class _h{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new _h(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==m_(n,t).matches&&this.queries[t].setDirty()}}class d_{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class bh{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new bh(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class wh{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new wh(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,t,pM(t,s)),this.matchTNodeWithReadOption(n,t,nu(t,n,s,!1,!1))}else r===mi?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,nu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===$i||i===Or||i===mi&&4&t.type)this.addMatch(t.index,-2);else{const s=nu(t,n,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function pM(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function yM(e,n,t,r){return-1===t?function mM(e,n){return 11&e.type?_a(e,n):4&e.type?Fu(e,n):null}(n,e):-2===t?function vM(e,n,t){return t===$i?_a(n,e):t===mi?Fu(n,e):t===Or?c_(n,e):void 0}(e,n,r):bs(e,e[me],t,n)}function f_(e,n,t,r){const i=n[Hr].queries[r];if(null===i.matches){const s=e.data,a=t.matches,o=[];for(let l=0;l<a.length;l+=2){const c=a[l];o.push(c<0?null:yM(n,s[c],a[l+1],t.metadata.read))}i.matches=o}return i.matches}function Ch(e,n,t,r){const i=e.queries.getByIndex(t),s=i.matches;if(null!==s){const a=f_(e,n,i,t);for(let o=0;o<s.length;o+=2){const l=s[o];if(l>0)r.push(a[o/2]);else{const c=s[o+1],d=n[-l];for(let g=Cn;g<d.length;g++){const m=d[g];m[uo]===m[kt]&&Ch(m[me],m,c,r)}if(null!==d[sa]){const g=d[sa];for(let m=0;m<g.length;m++){const y=g[m];Ch(y[me],y,c,r)}}}}}return r}function yi(e){const n=ie(),t=it(),r=Xp();Rd(r+1);const i=m_(t,r);if(e.dirty&&function jD(e){return 4==(4&e[Ke])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Ch(t,n,r,[]):f_(t,n,i,r);e.reset(s,sI),e.notifyOnChanges()}return!0}return!1}function zi(e,n,t){const r=it();r.firstCreatePass&&(function p_(e,n,t){null===e.queries&&(e.queries=new bh),e.queries.track(new wh(n,t))}(r,new d_(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function g_(e,n,t){const r=new mh(4==(4&t));Zy(e,n,r,r.destroy),null===n[Hr]&&(n[Hr]=new _h),n[Hr].queries.push(new vh(r))}(r,ie(),n)}function vi(){return function _M(e,n){return e[Hr].queries[n].queryList}(ie(),Xp())}function m_(e,n){return e.queries.getByIndex(n)}function Vu(...e){}const Hu=new Ne("Application Initializer");let Uu=(()=>{class e{constructor(t){this.appInits=t,this.resolve=Vu,this.reject=Vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(xu(s))t.push(s);else if(A0(s)){const a=new Promise((o,l)=>{s.subscribe({complete:o,error:l})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(we(Hu,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wo=new Ne("AppId",{providedIn:"root",factory:function R_(){return`${Ih()}${Ih()}${Ih()}`}});function Ih(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const L_=new Ne("Platform Initializer"),N_=new Ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),F_=new Ne("AnimationModuleType");let UM=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const _i=new Ne("LocaleId",{providedIn:"root",factory:()=>rt(_i,Le.Optional|Le.SkipSelf)||function $M(){return typeof $localize<"u"&&$localize.locale||La}()});class zM{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let B_=(()=>{class e{compileModuleSync(t){return new fh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=hi(jn(t).declarations).reduce((a,o)=>{const l=ut(o);return l&&a.push(new Po(l)),a},[]);return new zM(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const qM=(()=>Promise.resolve(0))();function xh(e){typeof Zone>"u"?qM.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class St{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new An(!1),this.onMicrotaskEmpty=new An(!1),this.onStable=new An(!1),this.onError=new An(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function KM(){let e=_t.requestAnimationFrame,n=_t.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function ZM(e){const n=()=>{!function QM(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(_t,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Oh(e),e.isCheckStableRunning=!0,kh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Oh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,o)=>{try{return U_(e),t.invokeTask(i,s,a,o)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),$_(e)}},onInvoke:(t,r,i,s,a,o,l)=>{try{return U_(e),t.invoke(i,s,a,o,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),$_(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Oh(e),kh(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!St.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(St.isInAngularZone())throw new I(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,n,YM,Vu,Vu);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const YM={};function kh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Oh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function U_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $_(e){e._nesting--,kh(e)}class XM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new An,this.onMicrotaskEmpty=new An,this.onStable=new An,this.onError=new An}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const j_=new Ne(""),$u=new Ne("");let Rh,Mh=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rh||(function JM(e){Rh=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{St.assertNotInAngularZone(),xh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xh(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(we(St),we(Ph),we($u))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ph=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Rh?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const bi=!1;let Wi=null;const z_=new Ne("AllowMultipleToken"),Lh=new Ne("PlatformDestroyListeners"),W_=new Ne("appBootstrapListener");class G_{constructor(n,t){this.name=n,this.token=t}}function K_(e,n,t=[]){const r=`Platform: ${n}`,i=new Ne(r);return(s=[])=>{let a=Nh();if(!a||a.injector.get(z_,!1)){const o=[...t,...s,{provide:i,useValue:!0}];e?e(o):function nP(e){if(Wi&&!Wi.get(z_,!1))throw new I(400,!1);Wi=e;const n=e.get(Q_);(function q_(e){const n=e.get(L_,null);n&&n.forEach(t=>t())})(e)}(function Y_(e=[],n){return gi.create({name:n,providers:[{provide:Af,useValue:"platform"},{provide:Lh,useValue:new Set([()=>Wi=null])},...e]})}(o,r))}return function iP(e){const n=Nh();if(!n)throw new I(401,!1);return n}()}}function Nh(){return Wi?.get(Q_)??null}let Q_=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function X_(e,n){let t;return t="noop"===e?new XM:("zone.js"===e?void 0:e)||new St(n),t}(r?.ngZone,function Z_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:St,useValue:i}];return i.run(()=>{const a=gi.create({providers:s,parent:this.injector,name:t.moduleType.name}),o=t.create(a),l=o.injector.get(ba,null);if(!l)throw new I(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:d=>{l.handleError(d)}});o.onDestroy(()=>{ju(this._modules,o),c.unsubscribe()})}),function J_(e,n,t){try{const r=t();return xu(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const c=o.injector.get(Uu);return c.runInitializers(),c.donePromise.then(()=>(function Sv(e){ve(e,"Expected localeId to be defined"),"string"==typeof e&&(Cv=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(_i,La)||La),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=e1({},r);return function eP(e,n,t){const r=new fh(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Go);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Lh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(we(gi))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function e1(e,n){return Array.isArray(n)?n.reduce(e1,e):{...e,...n}}let Go=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Tt(o=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{o.next(this._stable),o.complete()})}),a=new Tt(o=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{St.assertNotInAngularZone(),xh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,o.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{St.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{o.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function v(...e){const n=Br(e),t=function Ll(e,n){return"number"==typeof en(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?xn(r[0]):fe(t)(_(r,n)):$n}(s,a.pipe(function T(e={}){const{connector:n=(()=>new Hn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let a,o,l,c=0,d=!1,g=!1;const m=()=>{o?.unsubscribe(),o=void 0},y=()=>{m(),a=l=void 0,d=g=!1},b=()=>{const D=a;y(),D?.unsubscribe()};return ht((D,B)=>{c++,!g&&!d&&m();const Y=l=l??n();B.add(()=>{c--,0===c&&!g&&!d&&(o=M(b,i))}),Y.subscribe(B),!a&&c>0&&(a=new an({next:te=>Y.next(te),error:te=>{g=!0,m(),o=M(y,t,te),Y.error(te)},complete:()=>{d=!0,m(),o=M(y,r),Y.complete()}}),xn(D).subscribe(a))})(s)}}()))}bootstrap(t,r){const i=t instanceof Ay;if(!this._injector.get(Uu).done){!i&&function ta(e){const n=ut(e)||on(e)||On(e);return null!==n&&n.standalone}(t);throw new I(405,bi)}let a;a=i?t:this._injector.get(xo).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const o=function tP(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Na),c=a.create(gi.NULL,[],r||a.selector,o),d=c.location.nativeElement,g=c.injector.get(j_,null);return g?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),ju(this.components,c),g?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ju(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(W_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ju(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(we(St),we(fi),we(ba))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ju(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let Fh=(()=>{class e{}return e.__NG_ELEMENT_ID__=aP,e})();function aP(e){return function oP(e,n,t){if(fo(e)&&!t){const r=Mn(e.index,n);return new Mo(r,r)}return 47&e.type?new Mo(n[un],n):null}(nn(),ie(),16==(16&e))}class s1{constructor(){}supports(n){return Tu(n)}create(n){return new hP(n)}}const fP=(e,n)=>n;class hP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||fP}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<o1(r,i,s)?t:r,o=o1(a,i,s),l=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const c=o-i,d=l-i;if(c!=d){for(let m=0;m<c;m++){const y=m<s.length?s[m]:s[m]=0,b=y+m;d<=b&&b<c&&(s[m]=y+1)}s[a.previousIndex]=d-c}}o!==l&&n(a,o,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Tu(n))throw new I(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let o=0;o<this.length;o++)s=n[o],a=this._trackByFn(o,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,o),r=!0),t=t._next}else i=0,function Ux(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,o=>{a=this._trackByFn(i,o),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,o,a,i)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new gP(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new a1),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a1),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class gP{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pP{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class a1{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new pP,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function o1(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class l1{constructor(){}supports(n){return n instanceof Map||Qf(n)}create(){return new mP}}class mP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Qf(n)))throw new I(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new yP(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class yP{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function u1(){return new Gu([new s1])}let Gu=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||u1()),deps:[[e,new bo,new _o]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new I(901,!1)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:u1}),e})();function c1(){return new qo([new l1])}let qo=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||c1()),deps:[[e,new bo,new _o]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new I(901,!1)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:c1}),e})();const bP=K_(null,"core",[]);let wP=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(we(Go))},e.\u0275mod=Vi({type:e}),e.\u0275inj=Se({}),e})(),jh=null;function Is(){return jh}class EP{}const fn=new Ne("DocumentToken");let zh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return function DP(){return we(d1)}()},providedIn:"platform"}),e})();const AP=new Ne("Location Initialized");let d1=(()=>{class e extends zh{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Is().getBaseHref(this._doc)}onPopState(t){const r=Is().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Is().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){f1()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){f1()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(we(fn))},e.\u0275prov=ce({token:e,factory:function(){return function TP(){return new d1(we(fn))}()},providedIn:"platform"}),e})();function f1(){return!!window.history.pushState}function Wh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function h1(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function wi(e){return e&&"?"!==e[0]?"?"+e:e}let xs=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return rt(p1)},providedIn:"root"}),e})();const g1=new Ne("appBaseHref");let p1=(()=>{class e extends xs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??rt(fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+wi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const a=this.prepareExternalUrl(i+wi(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){const a=this.prepareExternalUrl(i+wi(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(we(zh),we(g1,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),IP=(()=>{class e extends xs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Wh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+wi(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+wi(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(we(zh),we(g1,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Gh=(()=>{class e{constructor(t){this._subject=new An,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function OP(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(h1(m1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+wi(r))}normalize(t){return e.stripTrailingSlash(function kP(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,m1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=wi,e.joinWithSlash=Wh,e.stripTrailingSlash=h1,e.\u0275fac=function(t){return new(t||e)(we(xs))},e.\u0275prov=ce({token:e,factory:function(){return function xP(){return new Gh(we(xs))}()},providedIn:"root"}),e})();function m1(e){return e.replace(/\/index.html$/,"")}const ng=/\s+/,D1=[];let A1=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=D1,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ng):D1}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ng):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ng).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(Oe(Gu),Oe(qo),Oe($i),Oe(yu))},e.\u0275dir=wn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class mR{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let x1=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mR(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const o=r.get(s);r.move(o,a),k1(o,i)}});for(let i=0,s=r.length;i<s;i++){const o=r.get(i).context;o.index=i,o.count=s,o.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{k1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(Oe(Or),Oe(mi),Oe(Gu))},e.\u0275dir=wn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function k1(e,n){e.context.$implicit=n.item}let O1=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new vR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){M1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){M1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(Oe(Or),Oe(mi))},e.\u0275dir=wn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class vR{constructor(){this.$implicit=null,this.ngIf=null}}function M1(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${L(n)}'.`)}let R1=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),a=-1===i.indexOf("-")?void 0:Pn.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,i,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Oe($i),Oe(qo),Oe(yu))},e.\u0275dir=wn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),N1=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Vi({type:e}),e.\u0275inj=Se({}),e})();let qR=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new KR(we(fn),window)}),e})();class KR{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function YR(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=B1(this.window.history)||B1(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function B1(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class SL extends EP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ug extends SL{static makeCurrent(){!function SP(e){jh||(jh=e)}(new ug)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function EL(){return Zo=Zo||document.querySelector("base"),Zo?Zo.getAttribute("href"):null}();return null==t?null:function DL(e){ic=ic||document.createElement("a"),ic.setAttribute("href",e);const n=ic.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function gR(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let ic,Zo=null;const j1=new Ne("TRANSITION_ID"),TL=[{provide:Hu,useFactory:function AL(e,n,t){return()=>{t.get(Uu).donePromise.then(()=>{const r=Is(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[j1,fn,gi],multi:!0}];let xL=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const sc=new Ne("EventManagerPlugins");let ac=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const a=i[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(we(sc),we(St))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class z1{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=Is().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let W1=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Xo=(()=>{class e extends W1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(we(fn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dg=/%COMP%/g,K1=new Ne("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Y1(e,n){return n.flat(100).map(t=>t.replace(dg,e))}function Q1(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let oc=(()=>{class e{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new fg(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof J1?i.applyToHost(t):i instanceof hg&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const a=this.eventManager,o=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Sr.Emulated:s=new J1(a,o,r,this.appId,l);break;case Sr.ShadowDom:return new NL(a,o,t,r);default:s=new hg(a,o,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(we(ac),we(Xo),we(Wo),we(K1))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class fg{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(cg[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(X1(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(X1(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=cg[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=cg[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Pn.DashCase|Pn.Important)?n.style.setProperty(t,r,i&Pn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Pn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,Q1(r)):this.eventManager.addEventListener(n,t,Q1(r))}}function X1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class NL extends fg{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Y1(i.id,i.styles);for(const a of s){const o=document.createElement("style");o.textContent=a,this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hg extends fg{constructor(n,t,r,i,s=r.id){super(n),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Y1(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class J1 extends hg{constructor(n,t,r,i,s){const a=i+"-"+r.id;super(n,t,r,s,a),this.contentAttr=function PL(e){return"_ngcontent-%COMP%".replace(dg,e)}(a),this.hostAttr=function RL(e){return"_nghost-%COMP%".replace(dg,e)}(a)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let FL=(()=>{class e extends z1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(we(fn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const eb=["alt","control","meta","shift"],BL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let HL=(()=>{class e extends z1{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Is().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let a="",o=r.indexOf("code");if(o>-1&&(r.splice(o,1),a="code."),eb.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),a+=c+".")}),a+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(t,r){let i=BL[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),eb.forEach(a=>{a!==i&&(0,VL[a])(t)&&(s+=a+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(we(fn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const zL=K_(bP,"browser",[{provide:N_,useValue:"browser"},{provide:L_,useValue:function UL(){ug.makeCurrent()},multi:!0},{provide:fn,useFactory:function jL(){return function ST(e){yf=e}(document),document},deps:[]}]),rb=new Ne(""),ib=[{provide:$u,useClass:class IL{addToWindow(n){_t.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},_t.getAllAngularTestabilities=()=>n.getAllTestabilities(),_t.getAllAngularRootElements=()=>n.getAllRootElements(),_t.frameworkStabilizers||(_t.frameworkStabilizers=[]),_t.frameworkStabilizers.push(r=>{const i=_t.getAllAngularTestabilities();let s=i.length,a=!1;const o=function(l){a=a||l,s--,0==s&&r(a)};i.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Is().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:j_,useClass:Mh,deps:[St,Ph,$u]},{provide:Mh,useClass:Mh,deps:[St,Ph,$u]}],sb=[{provide:Af,useValue:"root"},{provide:ba,useFactory:function $L(){return new ba},deps:[]},{provide:sc,useClass:FL,multi:!0,deps:[fn,St,N_]},{provide:sc,useClass:HL,multi:!0,deps:[fn]},{provide:oc,useClass:oc,deps:[ac,Xo,Wo,K1]},{provide:ko,useExisting:oc},{provide:W1,useExisting:Xo},{provide:Xo,useClass:Xo,deps:[fn]},{provide:ac,useClass:ac,deps:[sc,St]},{provide:class QR{},useClass:xL,deps:[]},[]];let ab=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Wo,useValue:t.appId},{provide:j1,useExisting:Wo},TL]}}}return e.\u0275fac=function(t){return new(t||e)(we(rb,12))},e.\u0275mod=Vi({type:e}),e.\u0275inj=Se({providers:[...sb,...ib],imports:[N1,wP]}),e})(),ob=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(we(fn))},e.\u0275prov=ce({token:e,factory:function(t){let r=null;return r=t?new t:function GL(){return new ob(we(fn))}(),r},providedIn:"root"}),e})();function Pe(...e){return _(e,Br(e))}typeof window<"u"&&window;class hr extends Hn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const lc=Lr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:XL}=Array,{getPrototypeOf:JL,prototype:eN,keys:tN}=Object;const{isArray:iN}=Array;function cb(...e){const n=Br(e),t=function Zs(e){return he(en(e))?e.pop():void 0}(e),{args:r,keys:i}=function nN(e){if(1===e.length){const n=e[0];if(XL(n))return{args:n,keys:null};if(function rN(e){return e&&"object"==typeof e&&JL(e)===eN}(n)){const t=tN(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return _([],n);const s=new Tt(function lN(e,n,t=wr){return r=>{db(n,()=>{const{length:i}=e,s=new Array(i);let a=i,o=i;for(let l=0;l<i;l++)db(n,()=>{const c=_(e[l],n);let d=!1;c.subscribe(Mt(r,g=>{s[l]=g,d||(d=!0,o--),o||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,n,i?a=>function oN(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,a):wr));return t?s.pipe(function aN(e){return Je(n=>function sN(e,n){return iN(n)?e(...n):e(n)}(e,n))}(t)):s}function db(e,n,t){e?sr(t,e,n):n()}function mg(...e){return function uN(){return fe(1)}()(_(e,Br(e)))}function fb(e){return new Tt(n=>{xn(e()).subscribe(n)})}function Jo(e,n){const t=he(e)?e:()=>e,r=i=>i.error(t());return new Tt(n?i=>n.schedule(r,0,i):r)}function yg(){return ht((e,n)=>{let t=null;e._refCount++;const r=Mt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class hb extends Tt{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,zs(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new sn;const t=this.getSubject();n.add(this.source.subscribe(Mt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=sn.EMPTY)}return n}refCount(){return yg()(this)}}function qr(e,n){return ht((t,r)=>{let i=null,s=0,a=!1;const o=()=>a&&!i&&r.complete();t.subscribe(Mt(r,l=>{i?.unsubscribe();let c=0;const d=s++;xn(e(l,d)).subscribe(i=Mt(r,g=>r.next(n?n(l,g,d,c++):g),()=>{i=null,o()}))},()=>{a=!0,o()}))})}function Ha(e){return e<=0?()=>$n:ht((n,t)=>{let r=0;n.subscribe(Mt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function qi(e,n){return ht((t,r)=>{let i=0;t.subscribe(Mt(r,s=>e.call(n,s,i++)&&r.next(s)))})}function uc(e){return ht((n,t)=>{let r=!1;n.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function gb(e=dN){return ht((n,t)=>{let r=!1;n.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function dN(){return new lc}function Ki(e,n){const t=arguments.length>=2;return r=>r.pipe(e?qi((i,s)=>e(i,s,r)):wr,Ha(1),t?uc(n):gb(()=>new lc))}function ks(e,n){return he(n)?nt(e,n,1):nt(e,1)}function hn(e,n,t){const r=he(e)||n||t?{next:e,error:n,complete:t}:e;return r?ht((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let o=!0;i.subscribe(Mt(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;o=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;o=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;o&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):wr}function Yi(e){return ht((n,t)=>{let s,r=null,i=!1;r=n.subscribe(Mt(t,void 0,void 0,a=>{s=xn(e(a,Yi(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function pb(e,n){return ht(function fN(e,n,t,r,i){return(s,a)=>{let o=t,l=n,c=0;s.subscribe(Mt(a,d=>{const g=c++;l=o?e(l,d,g):(o=!0,d),r&&a.next(l)},i&&(()=>{o&&a.next(l),a.complete()})))}}(e,n,arguments.length>=2,!0))}function vg(e){return e<=0?()=>$n:ht((n,t)=>{let r=[];n.subscribe(Mt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mb(e,n){const t=arguments.length>=2;return r=>r.pipe(e?qi((i,s)=>e(i,s,r)):wr,vg(1),t?uc(n):gb(()=>new lc))}function _g(e){return ht((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const We="primary",el=Symbol("RouteTitle");class pN{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ua(e){return new pN(e)}function mN(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],o=e[s];if(a.startsWith(":"))i[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Kr(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!yb(e[i],n[i]))return!1;return!0}function yb(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function vb(e){return Array.prototype.concat.apply([],e)}function _b(e){return e.length>0?e[e.length-1]:null}function rn(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function Qi(e){return A0(e)?e:xu(e)?_(Promise.resolve(e)):Pe(e)}const cc=!1,vN={exact:function Cb(e,n,t){if(!Os(e.segments,n.segments)||!dc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!Cb(e.children[r],n.children[r],t))return!1;return!0},subset:Sb},bb={exact:function _N(e,n){return Kr(e,n)},subset:function bN(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>yb(e[t],n[t]))},ignored:()=>!0};function wb(e,n,t){return vN[t.paths](e.root,n.root,t.matrixParams)&&bb[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function Sb(e,n,t){return Eb(e,n,n.segments,t)}function Eb(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Os(i,t)||n.hasChildren()||!dc(i,t,r))}if(e.segments.length===t.length){if(!Os(e.segments,t)||!dc(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!Sb(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Os(e.segments,i)&&dc(e.segments,i,r)&&e.children[We])&&Eb(e.children[We],n,s,r)}}function dc(e,n,t){return n.every((r,i)=>bb[t](e[i].parameters,r.parameters))}class Zi{constructor(n=new Xe([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ua(this.queryParams)),this._queryParamMap}toString(){return SN.serialize(this)}}class Xe{constructor(n,t){this.segments=n,this.children=t,this.parent=null,rn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fc(this)}}class tl{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ua(this.parameters)),this._parameterMap}toString(){return Tb(this)}}function Os(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let nl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return new bg},providedIn:"root"}),e})();class bg{parse(n){const t=new MN(n);return new Zi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${rl(n.root,!0)}`,r=function AN(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${hc(t)}=${hc(i)}`).join("&"):`${hc(t)}=${hc(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function EN(e){return encodeURI(e)}(n.fragment)}`:""}`}}const SN=new bg;function fc(e){return e.segments.map(n=>Tb(n)).join("/")}function rl(e,n){if(!e.hasChildren())return fc(e);if(n){const t=e.children[We]?rl(e.children[We],!1):"",r=[];return rn(e.children,(i,s)=>{s!==We&&r.push(`${s}:${rl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function CN(e,n){let t=[];return rn(e.children,(r,i)=>{i===We&&(t=t.concat(n(r,i)))}),rn(e.children,(r,i)=>{i!==We&&(t=t.concat(n(r,i)))}),t}(e,(r,i)=>i===We?[rl(e.children[We],!1)]:[`${i}:${rl(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[We]?`${fc(e)}/${t[0]}`:`${fc(e)}/(${t.join("//")})`}}function Db(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hc(e){return Db(e).replace(/%3B/gi,";")}function wg(e){return Db(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gc(e){return decodeURIComponent(e)}function Ab(e){return gc(e.replace(/\+/g,"%20"))}function Tb(e){return`${wg(e.path)}${function DN(e){return Object.keys(e).map(n=>`;${wg(n)}=${wg(e[n])}`).join("")}(e.parameters)}`}const TN=/^[^\/()?;=#]+/;function pc(e){const n=e.match(TN);return n?n[0]:""}const IN=/^[^=?&#]+/,kN=/^[^&#]+/;class MN{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[We]=new Xe(n,t)),r}parseSegment(){const n=pc(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new I(4009,cc);return this.capture(n),new tl(gc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=pc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=pc(this.remaining);i&&(r=i,this.capture(r))}n[gc(t)]=gc(r)}parseQueryParam(n){const t=function xN(e){const n=e.match(IN);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function ON(e){const n=e.match(kN);return n?n[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=Ab(t),s=Ab(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,cc);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=We);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[We]:new Xe([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new I(4011,cc)}}function Cg(e){return e.segments.length>0?new Xe([],{[We]:e}):e}function mc(e){const n={};for(const r of Object.keys(e.children)){const s=mc(e.children[r]);(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function PN(e){if(1===e.numberOfChildren&&e.children[We]){const n=e.children[We];return new Xe(e.segments.concat(n.segments),n.children)}return e}(new Xe(e.segments,n))}function Ms(e){return e instanceof Zi}const Sg=!1;function RN(e,n,t,r,i){if(0===t.length)return $a(n.root,n.root,n.root,r,i);const s=function Mb(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ob(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const o={};return rn(s.outlets,(l,c)=>{o[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:o}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((o,l)=>{0==l&&"."===o||(0==l&&""===o?t=!0:".."===o?n++:""!=o&&i.push(o))}),i):[...i,s]},[]);return new Ob(t,n,r)}(t);return s.toRoot()?$a(n.root,n.root,new Xe([],{}),r,i):function a(l){const c=function NN(e,n,t,r){if(e.isAbsolute)return new ja(n.root,!0,0);if(-1===r)return new ja(t,t===n.root,0);return function Pb(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,Sg&&"Invalid number of '../'");i=r.segments.length}return new ja(r,!1,i-s)}(t,r+(il(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,n,e.snapshot?._urlSegment,l),d=c.processChildren?za(c.segmentGroup,c.index,s.commands):Eg(c.segmentGroup,c.index,s.commands);return $a(n.root,c.segmentGroup,d,r,i)}(e.snapshot?._lastPathIndex)}function il(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function sl(e){return"object"==typeof e&&null!=e&&e.outlets}function $a(e,n,t,r,i){let a,s={};r&&rn(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),a=e===n?t:kb(e,n,t);const o=Cg(mc(a));return new Zi(o,s,i)}function kb(e,n,t){const r={};return rn(e.children,(i,s)=>{r[s]=i===n?t:kb(i,n,t)}),new Xe(e.segments,r)}class Ob{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&il(r[0]))throw new I(4003,Sg&&"Root segment cannot have matrix parameters");const i=r.find(sl);if(i&&i!==_b(r))throw new I(4004,Sg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ja{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function Eg(e,n,t){if(e||(e=new Xe([],{})),0===e.segments.length&&e.hasChildren())return za(e,n,t);const r=function BN(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const a=e.segments[i],o=t[r];if(sl(o))break;const l=`${o}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Lb(l,c,a))return s;r+=2}else{if(!Lb(l,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Xe(e.segments.slice(0,r.pathIndex),{});return s.children[We]=new Xe(e.segments.slice(r.pathIndex),e.children),za(s,0,i)}return r.match&&0===i.length?new Xe(e.segments,{}):r.match&&!e.hasChildren()?Dg(e,n,t):r.match?za(e,0,i):Dg(e,n,t)}function za(e,n,t){if(0===t.length)return new Xe(e.segments,{});{const r=function FN(e){return sl(e[0])?e[0].outlets:{[We]:e}}(t),i={};if(!r[We]&&e.children[We]&&1===e.numberOfChildren&&0===e.children[We].segments.length){const s=za(e.children[We],n,t);return new Xe(e.segments,s.children)}return rn(r,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[a]=Eg(e.children[a],n,s))}),rn(e.children,(s,a)=>{void 0===r[a]&&(i[a]=s)}),new Xe(e.segments,i)}}function Dg(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(sl(s)){const l=VN(s.outlets);return new Xe(r,l)}if(0===i&&il(t[0])){r.push(new tl(e.segments[n].path,Rb(t[0]))),i++;continue}const a=sl(s)?s.outlets[We]:`${s}`,o=i<t.length-1?t[i+1]:null;a&&o&&il(o)?(r.push(new tl(a,Rb(o))),i+=2):(r.push(new tl(a,{})),i++)}return new Xe(r,{})}function VN(e){const n={};return rn(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=Dg(new Xe([],{}),0,t))}),n}function Rb(e){const n={};return rn(e,(t,r)=>n[r]=`${t}`),n}function Lb(e,n,t){return e==t.path&&Kr(n,t.parameters)}const al="imperative";class Yr{constructor(n,t){this.id=n,this.url=t}}class Ag extends Yr{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends Yr{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yc extends Yr{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vc extends Yr{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Tg extends Yr{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HN extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UN extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $N extends Yr{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jN extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zN extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WN{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class GN{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qN{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KN{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YN{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QN{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nb{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let JN=(()=>{class e{createUrlTree(t,r,i,s,a,o){return RN(t||r.root,i,s,a,o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),t2=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(n){return JN.\u0275fac(n)},providedIn:"root"}),e})();class Fb{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Ig(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Ig(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=xg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return xg(n,this._root).map(t=>t.value)}}function Ig(e,n){if(e===n.value)return n;for(const t of n.children){const r=Ig(e,t);if(r)return r}return null}function xg(e,n){if(e===n.value)return[n];for(const t of n.children){const r=xg(e,t);if(r.length)return r.unshift(n),r}return[]}class Si{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wa(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class Bb extends Fb{constructor(n,t){super(n),this.snapshot=t,kg(this,n)}toString(){return this.snapshot.toString()}}function Vb(e,n){const t=function n2(e,n){const a=new _c([],{},{},"",{},We,n,null,e.root,-1,{});return new Ub("",new Si(a,[]))}(e,n),r=new hr([new tl("",{})]),i=new hr({}),s=new hr({}),a=new hr({}),o=new hr(""),l=new Ga(r,i,a,o,s,We,n,t.root);return l.snapshot=t.root,new Bb(new Si(l,[]),t)}class Ga{constructor(n,t,r,i,s,a,o,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=o,this.title=this.data?.pipe(Je(c=>c[el]))??Pe(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(n=>Ua(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(n=>Ua(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hb(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function r2(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _c{get title(){return this.data?.[el]}constructor(n,t,r,i,s,a,o,l,c,d,g){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=o,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ua(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ua(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ub extends Fb{constructor(n,t){super(t),this.url=n,kg(this,t)}toString(){return $b(this._root)}}function kg(e,n){n.value._routerState=e,n.children.forEach(t=>kg(e,t))}function $b(e){const n=e.children.length>0?` { ${e.children.map($b).join(", ")} } `:"";return`${e.value}${n}`}function Og(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Kr(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),Kr(n.params,t.params)||e.params.next(t.params),function yN(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Kr(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),Kr(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Mg(e,n){const t=Kr(e.params,n.params)&&function wN(e,n){return Os(e,n)&&e.every((t,r)=>Kr(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Mg(e.parent,n.parent))}function ol(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function s2(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ol(e,r,i);return ol(e,r)})}(e,n,t);return new Si(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(o=>ol(e,o)),a}}const r=function a2(e){return new Ga(new hr(e.url),new hr(e.params),new hr(e.queryParams),new hr(e.fragment),new hr(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>ol(e,s));return new Si(r,i)}}const Pg="ngNavigationCancelingError";function jb(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Ms(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=zb(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function zb(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Pg]=!0,r.cancellationCode=n,t&&(r.url=t),r}function Wb(e){return Gb(e)&&Ms(e.url)}function Gb(e){return e&&e[Pg]}class o2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ll,this.attachRef=null}}let ll=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new o2,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bc=!1;let Rg=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new An,this.deactivateEvents=new An,this.attachEvents=new An,this.detachEvents=new An,this.parentContexts=rt(ll),this.location=rt(Or),this.changeDetector=rt(Fh),this.environmentInjector=rt(fi)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,bc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,bc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,bc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,bc);this._activatedRoute=t;const i=this.location,a=t.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,l=new l2(t,o,i.injector);if(r&&function u2(e){return!!e.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(a);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=wn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vs]}),e})();class l2{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Ga?this.route:n===ll?this.childContexts:this.parent.get(n,t)}}let Lg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Hl({type:e,selectors:[["ng-component"]],standalone:!0,features:[hh],decls:1,vars:0,template:function(t,r){1&t&&de(0,"router-outlet")},dependencies:[Rg],encapsulation:2}),e})();function qb(e,n){return e.providers&&!e._injector&&(e._injector=Nu(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Fg(e){const n=e.children&&e.children.map(Fg),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==We&&(t.component=Lg),t}function gr(e){return e.outlet||We}function Kb(e,n){const t=e.filter(r=>gr(r)===n);return t.push(...e.filter(r=>gr(r)!==n)),t}function ul(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class g2{constructor(n,t,r,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Og(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Wa(t);n.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),rn(i,(s,a)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Wa(n);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:o})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Wa(n);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const i=Wa(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new QN(s.value.snapshot))}),n.children.length&&this.forwardEvent(new KN(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(Og(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const o=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),Og(o.route.value),this.activateChildRoutes(n,null,a.children)}else{const o=ul(i.snapshot),l=o?.get(xo)??null;a.attachRef=null,a.route=i,a.resolver=l,a.injector=o,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}class Yb{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class wc{constructor(n,t){this.component=n,this.route=t}}function p2(e,n,t){const r=e._root;return cl(r,n?n._root:null,t,[r.value])}function qa(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function bn(e){return null!==at(e)}(e)?n.get(e):e:r}function cl(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wa(n);return e.children.forEach(a=>{(function y2(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,o=t?t.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function v2(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Os(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Os(e.url,n.url)||!Kr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mg(e,n)||!Kr(e.queryParams,n.queryParams);default:return!Mg(e,n)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Yb(r)):(s.data=a.data,s._resolvedData=a._resolvedData),cl(e,n,s.component?o?o.children:null:t,r,i),l&&o&&o.outlet&&o.outlet.isActivated&&i.canDeactivateChecks.push(new wc(o.outlet.component,a))}else a&&dl(n,o,i),i.canActivateChecks.push(new Yb(r)),cl(e,null,s.component?o?o.children:null:t,r,i)})(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),rn(s,(a,o)=>dl(a,t.getContext(o),i)),i}function dl(e,n,t){const r=Wa(e),i=e.value;rn(r,(s,a)=>{dl(s,i.component?n?n.children.getContext(a):null:n,t)}),t.canDeactivateChecks.push(new wc(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function fl(e){return"function"==typeof e}function Bg(e){return e instanceof lc||"EmptyError"===e?.name}const Cc=Symbol("INITIAL_VALUE");function Ka(){return qr(e=>cb(e.map(n=>n.pipe(Ha(1),function cN(...e){const n=Br(e);return ht((t,r)=>{(n?mg(e,t,n):mg(e,t)).subscribe(r)})}(Cc)))).pipe(Je(n=>{for(const t of n)if(!0!==t){if(t===Cc)return Cc;if(!1===t||t instanceof Zi)return t}return!0}),qi(n=>n!==Cc),Ha(1)))}function Qb(e){return function Xa(...e){return Ja(e)}(hn(n=>{if(Ms(n))throw jb(0,n)}),Je(n=>!0===n))}const Vg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zb(e,n,t,r,i){const s=Hg(e,n,t);return s.matched?function L2(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Pe(i.map(a=>{const o=qa(a,e);return Qi(function E2(e){return e&&fl(e.canMatch)}(o)?o.canMatch(n,t):e.runInContext(()=>o(n,t)))})).pipe(Ka(),Qb()):Pe(!0)}(r=qb(n,r),n,t).pipe(Je(a=>!0===a?s:{...Vg})):Pe(s)}function Hg(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Vg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||mN)(t,e,n);if(!i)return{...Vg};const s={};rn(i.posParams,(o,l)=>{s[l]=o.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function Sc(e,n,t,r){if(t.length>0&&function B2(e,n,t){return t.some(r=>Ec(e,n,r)&&gr(r)!==We)}(e,t,r)){const s=new Xe(n,function F2(e,n,t,r){const i={};i[We]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const s of t)if(""===s.path&&gr(s)!==We){const a=new Xe([],{});a._sourceSegment=e,a._segmentIndexShift=n.length,i[gr(s)]=a}return i}(e,n,r,new Xe(t,e.children)));return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function V2(e,n,t){return t.some(r=>Ec(e,n,r))}(e,t,r)){const s=new Xe(e.segments,function N2(e,n,t,r,i){const s={};for(const a of r)if(Ec(e,t,a)&&!i[gr(a)]){const o=new Xe([],{});o._sourceSegment=e,o._segmentIndexShift=n.length,s[gr(a)]=o}return{...i,...s}}(e,n,t,r,e.children));return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:t}}const i=new Xe(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:t}}function Ec(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function Xb(e,n,t,r){return!!(gr(e)===r||r!==We&&Ec(n,t,e))&&("**"===e.path||Hg(n,e,t).matched)}function Jb(e,n,t){return 0===n.length&&!e.children[t]}const Dc=!1;class Ac{constructor(n){this.segmentGroup=n||null}}class ew{constructor(n){this.urlTree=n}}function hl(e){return Jo(new Ac(e))}function tw(e){return Jo(new ew(e))}class j2{constructor(n,t,r,i,s){this.injector=n,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const n=Sc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xe(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,We).pipe(Je(s=>this.createUrlTree(mc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yi(s=>{if(s instanceof ew)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ac?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,We).pipe(Je(i=>this.createUrlTree(mc(i),n.queryParams,n.fragment))).pipe(Yi(i=>{throw i instanceof Ac?this.noMatchError(i):i}))}noMatchError(n){return new I(4002,Dc)}createUrlTree(n,t,r){const i=Cg(n);return new Zi(i,t,r)}expandSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(Je(s=>new Xe([],s))):this.expandSegment(n,r,t,r.segments,i,!0)}expandChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return _(i).pipe(ks(s=>{const a=r.children[s],o=Kb(t,s);return this.expandSegmentGroup(n,o,a,s).pipe(Je(l=>({segment:l,outlet:s})))}),pb((s,a)=>(s[a.outlet]=a.segment,s),{}),mb())}expandSegment(n,t,r,i,s,a){return _(r).pipe(ks(o=>this.expandSegmentAgainstRoute(n,t,r,o,i,s,a).pipe(Yi(c=>{if(c instanceof Ac)return Pe(null);throw c}))),Ki(o=>!!o),Yi((o,l)=>{if(Bg(o))return Jb(t,i,s)?Pe(new Xe([],{})):hl(t);throw o}))}expandSegmentAgainstRoute(n,t,r,i,s,a,o){return Xb(i,t,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,s,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a):hl(t):hl(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tw(s):this.lineralizeSegments(r,s).pipe(nt(a=>{const o=new Xe(a,{});return this.expandSegment(n,o,t,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a){const{matched:o,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=Hg(t,i,s);if(!o)return hl(t);const g=this.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?tw(g):this.lineralizeSegments(i,g).pipe(nt(m=>this.expandSegment(n,t,r,m.concat(c),a,!1)))}matchSegmentAgainstRoute(n,t,r,i,s){return"**"===r.path?(n=qb(r,n),r.loadChildren?(r._loadedRoutes?Pe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(Je(o=>(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,new Xe(i,{})))):Pe(new Xe(i,{}))):Zb(t,r,i,n).pipe(qr(({matched:a,consumedSegments:o,remainingSegments:l})=>a?this.getChildConfig(n=r._injector??n,r,i).pipe(nt(d=>{const g=d.injector??n,m=d.routes,{segmentGroup:y,slicedSegments:b}=Sc(t,o,l,m),D=new Xe(y.segments,y.children);if(0===b.length&&D.hasChildren())return this.expandChildren(g,m,D).pipe(Je(z=>new Xe(o,z)));if(0===m.length&&0===b.length)return Pe(new Xe(o,{}));const B=gr(r)===s;return this.expandSegment(g,D,m,b,B?We:s,!0).pipe(Je(te=>new Xe(o.concat(te.segments),te.children)))})):hl(t)))}getChildConfig(n,t,r){return t.children?Pe({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Pe({routes:t._loadedRoutes,injector:t._loadedInjector}):function R2(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Pe(!0):Pe(i.map(a=>{const o=qa(a,e);return Qi(function b2(e){return e&&fl(e.canLoad)}(o)?o.canLoad(n,t):e.runInContext(()=>o(n,t)))})).pipe(Ka(),Qb())}(n,t,r).pipe(nt(i=>i?this.configLoader.loadChildren(n,t).pipe(hn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function U2(e){return Jo(zb(Dc,3))}())):Pe({routes:[],injector:n})}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Pe(r);if(i.numberOfChildren>1||!i.children[We])return n.redirectTo,Jo(new I(4e3,Dc));i=i.children[We]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new Zi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return rn(n,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const o=i.substring(1);r[s]=t[o]}else r[s]=i}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let a={};return rn(t.children,(o,l)=>{a[l]=this.createSegmentGroup(n,o,r,i)}),new Xe(s,a)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,Dc);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}class W2{}class K2{constructor(n,t,r,i,s,a,o){this.injector=n,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o}recognize(){const n=Sc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,We).pipe(Je(t=>{if(null===t)return null;const r=new _c([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},We,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Si(r,t),s=new Ub(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const t=n.value,r=Hb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i)}processChildren(n,t,r){return _(Object.keys(r.children)).pipe(ks(i=>{const s=r.children[i],a=Kb(t,i);return this.processSegmentGroup(n,a,s,i)}),pb((i,s)=>i&&s?(i.push(...s),i):null),function hN(e,n=!1){return ht((t,r)=>{let i=0;t.subscribe(Mt(r,s=>{const a=e(s,i++);(a||n)&&r.next(s),!a&&r.complete()}))})}(i=>null!==i),uc(null),mb(),Je(i=>{if(null===i)return null;const s=rw(i);return function Y2(e){e.sort((n,t)=>n.value.outlet===We?-1:t.value.outlet===We?1:n.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(n,t,r,i,s){return _(t).pipe(ks(a=>this.processSegmentAgainstRoute(a._injector??n,a,r,i,s)),Ki(a=>!!a),Yi(a=>{if(Bg(a))return Jb(r,i,s)?Pe([]):Pe(null);throw a}))}processSegmentAgainstRoute(n,t,r,i,s){if(t.redirectTo||!Xb(t,r,i,s))return Pe(null);let a;if("**"===t.path){const o=i.length>0?_b(i).parameters:{},l=sw(r)+i.length;a=Pe({snapshot:new _c(i,o,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aw(t),gr(t),t.component??t._loadedComponent??null,t,iw(r),l,ow(t)),consumedSegments:[],remainingSegments:[]})}else a=Zb(r,t,i,n).pipe(Je(({matched:o,consumedSegments:l,remainingSegments:c,parameters:d})=>{if(!o)return null;const g=sw(r)+l.length;return{snapshot:new _c(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aw(t),gr(t),t.component??t._loadedComponent??null,t,iw(r),g,ow(t)),consumedSegments:l,remainingSegments:c}}));return a.pipe(qr(o=>{if(null===o)return Pe(null);const{snapshot:l,consumedSegments:c,remainingSegments:d}=o;n=t._injector??n;const g=t._loadedInjector??n,m=function Q2(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:y,slicedSegments:b}=Sc(r,c,d,m.filter(B=>void 0===B.redirectTo));if(0===b.length&&y.hasChildren())return this.processChildren(g,m,y).pipe(Je(B=>null===B?null:[new Si(l,B)]));if(0===m.length&&0===b.length)return Pe([new Si(l,[])]);const D=gr(t)===s;return this.processSegment(g,m,y,b,D?We:s).pipe(Je(B=>null===B?null:[new Si(l,B)]))}))}}function Z2(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function rw(e){const n=[],t=new Set;for(const r of e){if(!Z2(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=rw(r.children);n.push(new Si(r.value,i))}return n.filter(r=>!t.has(r))}function iw(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function sw(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function aw(e){return e.data||{}}function ow(e){return e.resolve||{}}function lw(e){return"string"==typeof e.title||null===e.title}function Ug(e){return qr(n=>{const t=e(n);return t?_(t).pipe(Je(()=>n)):Pe(n)})}const Ya=new Ne("ROUTES");let $g=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(B_)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qi(t.loadComponent()).pipe(Je(cw),hn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),_g(()=>{this.componentLoaders.delete(t)})),i=new hb(r,()=>new Hn).pipe(yg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Je(o=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,d=!1;Array.isArray(o)?c=o:(l=o.create(t).injector,c=vb(l.get(Ya,[],Le.Self|Le.Optional)));return{routes:c.map(Fg),injector:l}}),_g(()=>{this.childrenLoaders.delete(r)})),a=new hb(s,()=>new Hn).pipe(yg());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(t){return Qi(t()).pipe(Je(cw),nt(r=>r instanceof Kv||Array.isArray(r)?Pe(r):_(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cw(e){return function sF(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Ic=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Hn,this.configLoader=rt($g),this.environmentInjector=rt(fi),this.urlSerializer=rt(nl),this.rootContexts=rt(ll),this.navigationId=0,this.afterPreactivation=()=>Pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new GN(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new WN(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:al,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qi(r=>0!==r.id),Je(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),qr(r=>{let i=!1,s=!1;return Pe(r).pipe(hn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qr(a=>{const o=t.browserUrlTree.toString(),l=!t.navigated||a.extractedUrl.toString()!==o||o!==t.currentUrlTree.toString();if(!l&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new vc(a.id,t.serializeUrl(r.rawUrl),d,0)),t.rawUrlTree=a.rawUrl,a.resolve(null),$n}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return dw(a.source)&&(t.browserUrlTree=a.extractedUrl),Pe(a).pipe(qr(d=>{const g=this.transitions?.getValue();return this.events.next(new Ag(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),g!==this.transitions?.getValue()?$n:Promise.resolve(d)}),function z2(e,n,t,r){return qr(i=>function $2(e,n,t,r,i){return new j2(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(Je(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),hn(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function J2(e,n,t,r,i){return nt(s=>function q2(e,n,t,r,i,s,a="emptyOnly"){return new K2(e,n,t,r,i,a,s).recognize().pipe(qr(o=>null===o?function G2(e){return new Tt(n=>n.error(e))}(new W2):Pe(o)))}(e,n,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(Je(a=>({...s,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),hn(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!d.extras.skipLocationChange){const m=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);t.setBrowserUrl(m,d)}t.browserUrlTree=d.urlAfterRedirects}const g=new HN(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:g,source:m,restoredState:y,extras:b}=a,D=new Ag(d,this.urlSerializer.serialize(g),m,y);this.events.next(D);const B=Vb(g,this.rootComponentType).snapshot;return Pe(r={...a,targetSnapshot:B,urlAfterRedirects:g,extras:{...b,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new vc(a.id,t.serializeUrl(r.extractedUrl),d,1)),t.rawUrlTree=a.rawUrl,a.resolve(null),$n}}),hn(a=>{const o=new UN(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(o)}),Je(a=>r={...a,guards:p2(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function A2(e,n){return nt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?Pe({...t,guardsResult:!0}):function T2(e,n,t,r){return _(e).pipe(nt(i=>function P2(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Pe(s.map(o=>{const l=ul(n)??i,c=qa(o,l);return Qi(function S2(e){return e&&fl(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,r):l.runInContext(()=>c(e,n,t,r))).pipe(Ki())})).pipe(Ka()):Pe(!0)}(i.component,i.route,t,n,r)),Ki(i=>!0!==i,!0))}(a,r,i,e).pipe(nt(o=>o&&function _2(e){return"boolean"==typeof e}(o)?function I2(e,n,t,r){return _(n).pipe(ks(i=>mg(function k2(e,n){return null!==e&&n&&n(new qN(e)),Pe(!0)}(i.route.parent,r),function x2(e,n){return null!==e&&n&&n(new YN(e)),Pe(!0)}(i.route,r),function M2(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(a=>function m2(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(a)).filter(a=>null!==a).map(a=>fb(()=>Pe(a.guards.map(l=>{const c=ul(a.node)??t,d=qa(l,c);return Qi(function C2(e){return e&&fl(e.canActivateChild)}(d)?d.canActivateChild(r,e):c.runInContext(()=>d(r,e))).pipe(Ki())})).pipe(Ka())));return Pe(s).pipe(Ka())}(e,i.path,t),function O2(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Pe(!0);const i=r.map(s=>fb(()=>{const a=ul(n)??t,o=qa(s,a);return Qi(function w2(e){return e&&fl(e.canActivate)}(o)?o.canActivate(n,e):a.runInContext(()=>o(n,e))).pipe(Ki())}));return Pe(i).pipe(Ka())}(e,i.route,t))),Ki(i=>!0!==i,!0))}(r,s,e,n):Pe(o)),Je(o=>({...t,guardsResult:o})))})}(this.environmentInjector,a=>this.events.next(a)),hn(a=>{if(r.guardsResult=a.guardsResult,Ms(a.guardsResult))throw jb(0,a.guardsResult);const o=new $N(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(o)}),qi(a=>!!a.guardsResult||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Ug(a=>{if(a.guards.canActivateChecks.length)return Pe(a).pipe(hn(o=>{const l=new jN(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(l)}),qr(o=>{let l=!1;return Pe(o).pipe(function eF(e,n){return nt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Pe(t);let s=0;return _(i).pipe(ks(a=>function tF(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!lw(i)&&(s[el]=i.title),function nF(e,n,t,r){const i=function rF(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Pe({});const s={};return _(i).pipe(nt(a=>function iF(e,n,t,r){const i=ul(n)??r,s=qa(e,i);return Qi(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[a],n,t,r).pipe(Ki(),hn(o=>{s[a]=o}))),vg(1),function gN(e){return Je(()=>e)}(s),Yi(a=>Bg(a)?$n:Jo(a)))}(s,e,n,r).pipe(Je(a=>(e._resolvedData=a,e.data=Hb(e,t).resolve,i&&lw(i)&&(e.data[el]=i.title),null)))}(a.route,r,e,n)),hn(()=>s++),vg(1),nt(a=>s===i.length?Pe(t):$n))})}(t.paramsInheritanceStrategy,this.environmentInjector),hn({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",2))}}))}),hn(o=>{const l=new zN(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(l)}))}),Ug(a=>{const o=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(hn(d=>{l.component=d}),Je(()=>{})));for(const d of l.children)c.push(...o(d));return c};return cb(o(a.targetSnapshot.root)).pipe(uc(),Ha(1))}),Ug(()=>this.afterPreactivation()),Je(a=>{const o=function i2(e,n,t){const r=ol(e,n._root,t?t._root:void 0);return new Bb(r,n)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:o}}),hn(a=>{t.currentUrlTree=a.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),t.routerState=a.targetRouterState,"deferred"===t.urlUpdateStrategy&&(a.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,a),t.browserUrlTree=a.urlAfterRedirects)}),((e,n,t)=>Je(r=>(new g2(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a)),Ha(1),hn({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ps(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),_g(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Yi(a=>{if(s=!0,Gb(a)){Wb(a)||(t.navigated=!0,t.restoreHistory(r,!0));const o=new yc(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode);if(this.events.next(o),Wb(a)){const l=t.urlHandlingStrategy.merge(a.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||dw(r.source)};t.scheduleNavigation(l,al,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const o=new Tg(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);this.events.next(o);try{r.resolve(t.errorHandler(a))}catch(l){r.reject(l)}}return $n}))}))}cancelNavigationTransition(t,r,i){const s=new yc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function dw(e){return e!==al}let fw=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===We);return r}getResolvedTitleForRoute(t){return t.data[el]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return rt(aF)},providedIn:"root"}),e})(),aF=(()=>{class e extends fw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(we(ob))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),oF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return rt(uF)},providedIn:"root"}),e})();class lF{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let uF=(()=>{class e extends lF{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=function vm(e){return si(()=>{const n=e.prototype.constructor,t=n[oi]||zd(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[oi]||zd(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(r||e)}}(),e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xc=new Ne("",{providedIn:"root",factory:()=>({})});let dF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return rt(fF)},providedIn:"root"}),e})(),fF=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hF(e){throw e}function gF(e,n,t){return n.parse("/")}const pF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=rt(UM),this.isNgZoneEnabled=!1,this.options=rt(xc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||hF,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gF,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=rt(dF),this.routeReuseStrategy=rt(oF),this.urlCreationStrategy=rt(t2),this.titleStrategy=rt(fw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=vb(rt(Ya,{optional:!0})??[]),this.navigationTransitions=rt(Ic),this.urlSerializer=rt(nl),this.location=rt(Gh),this.isNgZoneEnabled=rt(St)instanceof St&&St.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vb(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),al,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const o=this.parseUrl(t);this.scheduleNavigation(o,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Fg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:a;let d=null;switch(o){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ms(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,al,null,r)}navigate(t,r={skipLocationChange:!1}){return function yF(e){for(let n=0;n<e.length;n++){const t=e[n];if(null==t)throw new I(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...pF}:!1===r?{...mF}:r,Ms(t))return wb(this.currentUrlTree,t,i);const s=this.parseUrl(t);return wb(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let o,l,c,d;return a?(o=a.resolve,l=a.reject,c=a.promise):c=new Promise((g,m)=>{o=g,l=m}),d="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:o,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class hw{}let bF=(()=>{class e{constructor(t,r,i,s,a){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(qi(t=>t instanceof Ps),ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Nu(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,o=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(o,s.children??s._loadedRoutes))}return _(i).pipe(fe())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Pe(null);const s=i.pipe(nt(a=>null===a?Pe(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return r.loadComponent&&!r._loadedComponent?_([s,this.loader.loadComponent(r)]).pipe(fe()):s})}}return e.\u0275fac=function(t){return new(t||e)(we(Yn),we(B_),we(fi),we(hw),we($g))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wg=new Ne("");let gw=(()=>{class e{constructor(t,r,i,s,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ag?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ps&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Nb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function qy(){throw new Error("invalid")}()},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();var Qn=(()=>((Qn=Qn||{})[Qn.COMPLETE=0]="COMPLETE",Qn[Qn.FAILED=1]="FAILED",Qn[Qn.REDIRECTING=2]="REDIRECTING",Qn))();const Qa=!1;function Xi(e,n){return{\u0275kind:e,\u0275providers:n}}const Gg=new Ne("",{providedIn:"root",factory:()=>!1});function mw(){const e=rt(gi);return n=>{const t=e.get(Go);if(n!==t.components[0])return;const r=e.get(Yn),i=e.get(yw);1===e.get(qg)&&r.initialNavigation(),e.get(vw,null,Le.Optional)?.setUpPreloading(),e.get(Wg,null,Le.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yw=new Ne(Qa?"bootstrap done indicator":"",{factory:()=>new Hn}),qg=new Ne(Qa?"initial navigation":"",{providedIn:"root",factory:()=>1});function DF(){let e=[];return e=Qa?[{provide:gu,multi:!0,useFactory:()=>{const n=rt(Yn);return()=>n.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function ZN(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Xi(1,e)}const vw=new Ne(Qa?"router preloader":"");function AF(e){return Xi(0,[{provide:vw,useExisting:bF},{provide:hw,useExisting:e}])}const gl=!1,_w=new Ne(gl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),TF=[Gh,{provide:nl,useClass:bg},Yn,ll,{provide:Ga,useFactory:function pw(e){return e.routerState.root},deps:[Yn]},$g,gl?{provide:Gg,useValue:!0}:[]];function IF(){return new G_("Router",Yn)}let bw=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[TF,gl&&r?.enableTracing?DF().\u0275providers:[],{provide:Ya,multi:!0,useValue:t},{provide:_w,useFactory:MF,deps:[[Yn,new _o,new bo]]},{provide:xc,useValue:r||{}},r?.useHash?{provide:xs,useClass:IP}:{provide:xs,useClass:p1},{provide:Wg,useFactory:()=>{const e=rt(qR),n=rt(St),t=rt(xc),r=rt(Ic),i=rt(nl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new gw(i,r,e,n,t)}},r?.preloadingStrategy?AF(r.preloadingStrategy).\u0275providers:[],{provide:G_,multi:!0,useFactory:IF},r?.initialNavigation?PF(r):[],[{provide:ww,useFactory:mw},{provide:W_,multi:!0,useExisting:ww}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ya,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(we(_w,8))},e.\u0275mod=Vi({type:e}),e.\u0275inj=Se({imports:[Lg]}),e})();function MF(e){if(gl&&e)throw new I(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function PF(e){return["disabled"===e.initialNavigation?Xi(3,[{provide:Hu,multi:!0,useFactory:()=>{const n=rt(Yn);return()=>{n.setUpLocationChangeListener()}}},{provide:qg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Xi(2,[{provide:qg,useValue:0},{provide:Hu,multi:!0,deps:[gi],useFactory:n=>{const t=n.get(AP,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Yn),s=n.get(yw);(function wF(e,n){e.events.pipe(qi(t=>t instanceof Ps||t instanceof yc||t instanceof Tg||t instanceof vc),Je(t=>t instanceof Ps||t instanceof vc?Qn.COMPLETE:t instanceof yc&&(0===t.code||1===t.code)?Qn.REDIRECTING:Qn.FAILED),qi(t=>t!==Qn.REDIRECTING),Ha(1)).subscribe(()=>{n()})})(i,()=>{r(!0)}),n.get(Ic).afterPreactivation=()=>(r(!0),s.closed?Pe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ww=new Ne(gl?"Router Initializer":"");function Cw(e,n,t,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void t(c)}o.done?n(l):Promise.resolve(l).then(r,i)}function He(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var s=e.apply(n,t);function a(l){Cw(s,r,i,a,o,"next",l)}function o(l){Cw(s,r,i,a,o,"throw",l)}a(void 0)})}}function et(e){var n,t,r,i=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new kc(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function kc(e){function n(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var r=t.done;return Promise.resolve(t.value).then(function(i){return{value:i,done:r}})}return(kc=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(r){var i=this.s.return;return void 0===i?Promise.resolve({value:r,done:!0}):n(i.apply(this.s,arguments))},throw:function(r){var i=this.s.return;return void 0===i?Promise.reject(r):n(i.apply(this.s,arguments))}},new kc(e)}class Sw{}class LF{}const Ei="*";function Zn(e,n){return{type:7,name:e,definitions:n,options:{}}}function Fn(e,n=null){return{type:4,styles:n,timings:e}}function Ew(e,n=null){return{type:3,steps:e,options:n}}function Dw(e,n=null){return{type:2,steps:e,options:n}}function qe(e){return{type:6,styles:e,offset:null}}function Xn(e){return{type:5,steps:e}}function Jn(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function pr(e,n=null){return{type:8,animation:e,options:n}}function Kg(e=null){return{type:9,options:e}}function NF(e,n=null){return{type:10,animation:e,options:n}}function Yg(e,n,t=null){return{type:11,selector:e,animation:n,options:t}}function Aw(e){Promise.resolve().then(e)}class pl{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Aw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Tw{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const s=this.players.length;0==s?Aw(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Qg="!";function U(e,n){return[...n&&"before"===n.animateChildren?[Yg("@*",Kg(),{optional:!0})]:[],Ew([NF(e),...n&&n.animateChildren&&"together"!==n.animateChildren?[]:[Yg("@*",Kg(),{optional:!0})]]),...n&&"after"===n.animateChildren?[Yg("@*",Kg(),{optional:!0})]:[]]}const _C=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({visibility:"visible",opacity:0,transform:"translate3d(0, -{{translate}}, 0)",easing:"ease",offset:0}),qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:1})]))]),bC=1e3;function FF(e){return Zn(e&&e.anchor||"fadeInDownOnEnter",[Jn(":enter",[qe({visibility:"hidden"}),...U(_C(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||bC,translate:e&&e.translate||"100%"}})])}const SC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({visibility:"visible",opacity:0,transform:"translate3d(-{{translate}}, 0, 0)",easing:"ease",offset:0}),qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:1})]))]),EC=1e3;function BF(e){return Zn(e&&e.anchor||"fadeInLeftOnEnter",[Jn(":enter",[qe({visibility:"hidden"}),...U(SC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||EC,translate:e&&e.translate||"100%"}})])}const TC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({visibility:"visible",opacity:0,transform:"translate3d({{translate}}, 0, 0)",easing:"ease",offset:0}),qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:1})]))]),IC=1e3;function VF(e){return Zn(e&&e.anchor||"fadeInRightOnEnter",[Jn(":enter",[qe({visibility:"hidden"}),...U(TC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||IC,translate:e&&e.translate||"100%"}})])}const OC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({visibility:"visible",opacity:0,transform:"translate3d(0, {{translate}}, 0)",easing:"ease",offset:0}),qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:1})]))]),MC=1e3;function HF(e){return Zn(e&&e.anchor||"fadeInUpOnEnter",[Jn(":enter",[qe({visibility:"hidden"}),...U(OC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||MC,translate:e&&e.translate||"100%"}})])}const PC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({visibility:"visible",opacity:0,easing:"ease",offset:0}),qe({opacity:1,easing:"ease",offset:1})]))]),RC=1e3;function UF(e){return Zn(e&&e.anchor||"fadeInOnEnter",[Jn(":enter",[qe({visibility:"hidden"}),...U(PC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||RC}})])}const FC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:0}),qe({opacity:0,transform:"translate3d(0, {{translate}}, 0)",easing:"ease",offset:1})]))]),BC=1e3;function $F(e){return Zn(e&&e.anchor||"fadeOutDownOnLeave",[Jn(":leave",[...U(FC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||BC,translate:e&&e.translate||"100%"}})])}const UC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:0}),qe({opacity:0,transform:"translate3d(-{{translate}}, 0, 0)",easing:"ease",offset:1})]))]),$C=1e3;function jF(e){return Zn(e&&e.anchor||"fadeOutLeftOnLeave",[Jn(":leave",[...U(UC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||$C,translate:e&&e.translate||"100%"}})])}const WC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:0}),qe({opacity:0,transform:"translate3d({{translate}}, 0, 0)",easing:"ease",offset:1})]))]),GC=1e3;function zF(e){return Zn(e&&e.anchor||"fadeOutRightOnLeave",[Jn(":leave",[...U(WC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||GC,translate:e&&e.translate||"100%"}})])}const YC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({opacity:1,transform:"translate3d(0, 0, 0)",easing:"ease",offset:0}),qe({opacity:0,transform:"translate3d(0, -{{translate}}, 0)",easing:"ease",offset:1})]))]),QC=1e3;function WF(e){return Zn(e&&e.anchor||"fadeOutUpOnLeave",[Jn(":leave",[...U(YC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||QC,translate:e&&e.translate||"100%"}})])}const ZC=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({opacity:1,easing:"ease",offset:0}),qe({opacity:0,easing:"ease",offset:1})]))]),XC=1e3;function GF(e){return Zn(e&&e.anchor||"fadeOutOnLeave",[Jn(":leave",[...U(ZC(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||XC}})])}const tS=()=>pr([Fn("{{duration}}ms {{delay}}ms",Xn([qe({visibility:"visible",transform:"perspective(400px) rotate3d(0, 1, 0, {{degrees}}deg)",opacity:0,easing:"ease-in",offset:0}),qe({transform:"perspective(400px) rotate3d(0, 1, 0, -20deg)",opacity:.5,easing:"ease-in",offset:.4}),qe({transform:"perspective(400px) rotate3d(0, 1, 0, 10deg)",opacity:1,easing:"ease-in",offset:.6}),qe({transform:"perspective(400px) rotate3d(0, 1, 0, -5deg)",easing:"ease",offset:.8}),qe({transform:"perspective(400px)",easing:"ease",offset:1})]))]),nS=1e3;function qF(e){return Zn(e&&e.anchor||"flipInYOnEnter",[Jn(":enter",[qe({visibility:"hidden"}),qe({"backface-visibility":"visible"}),...U(tS(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||nS,degrees:e&&e.degrees||90}})])}const rE=()=>pr(Ew([Fn("{{duration}}ms {{delay}}ms",Xn([qe({opacity:0,easing:"ease",offset:0}),qe({opacity:1,easing:"ease",offset:.5}),qe({opacity:1,easing:"ease",offset:1})])),Fn("{{duration}}ms {{delay}}ms",Xn([qe({visibility:"visible",transform:"scale3d(0.3, 0.3, 0.3)",easing:"ease",offset:0}),qe({transform:"scale3d(1, 1, 1)",easing:"ease",offset:1})]))])),iE=1e3;function KF(e){return Zn(e&&e.anchor||"zoomInOnEnter",[Jn(":enter",[qe({visibility:"hidden"}),...U(rE(),e)],{params:{delay:e&&e.delay||0,duration:e&&e.duration||iE}})])}ft(87);const s3=[{id:1,suit:"hearts",value:"2",image:"2_of_hearts.png"},{id:2,suit:"hearts",value:"3",image:"3_of_hearts.png"},{id:3,suit:"hearts",value:"4",image:"4_of_hearts.png"},{id:4,suit:"hearts",value:"5",image:"5_of_hearts.png"},{id:5,suit:"hearts",value:"6",image:"6_of_hearts.png"},{id:6,suit:"hearts",value:"7",image:"7_of_hearts.png"},{id:7,suit:"hearts",value:"8",image:"8_of_hearts.png"},{id:8,suit:"hearts",value:"9",image:"9_of_hearts.png"},{id:9,suit:"hearts",value:"10",image:"10_of_hearts.png"},{id:10,suit:"hearts",value:"11",image:"11_of_hearts.png"},{id:11,suit:"hearts",value:"12",image:"12_of_hearts.png"},{id:12,suit:"hearts",value:"13",image:"13_of_hearts.png"},{id:13,suit:"hearts",value:"14",image:"14_of_hearts.png"},{id:14,suit:"diamonds",value:"2",image:"2_of_diamonds.png"},{id:15,suit:"diamonds",value:"3",image:"3_of_diamonds.png"},{id:16,suit:"diamonds",value:"4",image:"4_of_diamonds.png"},{id:17,suit:"diamonds",value:"5",image:"5_of_diamonds.png"},{id:18,suit:"diamonds",value:"6",image:"6_of_diamonds.png"},{id:19,suit:"diamonds",value:"7",image:"7_of_diamonds.png"},{id:20,suit:"diamonds",value:"8",image:"8_of_diamonds.png"},{id:21,suit:"diamonds",value:"9",image:"9_of_diamonds.png"},{id:22,suit:"diamonds",value:"10",image:"10_of_diamonds.png"},{id:23,suit:"diamonds",value:"11",image:"11_of_diamonds.png"},{id:24,suit:"diamonds",value:"12",image:"12_of_diamonds.png"},{id:25,suit:"diamonds",value:"13",image:"13_of_diamonds.png"},{id:26,suit:"diamonds",value:"14",image:"14_of_diamonds.png"},{id:27,suit:"clubs",value:"2",image:"2_of_clubs.png"},{id:28,suit:"clubs",value:"3",image:"3_of_clubs.png"},{id:29,suit:"clubs",value:"4",image:"4_of_clubs.png"},{id:30,suit:"clubs",value:"5",image:"5_of_clubs.png"},{id:31,suit:"clubs",value:"6",image:"6_of_clubs.png"},{id:32,suit:"clubs",value:"7",image:"7_of_clubs.png"},{id:33,suit:"clubs",value:"8",image:"8_of_clubs.png"},{id:34,suit:"clubs",value:"9",image:"9_of_clubs.png"},{id:35,suit:"clubs",value:"10",image:"10_of_clubs.png"},{id:36,suit:"clubs",value:"11",image:"11_of_clubs.png"},{id:37,suit:"clubs",value:"12",image:"12_of_clubs.png"},{id:38,suit:"clubs",value:"13",image:"13_of_clubs.png"},{id:39,suit:"clubs",value:"14",image:"14_of_clubs.png"},{id:40,suit:"spades",value:"2",image:"2_of_spades.png"},{id:41,suit:"spades",value:"3",image:"3_of_spades.png"},{id:42,suit:"spades",value:"4",image:"4_of_spades.png"},{id:43,suit:"spades",value:"5",image:"5_of_spades.png"},{id:44,suit:"spades",value:"6",image:"6_of_spades.png"},{id:45,suit:"spades",value:"7",image:"7_of_spades.png"},{id:46,suit:"spades",value:"8",image:"8_of_spades.png"},{id:47,suit:"spades",value:"9",image:"9_of_spades.png"},{id:48,suit:"spades",value:"10",image:"10_of_spades.png"},{id:49,suit:"spades",value:"11",image:"11_of_spades.png"},{id:50,suit:"spades",value:"12",image:"12_of_spades.png"},{id:51,suit:"spades",value:"13",image:"13_of_spades.png"},{id:52,suit:"spades",value:"14",image:"14_of_spades.png"}];let o3=(()=>{class e{constructor(){}shuffle([...t]){let r=0,i=0,s=null;for(r=t.length-1;r>0;r-=1)i=Math.floor(Math.random()*(r+1)),s=t[r],t[r]=t[i],t[i]=s;return t}determineHand(t){const r=this.isPair(t),i=this.isTwoPair(t),s=this.isThreeOfAKind(t),a=this.isStraight(t),o=this.isFlush(t),l=this.isFullHouse(t),c=this.isFourOfAKind(t),d=this.isFiveOfAKind(t),g=this.isStraightFlush(t);return g.valid?{name:"Straight Flush",valid:!0,power:5,ranking:10,highCard:g.highCard,cards:g.cards}:d.valid?{name:"Five of a Kind",valid:!0,power:5,ranking:9,highCard:d.highCard,cards:d.cards}:c.valid?{name:"Four of a Kind",valid:!0,power:4,ranking:8,highCard:c.highCard,cards:c.cards}:l.valid?{name:"Full House",valid:!0,power:5,ranking:7,highCard:l.highCard,cards:l.cards}:o.valid?{name:"Flush",valid:!0,power:5,ranking:6,highCard:o.highCard,cards:o.cards}:a.valid?{name:"Straight",valid:!0,power:5,ranking:5,highCard:a.highCard,cards:a.cards}:s.valid?{name:"Three of a Kind",valid:!0,power:3,ranking:4,highCard:s.highCard,cards:s.cards}:i.valid?{name:"Two Pair",valid:!0,power:4,ranking:3,highCard:i.highCard,cards:i.cards}:r.valid?{name:"Two of a Kind",valid:!0,power:2,ranking:2,highCard:r.highCard,cards:r.cards}:1===t.length?{name:"High Card",valid:!0,power:1,ranking:1,highCard:Number(t[0].value),cards:[t[0]]}:{valid:!1,name:"High Card",highCard:0,power:1,ranking:1,cards:[]}}isPair(t){const r=this.getValuesCount(t);return 2===t.length&&2===r[0]?{valid:!0,highCard:Number(t[0].value),cards:t}:{valid:!1,cards:[],highCard:0}}isTwoPair(t){const r=this.getValuesCount(t);return 4===t.length&&2===r[0]&&2===r[1]?{valid:!0,highCard:Number(t[0].value),cards:t}:{valid:!1,cards:[],highCard:0}}isThreeOfAKind(t){const r=this.getValuesCount(t);return 3===t.length&&r.includes(3)?{valid:!0,highCard:Number(t[0].value),cards:t}:{valid:!1,cards:[],highCard:0}}isStraight(t){const r=this.getValuesDetails(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),5===t.length&&i[0]+1===i[1]&&i[1]+1===i[2]&&i[2]+1===i[3]&&i[3]+1===i[4]?{valid:!0,cards:t,highCard:Number(t.reduce(function(s,a){return s&&Number(s.value)>Number(a.value)?s:a}).value)}:{valid:!1,cards:[],highCard:0}}isFlush(t){const r=this.getSuitsCount(t),i=this.getValuesDetails(t);let s=[];return Object.keys(i).forEach(function(a){s.push(Number(a))}),5===t.length&&r.includes(5)?{valid:!0,cards:t,highCard:Number(t.reduce(function(a,o){return a&&Number(a.value)>Number(o.value)?a:o}).value)}:{valid:!1,cards:[],highCard:0}}isFullHouse(t){const r=this.getValuesCount(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),5===t.length&&r.includes(3)&&r.includes(2)?{valid:!0,cards:t,highCard:Number(t.reduce(function(s,a){return s&&Number(s.value)>Number(a.value)?s:a}).value)}:{valid:!1,cards:[],highCard:0}}isFourOfAKind(t){const r=this.getValuesCount(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),4===t.length&&r.includes(4)?{valid:!0,cards:t,highCard:Number(t[0].value)}:{valid:!1,cards:[],highCard:0}}isFiveOfAKind(t){const r=this.getValuesCount(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),5===t.length&&r.includes(5)?{valid:!0,cards:t,highCard:Number(t[0].value)}:{valid:!1,cards:[],highCard:0}}isStraightFlush(t){const r=this.getValuesCount(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),5===t.length&&this.isStraight(t).valid&&this.isFlush(t).valid?{valid:!0,cards:t,highCard:Number(t.reduce(function(s,a){return s&&Number(s.value)>Number(a.value)?s:a}).value)}:{valid:!1,cards:[],highCard:0}}getValuesCount(t){const i=t.map(a=>a.value).reduce((a,o)=>(a[o]=a[o]+1||1,a),{});let s=[];return Object.values(i).forEach(function(a){s.push(a)}),s}getValuesDetails(t){return t.map(s=>s.value).reduce((s,a)=>(s[a]=s[a]+1||1,s),{})}getSuitsCount(t){const i=t.map(a=>a.suit).reduce((a,o)=>(a[o]=a[o]+1||1,a),{});let s=[];return Object.values(i).forEach(function(a){s.push(a)}),s}getSuitsDetails(t){return t.map(s=>s.suit).reduce((s,a)=>(s[a]=s[a]+1||1,s),{})}generateBotDefenseHand(t,r){const i=this.botHandIncludesPair(t),s=this.botHandIncludesTwoPair(t),a=this.botHandIncludesThreeOfAKind(t),o=this.botHandIncludesStraight(t),l=this.botHandIncludesFlush(t),c=this.botHandIncludesFullHouse(t),d=this.botHandIncludesFourOfAKind(t),g=this.botHandIncludesStraightFlush(t);if(5===r&&g.valid)return{name:"Straight Flush",valid:!0,power:5,ranking:9,highCard:g.highCard,cards:g.cards};if(4===r&&d.valid)return{name:"Four of a Kind",valid:!0,power:4,ranking:8,highCard:d.highCard,cards:d.cards};if(5===r&&c.valid)return{name:"Full House",valid:!0,power:5,ranking:7,highCard:c.highCard,cards:c.cards};if(5===r&&l.valid)return{name:"Flush",valid:!0,power:5,ranking:6,highCard:l.highCard,cards:l.cards};if(5===r&&o.valid)return{name:"Straight",valid:!0,power:5,ranking:5,highCard:o.highCard,cards:o.cards};if(3===r&&a.valid)return{name:"Three of a Kind",valid:!0,power:3,ranking:4,highCard:a.highCard,cards:a.cards};if(4===r&&s.valid)return{name:"Two Pair",valid:!0,power:4,ranking:3,highCard:s.highCard,cards:s.cards};if(2===r&&i.valid)return{name:"Two of a Kind",valid:!0,power:2,ranking:2,highCard:i.highCard,cards:i.cards};if(1===r){const y=t.reduce(function(b,D){return b&&Number(b.value)>Number(D.value)?b:D});return{name:"High Card",valid:!0,power:1,ranking:1,highCard:Number(y.value),cards:[y]}}let m=[];return t.forEach((y,b)=>{b<r&&m.push(y)}),{valid:!1,power:0,ranking:0,name:"High Card",highCard:Number([...m].reduce(function(y,b){return y&&Number(y.value)>Number(b.value)?y:b}).value),cards:[...m]}}generateBotOffenseHand(t){const r=this.botHandIncludesPair(t),i=this.botHandIncludesTwoPair(t),s=this.botHandIncludesThreeOfAKind(t),a=this.botHandIncludesStraight(t),o=this.botHandIncludesFlush(t),l=this.botHandIncludesFullHouse(t),c=this.botHandIncludesFourOfAKind(t),d=this.botHandIncludesFiveOfAKind(t),g=this.botHandIncludesStraightFlush(t);if(g.valid)return{name:"Straight Flush",valid:!0,power:5,ranking:10,highCard:g.highCard,cards:g.cards};if(d.valid)return{name:"Five of a Kind",valid:!0,power:5,ranking:9,highCard:d.highCard,cards:d.cards};if(c.valid)return{name:"Four of a Kind",valid:!0,power:4,ranking:8,highCard:c.highCard,cards:c.cards};if(l.valid)return{name:"Full House",valid:!0,power:5,ranking:7,highCard:l.highCard,cards:l.cards};if(o.valid)return{name:"Flush",valid:!0,power:5,ranking:6,highCard:o.highCard,cards:o.cards};if(a.valid)return{name:"Straight",valid:!0,power:5,ranking:5,highCard:a.highCard,cards:a.cards};if(s.valid)return{name:"Three of a Kind",valid:!0,power:3,ranking:4,highCard:s.highCard,cards:s.cards};if(i.valid)return{name:"Two Pair",valid:!0,power:4,ranking:3,highCard:i.highCard,cards:i.cards};if(r.valid)return{name:"Two of a Kind",valid:!0,power:2,ranking:2,highCard:r.highCard,cards:r.cards};const m=t.reduce(function(y,b){return y&&Number(y.value)>Number(b.value)?y:b});return{name:"High Card",valid:!0,power:1,ranking:1,highCard:Number(m.value),cards:[m]}}botHandIncludesPair(t){const r=this.getValuesCount(t);if(r.includes(2)||r.includes(3)||r.includes(4)){var s=Object.values(t.reduce((a,o)=>{let l=o.value;return a[l]=a[l]||[],a[l].push(o),a},{})).reduce((a,o)=>o.length>1?a.concat(o):a,[]);return{valid:!0,cards:[s[0],s[1]],highCard:Number(s[0].value)}}return{valid:!1,cards:[],highCard:0}}botHandIncludesThreeOfAKind(t){const r=this.getValuesCount(t);if(r.includes(3)||r.includes(4)){var s=Object.values(t.reduce((a,o)=>{let l=o.value;return a[l]=a[l]||[],a[l].push(o),a},{})).reduce((a,o)=>o.length>1?a.concat(o):a,[]);return{valid:!0,cards:[s[0],s[1],s[2]],highCard:Number(s[0].value)}}return{valid:!1,cards:[],highCard:0}}botHandIncludesTwoPair(t){const r=this.getValuesCount(t);let i=0;if(r.forEach(a=>{2===a&&i++}),2===i){var s=Object.values(t.reduce((a,o)=>{let l=o.value;return a[l]=a[l]||[],a[l].push(o),a},{})).reduce((a,o)=>o.length>1?a.concat(o):a,[]);return{valid:!0,cards:[s[0],s[1],s[2],s[3]],highCard:Number([s[0],s[1],s[2],s[3]].reduce(function(a,o){return a&&Number(a.value)>Number(o.value)?a:o}).value)}}return{valid:!1,cards:[],highCard:0}}botHandIncludesFourOfAKind(t){if(this.getValuesCount(t).includes(4)){var s=Object.values(t.reduce((a,o)=>{let l=o.value;return a[l]=a[l]||[],a[l].push(o),a},{})).reduce((a,o)=>o.length>1?a.concat(o):a,[]);return{valid:!0,cards:[s[0],s[1],s[2],s[3]],highCard:Number(s[0].value)}}return{valid:!1,cards:[],highCard:0}}botHandIncludesFiveOfAKind(t){if(this.getValuesCount(t).includes(5)){var s=Object.values(t.reduce((a,o)=>{let l=o.value;return a[l]=a[l]||[],a[l].push(o),a},{})).reduce((a,o)=>o.length>1?a.concat(o):a,[]);return{valid:!0,cards:t,highCard:Number(s[0].value)}}return{valid:!1,cards:[],highCard:0}}botHandIncludesFlush(t){const r=this.getSuitsCount(t);return 5===t.length&&r.includes(5)?{valid:!0,cards:[...t],highCard:Number(t.reduce(function(i,s){return i&&Number(i.value)>Number(s.value)?i:s}).value)}:{valid:!1,cards:[],highCard:0}}botHandIncludesStraight(t){const r=this.getValuesDetails(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),5===t.length&&i[0]+1===i[1]&&i[1]+1===i[2]&&i[2]+1===i[3]&&i[3]+1===i[4]?{valid:!0,cards:t.sort((s,a)=>Number(s.value)-Number(a.value)),highCard:Number(t.reduce(function(s,a){return s&&Number(s.value)>Number(a.value)?s:a}).value)}:{valid:!1,cards:[],highCard:0}}botHandIncludesFullHouse(t){const r=this.getValuesCount(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),5===t.length&&r.includes(3)&&r.includes(2)?{valid:!0,cards:t.sort((s,a)=>Number(s.value)-Number(a.value)),highCard:Number(t.reduce(function(s,a){return s&&Number(s.value)>Number(a.value)?s:a}).value)}:{valid:!1,cards:[],highCard:0}}botHandIncludesStraightFlush(t){const r=this.getValuesCount(t);let i=[];return Object.keys(r).forEach(function(s){i.push(Number(s))}),5===t.length&&this.botHandIncludesStraight(t).valid&&this.botHandIncludesFlush(t).valid?{valid:!0,cards:t.sort((s,a)=>Number(s.value)-Number(a.value)),highCard:Number(t.reduce(function(s,a){return s&&Number(s.value)>Number(a.value)?s:a}).value)}:{valid:!1,cards:[],highCard:0}}determineWinner(t,r){const i=t.ranking,s=r.ranking,a=t.highCard,o=r.highCard;return i===s&&a===o?{tie:!0,player1Winner:!1,player1Determine:t,player2Winner:!1,player2Determine:r}:i===s&&a>o?{tie:!1,player1Winner:!0,player1Determine:t,player2Winner:!1,player2Determine:r}:i===s&&o>a?{tie:!1,player1Winner:!1,player1Determine:t,player2Winner:!0,player2Determine:r}:i>s?{tie:!1,player1Winner:!0,player1Determine:t,player2Winner:!1,player2Determine:r}:s>i?{tie:!1,player1Winner:!1,player1Determine:t,player2Winner:!0,player2Determine:r}:{tie:!0,player1Winner:!1,player1Determine:t,player2Winner:!1,player2Determine:r}}determineExtraDamage(t,r){const i=this.getSuitsDetails(t);let s=0;return r.skills?.extraHeartsDamage&&i.hearts&&(s+=Number(i.hearts)),r.skills?.extraDiamondsDamage&&i.diamonds&&(s+=Number(i.diamonds)),r.skills?.extraSpadesDamage&&i.spades&&(s+=Number(i.spades)),r.skills?.extraClubsDamage&&i.clubs&&(s+=Number(i.clubs)),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),l3=(()=>{class e{constructor(){this.gameTheme$=new hr("default"),this.wildCard={id:55,wild:!0,wildRange:14,wildSuit:!0,wildSuits:[1,1,1,1],suit:"spades",value:"14",wildInitial:"14",image:"14_of_spades.png"},this.gameTheme$.subscribe(t=>{this.updateThemeStyles(t)})}ngOnInit(){}getPlayer(t){const r={wildHearts:!1,wildDiamonds:!1,wildSpades:!1,wildClubs:!1,rangeHearts:0,rangeDiamonds:0,rangeSpades:0,rangeClubs:0,showWildHearts:!1,showWildDiamonds:!1,showWildSpades:!1,showWildClubs:!1,extraHeartsDamage:!1,extraDiamondsDamage:!1,extraSpadesDamage:!1,extraClubsDamage:!1,wildCardsCount:4,extraHealth:0,extraAttack:0};return{id:5,image:"./assets/"+t+"/link.png",name:"Link",attack:2+r.extraAttack,health:4+r.extraHealth,baseHealth:9+r.extraHealth,baseAttack:4+r.extraAttack,level:1,skills:r}}getAbilityCards(t){return[{id:1,abilityFunction:"leach",targetAll:!1,abilityValue:1,cost:["red","black"],name:"Ganon",description:"Steal 1 health from target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:2,abilityFunction:"leach",targetAll:!1,abilityValue:1,cost:["black"],name:"Ganon",description:"Steal 1 health from target enemies",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:3,abilityFunction:"offense",targetAll:!1,abilityValue:1,cost:["red"],name:"Ganon",description:"Apply -1 offense to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:4,abilityFunction:"offense",targetAll:!1,abilityValue:1,cost:["hearts"],name:"Ganon",description:"Apply -1 offense to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:5,abilityFunction:"damage",targetAll:!1,abilityValue:1,cost:["diamonds"],name:"Ganon",description:"Deal 1 damage to every enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:6,abilityFunction:"damage",targetAll:!1,abilityValue:1,cost:["clubs"],name:"Ganon",description:"Deal 1 damage to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:7,abilityFunction:"heal",targetAll:!1,abilityValue:1,cost:["spades"],name:"Ganon",description:"Heal player for 1 health",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:8,abilityFunction:"heal",targetAll:!1,abilityValue:3,cost:["red"],name:"Ganon",description:"Heal player for 3 health",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:7,abilityFunction:"draw",targetAll:!1,abilityValue:3,cost:["spades"],name:"Ganon",description:"Draw 3 cards",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:8,abilityFunction:"redraw",targetAll:!1,abilityValue:5,cost:["red"],name:"Ganon",description:"Redraw Entire Hand",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:8,abilityFunction:"redrawAll",targetAll:!1,abilityValue:5,cost:["red"],name:"Ganon",description:"Redraw Entire Hand",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:9,abilityFunction:"wildSuit",targetAll:!1,abilityValue:1,cost:["black"],name:"Ganon",description:"Wild Suit A Card In Hand",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:10,abilityFunction:"wildRange",targetAll:!1,abilityValue:1,cost:["black","black"],name:"Ganon",description:"Wild Range +1 For A Card In Hand",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:11,abilityFunction:"wildSuitRange",targetAll:!1,abilityValue:14,cost:["red","red"],name:"Ganon",description:"Wild A Card In Hand",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"}]}getAbilityCardsBot(t){return[{id:1,abilityFunction:"discard",targetAll:!1,abilityValue:1,cost:["red"],name:"Ganon",description:"Apply -1 offense to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:2,abilityFunction:"draw",targetAll:!0,abilityValue:1,cost:["diamonds"],name:"Ganon",description:"Deal 1 damage to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:1,abilityFunction:"heal",targetAll:!1,abilityValue:2,cost:["red"],name:"Ganon",description:"Apply -1 offense to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:2,abilityFunction:"discard",targetAll:!0,abilityValue:2,cost:["diamonds"],name:"Ganon",description:"Deal 1 damage to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:3,abilityFunction:"heal",targetAll:!0,abilityValue:1,cost:["red"],name:"Ganon",description:"Apply -1 offense to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:4,abilityFunction:"heal",targetAll:!0,abilityValue:1,cost:["diamonds"],name:"Ganon",description:"Deal 1 damage to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:5,abilityFunction:"offense",targetAll:!1,abilityValue:1,cost:["red"],name:"Ganon",description:"Apply -1 offense to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"},{id:6,abilityFunction:"damage",targetAll:!1,abilityValue:1,cost:["diamonds"],name:"Ganon",description:"Deal 1 damage to target enemy",image:"./assets/"+t+"/abilitycard.png",level:1,hitAnimation:"fire"}]}generateWildCard(t){return{...this.wildCard,id:t.length+1}}getPlayerCheats(){return{canDefendWithMultipleCards:!0,alwaysWinTies:!0,canSeeTopCard:!0}}updateThemeStyles(t){document.body.classList.add(t+"-body")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u3=(()=>{class e{constructor(){}checkCanUseAbility(t,r){let i=this.getSuitsDetails(r),s={diamonds:0,spades:0,clubs:0,hearts:0},a=0;if([...t.cost].forEach(l=>{let c=l;a!==[...t.cost].length&&("red"===c?i.hearts>0?(s.hearts++,i.hearts--,a++):i.diamonds>0&&(s.diamonds++,i.diamonds--,a++):"black"===c?i.spades>0?(s.spades++,i.spades--,a++):i.clubs>0&&(s.clubs++,i.clubs--,a++):i[l]>0&&(s[l]++,i[l]--,a++))}),[...t.cost].length===s.hearts+s.diamonds+s.spades+s.clubs){const l=[],c=[...t.cost];return[...r].forEach(d=>{const g=l.find(m=>m.id===d.id);c.forEach((m,y)=>{(!g&&"red"===m&&("diamonds"===d.suit||"hearts"===d.suit)||!g&&"black"===m&&("spades"===d.suit||"clubs"===d.suit)||!g&&m===d.suit)&&(l.push(d),c.splice(y,1))})}),l}return[]}getSuitsDetails(t){return t.map(s=>s.suit).reduce((s,a)=>(s[a]=s[a]+1||1,s),{})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const c3=["enemyDefenseRef"],d3=["myActiveCards"],f3=["activeAbilityCards"],h3=["activeAbilityCardsBot"],g3=["activeEnemyCards"],p3=["enemyPlayerRef"],m3=["playerRef"],y3=function(e,n){return{top:e,left:n}},Ji=function(){return{duration:500,delay:0,translate:"300px"}},Ee=function(e){return{value:"",params:e}};function v3(e,n){if(1&e&&(q(0,"div"),de(1,"div",30),J()),2&e){const t=n.$implicit;E(1),w("ngStyle",Kn(3,y3,"calc("+t.y+"px - 2.5em)","calc("+t.x+"px - 2.5em)"))("@fadeEnter",W(7,Ee,Ae(6,Ji)))("@fadeOutLeave",void 0)}}const Mc=function(e){return{duration:400,delay:e,translate:"100px"}},Pc=function(e,n,t){return{successText:e,failText:n,tieText:t}};function _3(e,n){if(1&e&&(q(0,"div",66),Ce(1),J()),2&e){const t=re(2);w("@zoomInEnter",W(6,Ee,W(4,Mc,t.enemyWinner?400:2e3)))("@fadeUpLeave",void 0)("ngClass",kr(8,Pc,t.enemyWinner,t.enemyLoser,t.tie)),E(1),ze(" ",t.enemyWinner?"Winner!":t.tie?"Tie":"-"+(t.selectedCards.length+t.currentExtraDmg)," ")}}function b3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}const Rc=function(){return{duration:500,delay:100,translate:"300px"}};function w3(e,n){1&e&&de(0,"img",68),2&e&&w("src","./assets/"+re(2).gameThemePath+"/confetti.gif",be)("@fadeDownEnter",W(4,Ee,Ae(3,Rc)))("@fadeDownLeave",void 0)}const Lc=function(){return{duration:500,delay:2e3,translate:"300px"}};function C3(e,n){1&e&&de(0,"img",69),2&e&&w("src","./assets/"+re(2).gameThemePath+"/claws.png",be)("@fadeEnter",W(4,Ee,Ae(3,Lc)))("@fadeOutLeave",void 0)}function S3(e,n){if(1&e&&(q(0,"div",66),Ce(1),J()),2&e){const t=re(2);w("@zoomInEnter",W(6,Ee,W(4,Mc,t.playerWinner?400:2e3)))("@fadeUpLeave",void 0)("ngClass",kr(8,Pc,t.playerWinner,t.playerLoser,t.tie)),E(1),ze(" ",t.playerWinner?"Winner!":t.tie?"Tie":"-"+t.enemyDefense.length," ")}}function E3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}function D3(e,n){1&e&&de(0,"img",68),2&e&&w("src","./assets/"+re(2).gameThemePath+"/confetti.gif",be)("@fadeDownEnter",W(4,Ee,Ae(3,Rc)))("@fadeDownLeave",void 0)}function A3(e,n){1&e&&de(0,"img",69),2&e&&w("src","./assets/"+re(2).gameThemePath+"/claws.png",be)("@fadeEnter",W(4,Ee,Ae(3,Lc)))("@fadeOutLeave",void 0)}function T3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}const es=function(){return{duration:400,delay:1e3,translate:"30px"}},Nc=function(e){return{specialNameText:e}},ct=function(e){return{"font-family":e}},Fc=function(){return{}};function I3(e,n){if(1&e&&(q(0,"div",70),Ce(1),J()),2&e){const t=re(2);w("@zoomInEnter",W(6,Ee,Ae(5,es)))("@fadeUpLeave",void 0)("ngClass",W(8,Nc,5===(null==t.enemyAttackHand?null:t.enemyAttackHand.power)))("ngStyle",5===(null==t.enemyAttackHand?null:t.enemyAttackHand.power)?W(10,ct,t.gameThemePath+"-HeaderFont"):Ae(12,Fc)),E(1),ze(" ",null==t.enemyAttackHand?null:t.enemyAttackHand.name," ")}}const x3=function(){return{duration:500,delay:500,translate:"30px"}};function k3(e,n){if(1&e&&(q(0,"div",71)(1,"div",72)(2,"div",73),de(3,"img",74),J()()()),2&e){const t=n.$implicit,r=re(2);w("@fadeDownEnter",W(4,Ee,Ae(3,x3)))("@fadeDownLeave",void 0),E(3),w("src","./assets/"+r.gameThemePath+"/cards/"+t.image,be)}}function O3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}function M3(e,n){if(1&e&&(q(0,"div",70),Ce(1),J()),2&e){const t=re(2);w("@zoomInEnter",W(6,Ee,Ae(5,es)))("@fadeUpLeave",void 0)("ngClass",W(8,Nc,5===(null==t.playerAttackHand?null:t.playerAttackHand.power)))("ngStyle",5===(null==t.playerAttackHand?null:t.playerAttackHand.power)?W(10,ct,t.gameThemePath+"-HeaderFont"):Ae(12,Fc)),E(1),ze(" ",null==t.playerAttackHand?null:t.playerAttackHand.name," ")}}const P3=function(){return{duration:500,delay:500,translate:"150px"}};function R3(e,n){if(1&e&&(q(0,"div",71)(1,"div",72)(2,"div",73),de(3,"img",74),J()()()),2&e){const t=n.$implicit,r=re(2);w("@fadeUpEnter",W(4,Ee,Ae(3,P3)))("@fadeUpLeave",void 0),E(3),w("src","./assets/"+r.gameThemePath+"/cards/"+t.image,be)}}const Qr=function(e,n){return{fade:e,fadeHide:n}},EE=function(){return{duration:800,delay:0,translate:"200px"}},Bc=function(e,n,t,r){return{fade:e,fadeHide:n,zoomOutDarken:t,zoomIn:r}},Vc=function(e){return{deadEnemy:e}},ml=function(e){return{redHealthText:e}},DE=function(){return{duration:800,delay:100,translate:"200px"}};function L3(e,n){if(1&e&&(q(0,"div",31)(1,"div",32),de(2,"div",33),q(3,"div",34)(4,"div",35),oe(5,_3,2,12,"div",36),oe(6,b3,2,0,"div",37),q(7,"div",38)(8,"div",39),de(9,"div",40)(10,"div",41)(11,"div",42)(12,"div",43),oe(13,w3,1,6,"img",44),de(14,"div",45),oe(15,C3,1,6,"img",46),J(),q(16,"div",47),de(17,"img",48),q(18,"div",49)(19,"div",50),Ce(20),J()()(),q(21,"div",51),de(22,"img",48),q(23,"div",49)(24,"div",52),Ce(25),J()()(),de(26,"img",53),J()()(),q(27,"div",54)(28,"div",55),oe(29,S3,2,12,"div",36),oe(30,E3,2,0,"div",37),q(31,"div",38)(32,"div",39),de(33,"div",56)(34,"div",57)(35,"div",58)(36,"div",59),oe(37,D3,1,6,"img",44),oe(38,A3,1,6,"img",46),J(),q(39,"div",47),de(40,"img",48),q(41,"div",49)(42,"div",50),Ce(43),J()()(),q(44,"div",51),de(45,"img",48),q(46,"div",49)(47,"div",52),Ce(48),J()()(),de(49,"img",53),J()()(),q(50,"div",60)(51,"div",61),oe(52,T3,2,0,"div",37),oe(53,I3,2,13,"div",62),q(54,"div",63),oe(55,k3,4,6,"div",64),J()(),q(56,"div",65),oe(57,O3,2,0,"div",37),oe(58,M3,2,13,"div",62),q(59,"div",63),oe(60,R3,4,6,"div",64),J()()()()()),2&e){const t=re();let r,i,s,a;E(2),w("ngClass",Kn(41,Qr,t.attackEnding,!t.attackStarted))("@fadeEnter",W(45,Ee,Ae(44,Ji))),E(2),w("@fadeRightEnter",W(48,Ee,Ae(47,EE)))("@fadeRightLeave",void 0)("ngClass",Fa(50,Bc,t.attackEnding,!t.attackStarted,t.enemyWinner,t.enemyLoser)),E(1),w("ngIf",t.enemyWinner||t.playerWinner||t.tie),E(1),w("ngIf",!t.playerWinner&&!t.playerLoser&&!t.tie),E(1),w("ngClass",W(55,Vc,t.findEnemyPlayer().health<1)),E(6),w("ngIf",t.enemyWinner),E(2),w("ngIf",t.enemyLoser),E(2),w("src","./assets/"+t.gameThemePath+"/sword.png",be),E(2),w("ngStyle",W(57,ct,t.gameThemePath+"-HeaderFont")),E(1),ze(" ",t.findEnemyPlayer().attack," "),E(2),w("src","./assets/"+t.gameThemePath+"/playerHealth.png",be),E(2),w("ngStyle",W(59,ct,t.gameThemePath+"-HeaderFont"))("ngClass",W(61,ml,t.findEnemyPlayer().health<t.findEnemyPlayer().baseHealth)),E(1),ze(" ",t.findEnemyPlayer().health," "),E(1),w("src",t.findEnemyPlayer().image,be),E(2),w("@fadeLeftEnter",W(64,Ee,Ae(63,DE)))("@fadeLeftLeave",void 0)("ngClass",Fa(66,Bc,t.attackEnding,!t.attackStarted,t.playerWinner,t.playerLoser)),E(1),w("ngIf",t.enemyWinner||t.playerWinner||t.tie),E(1),w("ngIf",!t.playerWinner&&!t.playerLoser&&!t.tie),E(1),w("ngClass",W(71,Vc,t.player.health<1)),E(6),w("ngIf",t.playerWinner),E(1),w("ngIf",t.playerLoser),E(2),w("src","./assets/"+t.gameThemePath+"/sword.png",be),E(2),w("ngStyle",W(73,ct,t.gameThemePath+"-HeaderFont")),E(1),ze(" ",t.player.attack," "),E(2),w("src","./assets/"+t.gameThemePath+"/playerHealth.png",be),E(2),w("ngStyle",W(75,ct,t.gameThemePath+"-HeaderFont"))("ngClass",W(77,ml,t.player.health<t.player.baseHealth)),E(1),ze(" ",t.player.health," "),E(1),w("src",t.player.image,be),E(1),w("ngClass",Kn(79,Qr,t.attackEnding,!t.attackStarted)),E(2),w("ngIf",(null!==(r=null==t.enemyAttackHand?null:t.enemyAttackHand.name)&&void 0!==r?r:"").length<1),E(1),w("ngIf",(null!==(i=null==t.enemyAttackHand?null:t.enemyAttackHand.name)&&void 0!==i?i:"").length>1),E(2),w("ngForOf",t.enemyDefense),E(2),w("ngIf",(null!==(s=null==t.playerAttackHand?null:t.playerAttackHand.name)&&void 0!==s?s:"").length<1),E(1),w("ngIf",(null!==(a=null==t.playerAttackHand?null:t.playerAttackHand.name)&&void 0!==a?a:"").length>1),E(2),w("ngForOf",t.selectedCards)}}function N3(e,n){if(1&e&&(q(0,"div",66),Ce(1),J()),2&e){const t=re(2);w("@zoomInEnter",W(6,Ee,W(4,Mc,t.enemyWinner?400:2e3)))("@fadeUpLeave",void 0)("ngClass",kr(8,Pc,t.enemyWinner,t.enemyLoser,t.tie)),E(1),ze(" ",t.enemyWinner?"Winner!":t.tie?"Tie":"-"+(t.selectedCards.length+t.currentExtraDmg)," ")}}function F3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}function B3(e,n){1&e&&de(0,"img",68),2&e&&w("src","./assets/"+re(2).gameThemePath+"/confetti.gif",be)("@fadeDownEnter",W(4,Ee,Ae(3,Rc)))("@fadeDownLeave",void 0)}function V3(e,n){1&e&&de(0,"img",69),2&e&&w("src","./assets/"+re(2).gameThemePath+"/claws.png",be)("@fadeEnter",W(4,Ee,Ae(3,Lc)))("@fadeOutLeave",void 0)}function H3(e,n){if(1&e&&(q(0,"div",66),Ce(1),J()),2&e){const t=re(2);w("@zoomInEnter",W(6,Ee,W(4,Mc,t.playerWinner?400:2e3)))("@fadeUpLeave",void 0)("ngClass",kr(8,Pc,t.playerWinner,t.playerLoser,t.tie)),E(1),ze(" ",t.playerWinner?"Winner!":t.tie?"Tie":"-"+t.enemyDefense.length," ")}}function U3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}function $3(e,n){1&e&&de(0,"img",68),2&e&&w("src","./assets/"+re(2).gameThemePath+"/confetti.gif",be)("@fadeDownEnter",W(4,Ee,Ae(3,Rc)))("@fadeDownLeave",void 0)}function j3(e,n){1&e&&de(0,"img",69),2&e&&w("src","./assets/"+re(2).gameThemePath+"/claws.png",be)("@fadeEnter",W(4,Ee,Ae(3,Lc)))("@fadeOutLeave",void 0)}function z3(e,n){if(1&e&&(q(0,"div",80),Ce(1," Defend "),J()),2&e){const t=re(2);w("ngStyle",W(1,ct,t.gameThemePath+"-HeaderFont"))}}function W3(e,n){if(1&e){const t=Ln();q(0,"img",81),Zt("click",function(){return $t(t),jt(re(2).chooseDefensePlayerCards())}),J()}2&e&&w("src","./assets/"+re(2).gameThemePath+"/defend.png",be)}function G3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}const q3=function(){return{duration:400,delay:100,translate:"30px"}};function K3(e,n){if(1&e&&(q(0,"div",70),Ce(1),J()),2&e){const t=re(2);w("@zoomInEnter",W(6,Ee,Ae(5,q3)))("@fadeUpLeave",void 0)("ngClass",W(8,Nc,5===(null==t.enemyAttackHand?null:t.enemyAttackHand.power)))("ngStyle",5===(null==t.enemyAttackHand?null:t.enemyAttackHand.power)?W(10,ct,t.gameThemePath+"-HeaderFont"):Ae(12,Fc)),E(1),ze(" ",null==t.enemyAttackHand?null:t.enemyAttackHand.name," ")}}const Y3=function(){return{duration:400,delay:400,translate:"30px"}};function Q3(e,n){if(1&e&&(q(0,"div",71)(1,"div",72)(2,"div",73),de(3,"img",74),J()()()),2&e){const t=n.$implicit,r=re(2);w("@fadeUpEnter",W(4,Ee,Ae(3,Y3)))("@fadeUpLeave",void 0),E(3),w("src","./assets/"+r.gameThemePath+"/cards/"+t.image,be)}}function Z3(e,n){1&e&&(q(0,"div",67),Ce(1," . "),J())}const X3=function(){return{duration:400,delay:500,translate:"30px"}};function J3(e,n){if(1&e&&(q(0,"div",70),Ce(1),J()),2&e){const t=re(3);w("@zoomInEnter",W(6,Ee,Ae(5,X3)))("@fadeUpLeave",void 0)("ngClass",W(8,Nc,5===(null==t.playerAttackHand?null:t.playerAttackHand.power)))("ngStyle",5===(null==t.playerAttackHand?null:t.playerAttackHand.power)?W(10,ct,t.gameThemePath+"-HeaderFont"):Ae(12,Fc)),E(1),ze(" ",null==t.playerAttackHand?null:t.playerAttackHand.name," ")}}const e5=function(){return{duration:400,delay:0,translate:"150px"}};function t5(e,n){if(1&e&&(q(0,"div",71)(1,"div",72)(2,"div",73),de(3,"img",74),J()()()),2&e){const t=n.$implicit,r=re(4);w("@fadeUpEnter",W(4,Ee,Ae(3,e5)))("@fadeUpLeave",void 0),E(3),w("src","./assets/"+r.gameThemePath+"/cards/"+t.image,be)}}function n5(e,n){if(1&e&&(q(0,"div",63),oe(1,t5,4,6,"div",64),J()),2&e){const t=re(3);E(1),w("ngForOf",t.selectedCards)}}function r5(e,n){if(1&e&&(q(0,"div",65),oe(1,Z3,2,0,"div",37),oe(2,J3,2,13,"div",62),oe(3,n5,2,1,"div",82),J()),2&e){const t=re(2);let r,i;E(1),w("ngIf",(null!==(r=null==t.playerAttackHand?null:t.playerAttackHand.name)&&void 0!==r?r:"").length<1),E(1),w("ngIf",(null!==(i=null==t.playerAttackHand?null:t.playerAttackHand.name)&&void 0!==i?i:"").length>1),E(1),w("ngIf",t.chooseDefensePlayerCards)}}function i5(e,n){if(1&e&&(q(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34)(4,"div",35),oe(5,N3,2,12,"div",36),oe(6,F3,2,0,"div",37),q(7,"div",38)(8,"div",39),de(9,"div",40)(10,"div",41)(11,"div",42)(12,"div",43),oe(13,B3,1,6,"img",44),de(14,"div",45),oe(15,V3,1,6,"img",46),J(),q(16,"div",47),de(17,"img",48),q(18,"div",49)(19,"div",50),Ce(20),J()()(),q(21,"div",51),de(22,"img",48),q(23,"div",49)(24,"div",52),Ce(25),J()()(),de(26,"img",53),J()()(),q(27,"div",54)(28,"div",55),oe(29,H3,2,12,"div",36),oe(30,U3,2,0,"div",37),q(31,"div",38)(32,"div",39),de(33,"div",56)(34,"div",57)(35,"div",58)(36,"div",59),oe(37,$3,1,6,"img",44),oe(38,j3,1,6,"img",46),J(),q(39,"div",47),de(40,"img",48),q(41,"div",49)(42,"div",50),Ce(43),J()()(),q(44,"div",51),de(45,"img",48),q(46,"div",49)(47,"div",52),Ce(48),J()()(),de(49,"img",53),J()()(),q(50,"div",75),oe(51,z3,2,3,"div",76),oe(52,W3,1,1,"img",77),J()(),q(53,"div",60)(54,"div",61),oe(55,G3,2,0,"div",37),oe(56,K3,2,13,"div",62),q(57,"div",63,78),oe(59,Q3,4,6,"div",64),J()(),oe(60,r5,4,3,"div",79),J()()()),2&e){const t=re();let r,i;E(2),w("ngClass",Kn(41,Qr,t.attackEnding,!t.enemyAttackStarted))("@fadeEnter",W(45,Ee,Ae(44,Ji))),E(2),w("@fadeRightEnter",W(48,Ee,Ae(47,EE)))("@fadeRightLeave",void 0)("ngClass",Fa(50,Bc,t.attackEnding,!t.enemyAttackStarted,t.enemyWinner,t.enemyLoser)),E(1),w("ngIf",t.enemyWinner||t.playerWinner||t.tie),E(1),w("ngIf",!t.playerWinner&&!t.playerLoser&&!t.tie),E(1),w("ngClass",W(55,Vc,t.findStaticEnemyPlayer().health<1)),E(6),w("ngIf",t.enemyWinner),E(2),w("ngIf",t.enemyLoser),E(2),w("src","./assets/"+t.gameThemePath+"/sword.png",be),E(2),w("ngStyle",W(57,ct,t.gameThemePath+"-HeaderFont")),E(1),ze(" ",t.findStaticEnemyPlayer().attack," "),E(2),w("src","./assets/"+t.gameThemePath+"/playerHealth.png",be),E(2),w("ngStyle",W(59,ct,t.gameThemePath+"-HeaderFont"))("ngClass",W(61,ml,t.findStaticEnemyPlayer().health<t.findStaticEnemyPlayer().baseHealth)),E(1),ze(" ",t.findStaticEnemyPlayer().health," "),E(1),w("src",t.findStaticEnemyPlayer().image,be),E(2),w("@fadeLeftEnter",W(64,Ee,Ae(63,DE)))("@fadeLeftLeave",void 0)("ngClass",Fa(66,Bc,t.attackEnding,!t.enemyAttackStarted,t.playerWinner,t.playerLoser)),E(1),w("ngIf",t.enemyWinner||t.playerWinner||t.tie),E(1),w("ngIf",!t.playerWinner&&!t.playerLoser&&!t.tie),E(1),w("ngClass",W(71,Vc,t.player.health<1)),E(6),w("ngIf",t.playerWinner),E(1),w("ngIf",t.playerLoser),E(2),w("src","./assets/"+t.gameThemePath+"/sword.png",be),E(2),w("ngStyle",W(73,ct,t.gameThemePath+"-HeaderFont")),E(1),ze(" ",t.player.attack," "),E(2),w("src","./assets/"+t.gameThemePath+"/playerHealth.png",be),E(2),w("ngStyle",W(75,ct,t.gameThemePath+"-HeaderFont"))("ngClass",W(77,ml,t.player.health<t.player.baseHealth)),E(1),ze(" ",t.player.health," "),E(1),w("src",t.player.image,be),E(2),w("ngIf",t.canSelectCards),E(1),w("ngIf",t.canSelectCards),E(1),w("ngClass",Kn(79,Qr,t.attackEnding,!t.enemyAttackStarted)),E(2),w("ngIf",(null!==(r=null==t.enemyAttackHand?null:t.enemyAttackHand.name)&&void 0!==r?r:"").length<1),E(1),w("ngIf",(null!==(i=null==t.enemyAttackHand?null:t.enemyAttackHand.name)&&void 0!==i?i:"").length>1),E(3),w("ngForOf",t.enemyDefense),E(1),w("ngIf",t.finishedChoosingDefensePlayer)}}function s5(e,n){1&e&&de(0,"div",97)}const Zg=function(e){return{specialWildRangeIcon:e}},Xg=function(e){return{specialWildRangeIconText:e}};function a5(e,n){if(1&e&&(q(0,"div",98)(1,"div",99),Ce(2),J()()),2&e){const t=re().$implicit,r=re(2);w("ngClass",W(5,Zg,14===t.wildRange)),E(1),w("@fadeEnter",W(8,Ee,Ae(7,es)))("ngClass",W(10,Xg,14===t.wildRange))("ngStyle",W(14===t.wildRange?12:14,ct,r.gameThemePath+"-HeaderFont")),E(1),ze(" ",14===t.wildRange?"\u2605":"+"+t.wildRange," ")}}const AE=function(e){return{duration:400,delay:e,translate:"30px"}},o5=function(e){return{activeDiscardCard:e}},Jg=function(e){return{activeCardBorder:e}};function l5(e,n){if(1&e){const t=Ln();q(0,"div",92)(1,"div",93),Zt("click",function(){const s=$t(t).$implicit;return jt(re(2).selectDiscardCard(s))}),q(2,"div",94),de(3,"img",74),oe(4,s5,1,0,"div",95),oe(5,a5,3,16,"div",96),J()()()}if(2&e){const t=n.$implicit,r=n.index,i=re(2);w("@fadeUpEnter",W(9,Ee,W(7,AE,100*(r+1))))("@fadeUpLeave",void 0),E(1),w("ngClass",W(11,o5,i.discardCardIsSelected(t))),E(1),w("ngClass",W(13,Jg,i.discardCardIsSelected(t))),E(1),w("src","./assets/"+i.gameThemePath+"/cards/"+t.image,be),E(1),w("ngIf",t.wild),E(1),w("ngIf",t.wild&&t.wildRange&&t.wildRange>0)}}const TE=function(){return{duration:600,delay:500,translate:"200px"}};function u5(e,n){if(1&e){const t=Ln();q(0,"div",83)(1,"div",32),de(2,"div",33),q(3,"div",84)(4,"div",85),Ce(5,"Hand Is Full"),J(),q(6,"div",86),Ce(7),J()(),q(8,"div",87),oe(9,l5,6,15,"div",88),q(10,"div",89)(11,"img",90),Zt("click",function(){return $t(t),jt(re().finishedDiscarding())}),J(),q(12,"div",91),Ce(13," Ok "),J()()()()()}if(2&e){const t=re();E(2),w("ngClass",Kn(10,Qr,!t.discarding,t.discardHide))("@fadeEnter",W(14,Ee,Ae(13,Ji))),E(1),w("ngClass",Kn(16,Qr,!t.discarding,t.discardHide)),E(4),ze(" Discard ",t.discardCards.length-5-t.discardSelectedCards.length," cards "),E(1),w("ngClass",Kn(19,Qr,!t.discarding,t.discardHide)),E(1),w("ngForOf",t.discardCards),E(1),w("@fadeUpEnter",W(23,Ee,Ae(22,TE)))("@fadeUpLeave",void 0),E(1),w("src","./assets/"+t.gameThemePath+"/attack.png",be),E(1),w("ngStyle",W(25,ct,t.gameThemePath+"-HeaderFont"))}}function c5(e,n){1&e&&de(0,"div",97)}function d5(e,n){if(1&e&&(q(0,"div",98)(1,"div",99),Ce(2),J()()),2&e){const t=re().$implicit,r=re(2);w("ngClass",W(5,Zg,14===t.wildRange)),E(1),w("@fadeEnter",W(8,Ee,Ae(7,es)))("ngClass",W(10,Xg,14===t.wildRange))("ngStyle",W(14===t.wildRange?12:14,ct,r.gameThemePath+"-HeaderFont")),E(1),ze(" ",14===t.wildRange?"\u2605":"+"+t.wildRange," ")}}const f5=function(e){return{activeRedrawCard:e}};function h5(e,n){if(1&e){const t=Ln();q(0,"div",92)(1,"div",101),Zt("click",function(){const s=$t(t).$implicit;return jt(re(2).selectRedrawCard(s))}),q(2,"div",94),de(3,"img",74),oe(4,c5,1,0,"div",95),oe(5,d5,3,16,"div",96),J()()()}if(2&e){const t=n.$implicit,r=n.index,i=re(2);w("@fadeUpEnter",W(9,Ee,W(7,AE,100*(r+1))))("@fadeUpLeave",void 0),E(1),w("ngClass",W(11,f5,i.redrawCardIsSelected(t))),E(1),w("ngClass",W(13,Jg,i.redrawCardIsSelected(t))),E(1),w("src","./assets/"+i.gameThemePath+"/cards/"+t.image,be),E(1),w("ngIf",t.wild),E(1),w("ngIf",t.wild&&t.wildRange&&t.wildRange>0)}}function g5(e,n){if(1&e){const t=Ln();q(0,"div",100)(1,"div",32),de(2,"div",33),q(3,"div",84)(4,"div",85),Ce(5,"Redraw Cards"),J(),q(6,"div",86),Ce(7),J()(),q(8,"div",87),oe(9,h5,6,15,"div",88),q(10,"div",89)(11,"img",90),Zt("click",function(){return $t(t),jt(re().finishedRedraw())}),J(),q(12,"div",91),Ce(13," Ok "),J()()()()()}if(2&e){const t=re();E(2),w("ngClass",Kn(9,Qr,!t.redrawing,t.redrawHide)),E(1),w("ngClass",Kn(12,Qr,!t.redrawing,t.redrawHide)),E(4),ze(" Can select up to ",2-t.redrawSelectedCards.length," more cards to redraw "),E(1),w("ngClass",Kn(15,Qr,!t.redrawing,t.redrawHide)),E(1),w("ngForOf",t.redrawCards),E(1),w("@fadeUpEnter",W(19,Ee,Ae(18,TE)))("@fadeUpLeave",void 0),E(1),w("src","./assets/"+t.gameThemePath+"/attack.png",be),E(1),w("ngStyle",W(21,ct,t.gameThemePath+"-HeaderFont"))}}const Hc=function(e){return{fade:e}},Uc=function(){return{duration:1e3,delay:0,translate:"30px"}};function p5(e,n){if(1&e&&(q(0,"div",102)(1,"div",103),Ce(2),J()()),2&e){const t=n.$implicit,r=re();E(1),w("ngClass",W(4,Hc,r.errorListInactive.includes(t.id)))("@zoomInEnter",W(7,Ee,Ae(6,Uc)))("@fadeOutLeave",void 0),E(1),ze(" ",t.message," ")}}function m5(e,n){if(1&e&&(q(0,"div",102)(1,"div",103),Ce(2),J()()),2&e){const t=n.$implicit,r=re();E(1),w("ngClass",W(4,Hc,r.specialAbilityListInactive.includes(t.id)))("@zoomInEnter",W(7,Ee,Ae(6,Uc)))("@fadeOutLeave",void 0),E(1),ze(" ",t.message," ")}}function y5(e,n){if(1&e&&(q(0,"div",102)(1,"div",104),Ce(2),J()()),2&e){const t=n.$implicit,r=re();E(1),w("ngClass",W(4,Hc,r.messageListInactive.includes(t.id)))("@zoomInEnter",W(7,Ee,Ae(6,Uc)))("@fadeOutLeave",void 0),E(1),ze(" ",t.message," ")}}function v5(e,n){if(1&e&&(q(0,"div",102)(1,"div",104),Ce(2),J()()),2&e){const t=n.$implicit,r=re();E(1),w("ngClass",W(4,Hc,r.displayMessageListInactive.includes(t.id)))("@zoomInEnter",W(7,Ee,Ae(6,Uc)))("@fadeOutLeave",void 0),E(1),ze(" ",t.message," ")}}const qt=function(e){return{"background-image":e}};function _5(e,n){if(1&e&&de(0,"div",111),2&e){const t=re(2);w("ngStyle",W(1,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)"))}}const IE=function(){return{delay:600}};function b5(e,n){if(1&e&&de(0,"div",112),2&e){const t=re(2);w("@flipInYonEnter",W(4,Ee,Ae(3,IE)))("@fadeDownLeave",void 0)("ngStyle",W(6,qt,"url(./assets/"+t.gameThemePath+"/cards/"+t.enemyDeck[0].image+")"))}}const $c=function(e){return{darkenCard:e}},jc=function(){return{delay:300}};function w5(e,n){if(1&e&&(q(0,"div",105),de(1,"div",106)(2,"div",107)(3,"div",108),oe(4,_5,1,3,"div",109),oe(5,b5,1,8,"div",110),J()),2&e){const t=re();w("ngClass",W(7,$c,"wildSuit"===t.currentAbility.abilityFunction||"wildRange"===t.currentAbility.abilityFunction||"wildSuitRange"===t.currentAbility.abilityFunction))("@fadeDownEnter",W(10,Ee,Ae(9,jc))),E(1),w("ngStyle",W(12,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)")),E(1),w("ngStyle",W(14,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)")),E(1),w("ngStyle",W(16,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)")),E(1),w("ngIf",!t.canSeeTopCard),E(1),w("ngIf",t.canSeeTopCard&&t.topRedrawCardEnemy===t.enemyDeck[0].id)}}const C5=function(e){return{activeEnemyCard:e}},zc=function(e){return{"animation-delay":e}};function S5(e,n){if(1&e&&(q(0,"div",116,117)(2,"div",73),de(3,"img",74),J()()),2&e){const t=n.$implicit,r=n.index,i=re(2);w("ngClass",W(4,C5,i.enemyCardIsSelected(t)))("ngStyle",W(6,zc,100*(r+1)+"ms"))("@cardLeaving",void 0),E(3),w("src","./assets/"+i.gameThemePath+"/cardBack.png",be)}}function E5(e,n){if(1&e&&de(0,"img",132),2&e){const t=n.$implicit;w("src","./assets/"+re(3).gameThemePath+"/"+t+".png",be)}}const D5=function(e,n,t){return{abilityIsActive:e,abilityIsActiveBot:n,abilityIsActiveTarget:t}};function A5(e,n){if(1&e&&(q(0,"div",116,118)(2,"div",119),de(3,"img",120)(4,"img",74),q(5,"div",121)(6,"div",122)(7,"div",123),Ce(8),J(),q(9,"div",124),oe(10,E5,1,1,"img",125),J()(),de(11,"div",126)(12,"div",127),q(13,"div",128)(14,"div",129)(15,"div",130),Ce(16),J()(),q(17,"div",131),Ce(18),J()()()()()),2&e){const t=n.$implicit,r=n.index,i=re(2);w("ngClass",kr(10,D5,i.abilityCardIsSelectedBot(t),i.abilityCardIsSelectedBot(t),i.currentAbilityBot.id===t.id))("ngStyle",W(14,zc,100*(r+6)+"ms"))("@cardLeaving",void 0),E(2),w("ngClass",W(16,Jg,i.abilityCardIsSelectedBot(t))),E(1),w("@fadeOutLeave",void 0),E(1),w("src","./assets/"+i.gameThemePath+"/abilitycard.png",be),E(4),No(t.name),E(2),w("ngForOf",t.cost),E(6),ze("Level ",t.level,""),E(2),ze(" ",t.description," ")}}function T5(e,n){if(1&e&&(q(0,"div",113),oe(1,S5,4,8,"div",114),oe(2,A5,19,18,"div",115),J()),2&e){const t=re();E(1),w("ngForOf",t.enemyHand),E(1),w("ngForOf",t.abilityCardsHandBot)("ngForTrackBy",t.trackById)}}function I5(e,n){if(1&e&&de(0,"div",111),2&e){const t=re(2);w("ngStyle",W(1,qt,"url(./assets/"+t.gameThemePath+"/back.png)"))}}function x5(e,n){if(1&e&&de(0,"img",132),2&e){const t=n.$implicit;w("src","./assets/"+re(3).gameThemePath+"/"+t+".png",be)}}const xE=function(){return{delay:900}};function k5(e,n){if(1&e&&(q(0,"div",136)(1,"div",73),de(2,"img",74),q(3,"div",121)(4,"div",122)(5,"div",123),Ce(6),J(),q(7,"div",124),oe(8,x5,1,1,"img",125),J()(),de(9,"div",126)(10,"div",127),q(11,"div",128)(12,"div",129)(13,"div",130),Ce(14),J()(),q(15,"div",131),Ce(16),J()()()()()),2&e){const t=re(2);w("@flipInYonEnter",W(8,Ee,Ae(7,xE)))("@fadeDownLeave",void 0),E(2),w("src","./assets/"+t.gameThemePath+"/abilitycard.png",be),E(4),ze(" ",t.topAbilityCardBot.name," "),E(2),w("ngForOf",t.topAbilityCardBot.cost),E(6),ze(" Level ",t.topAbilityCardBot.level," "),E(2),ze(" ",t.topAbilityCardBot.description," ")}}function O5(e,n){if(1&e&&(q(0,"div",133),de(1,"div",106)(2,"div",107)(3,"div",108),oe(4,I5,1,3,"div",109),q(5,"div",134),oe(6,k5,17,10,"div",135),J()()),2&e){const t=re();w("ngClass",W(7,$c,"wildSuit"===t.currentAbility.abilityFunction||"wildRange"===t.currentAbility.abilityFunction||"wildSuitRange"===t.currentAbility.abilityFunction))("@fadeDownEnter",W(10,Ee,Ae(9,jc))),E(1),w("ngStyle",W(12,qt,"url(./assets/"+t.gameThemePath+"/back.png)")),E(1),w("ngStyle",W(14,qt,"url(./assets/"+t.gameThemePath+"/back.png)")),E(1),w("ngStyle",W(16,qt,"url(./assets/"+t.gameThemePath+"/back.png)")),E(1),w("ngIf",!t.canSeeTopCard),E(2),w("ngIf",t.canSeeTopCard)}}function M5(e,n){if(1&e&&(q(0,"div",137),de(1,"img",138),J()),2&e){const t=re();E(1),w("src","./assets/"+t.gameThemePath+"/skull.png",be)}}function P5(e,n){1&e&&de(0,"img",69),2&e&&w("src","./assets/"+re(2).gameThemePath+"/fire.gif",be)("@fadeEnter",W(4,Ee,Ae(3,Ji)))("@fadeOutLeave",void 0)}function R5(e,n){1&e&&de(0,"img",145),2&e&&w("src","./assets/"+re(2).gameThemePath+"/offenseShield.png",be)}function L5(e,n){1&e&&de(0,"img",146),2&e&&w("src","./assets/"+re(2).gameThemePath+"/potion.png",be)}const Wc=function(e){return{blueOffenseText:e}},kE=function(){return{duration:200}};function N5(e,n){if(1&e&&(q(0,"div",147),Ce(1),J()),2&e){const t=re(2);w("ngStyle",W(5,ct,t.gameThemePath+"-HeaderFont"))("ngClass",W(7,Wc,"offense"===t.currentAbilityBot.abilityFunction))("@fadeEnter",W(10,Ee,Ae(9,Ji)))("@fadeOutLeave",W(13,Ee,Ae(12,kE))),E(1),ze(" -",t.currentAbilityBot.abilityValue," ")}}const F5=function(e){return{leavingFieldCard:e}},B5=function(e){return{errorEnemyBorder:e}},V5=function(e,n){return{redHealthText:e,greenHealthText:n}};function H5(e,n){if(1&e&&(q(0,"div",139)(1,"div",38,140),oe(3,P5,1,6,"img",46),oe(4,R5,1,1,"img",141),oe(5,L5,1,1,"img",142),oe(6,N5,2,15,"div",143),q(7,"div",39),de(8,"div",56)(9,"div",57)(10,"div",58)(11,"div",59),J(),q(12,"div",47),de(13,"img",48),q(14,"div",49)(15,"div",144),Ce(16),J()()(),q(17,"div",51),de(18,"img",48),q(19,"div",49)(20,"div",52),Ce(21),J()()(),de(22,"img",53),J()()),2&e){const t=re();w("@fadeUpEnter",W(18,Ee,Ae(17,es)))("@fadeUpLeave",void 0)("ngClass",W(20,F5,t.player.health<1)),E(1),w("ngClass",W(22,B5,t.playerTarget===t.player.id&&!t.wrappingTurn)),E(2),w("ngIf",t.fireOnPlayer),E(1),w("ngIf",t.shieldOnPlayer),E(1),w("ngIf",t.healOnPlayer),E(1),w("ngIf","offense"===t.currentAbilityBot.abilityFunction),E(7),w("src","./assets/"+t.gameThemePath+"/sword.png",be),E(2),w("ngStyle",W(24,ct,t.gameThemePath+"-HeaderFont"))("ngClass",W(26,Wc,"offense"===t.currentAbilityBot.abilityFunction)),E(1),ze(" ",t.player.attack," "),E(2),w("src","./assets/"+t.gameThemePath+"/playerHealth.png",be),E(2),w("ngStyle",W(28,ct,t.gameThemePath+"-HeaderFont"))("ngClass",Kn(30,V5,t.player.health<t.player.baseHealth,t.healOnPlayer||"leach"===t.currentAbility.abilityFunction&&!1===t.currentAbility.targetAll&&0!==t.abilityEnemyTarget)),E(1),ze(" ","leach"===t.currentAbility.abilityFunction&&!1===t.currentAbility.targetAll&&0!==t.abilityEnemyTarget?t.player.health+t.currentAbility.abilityValue:t.player.health," "),E(1),w("src",t.player.image,be)}}function U5(e,n){if(1&e&&(q(0,"div",137),de(1,"img",138),J()),2&e){const t=re(2);E(1),w("src","./assets/"+t.gameThemePath+"/skull.png",be)}}function $5(e,n){1&e&&de(0,"img",69),2&e&&w("src","./assets/"+re(3).gameThemePath+"/fire.gif",be)("@fadeEnter",W(4,Ee,Ae(3,Ji)))("@fadeOutLeave",void 0)}function j5(e,n){1&e&&de(0,"img",145),2&e&&w("src","./assets/"+re(3).gameThemePath+"/offenseShield.png",be)}function z5(e,n){1&e&&de(0,"img",153),2&e&&w("src","./assets/"+re(3).gameThemePath+"/playerHealth.png",be)}function W5(e,n){1&e&&de(0,"img",146),2&e&&w("src","./assets/"+re(3).gameThemePath+"/potion.png",be)}function G5(e,n){if(1&e&&(q(0,"div",147),Ce(1),J()),2&e){const t=re(3);w("ngStyle",W(5,ct,t.gameThemePath+"-HeaderFont"))("ngClass",W(7,Wc,"offense"===t.currentAbility.abilityFunction))("@fadeEnter",W(10,Ee,Ae(9,Ji)))("@fadeOutLeave",W(13,Ee,Ae(12,kE))),E(1),ze(" -",t.currentAbility.abilityValue," ")}}const q5=function(e,n,t){return{leavingFieldCard:e,turnIsOverCard:n,darkenCard:t}},K5=function(e,n,t){return{errorEnemyBorder:e,enemyTargetActive:n,enemyAbilityTarget:t}},Y5=function(e){return{showHitText:e}};function Q5(e,n){if(1&e){const t=Ln();q(0,"div",149),Zt("click",function(){$t(t);const i=re().$implicit;return jt(re().setEnemyPlayerHoverTarget(i))})("mouseenter",function(){$t(t);const i=re().$implicit;return jt(re().hoverAbilityPlayerIn(i))})("mouseleave",function(){$t(t);const i=re().$implicit;return jt(re().hoverAbilityPlayerOut(i))}),q(1,"div",38,150),oe(3,$5,1,6,"img",46),oe(4,j5,1,1,"img",141),oe(5,z5,1,1,"img",151),oe(6,W5,1,1,"img",142),oe(7,G5,2,15,"div",143),q(8,"div",39),de(9,"div",40)(10,"div",41)(11,"div",42)(12,"div",43),J(),q(13,"div",47),de(14,"img",48),q(15,"div",49)(16,"div",144),Ce(17),J()()(),q(18,"div",51),de(19,"img",48),q(20,"div",49)(21,"div",52),Ce(22),J(),q(23,"div",152),Ce(24),J()()(),de(25,"img",53),J()()}if(2&e){const t=re().$implicit,r=re();w("@fadeUpEnter",W(22,Ee,Ae(21,es)))("@fadeUpLeave",void 0)("ngClass",kr(24,q5,t.health<1,r.isFinishedWithTurn(t),"wildSuit"===r.currentAbility.abilityFunction||"wildRange"===r.currentAbility.abilityFunction||"wildSuitRange"===r.currentAbility.abilityFunction)),E(1),w("ngClass",kr(28,K5,r.enemyTarget===t.id&&!r.wrappingTurn,r.currentEnemyTurn.id===t.id,("damage"===r.currentAbility.abilityFunction||"offense"===r.currentAbility.abilityFunction||"leach"===r.currentAbility.abilityFunction)&&!1===r.currentAbility.targetAll&&r.abilityEnemyTarget===t.id)),E(2),w("ngIf",r.showFireAnimation(t)),E(1),w("ngIf",r.showShieldAnimation(t)),E(1),w("ngIf",r.showLeachAnimation(t)),E(1),w("ngIf",r.showHealAnimationBot(t)),E(1),w("ngIf",!("damage"!==r.currentAbility.abilityFunction&&"offense"!==r.currentAbility.abilityFunction&&"leach"!==r.currentAbility.abilityFunction||!1!==r.currentAbility.targetAll||r.abilityEnemyTarget!==t.id||r.startedAbilityTurn||r.canSelectCards)),E(7),w("src","./assets/"+r.gameThemePath+"/sword.png",be),E(2),w("ngStyle",W(32,ct,r.gameThemePath+"-HeaderFont"))("ngClass",W(34,Wc,t.attack<t.baseAttack||"offense"===r.currentAbility.abilityFunction&&!1===r.currentAbility.targetAll&&r.abilityEnemyTarget===t.id&&!r.startedAbilityTurn&&!r.canSelectCards)),E(1),ze(" ","offense"!==r.currentAbility.abilityFunction||!1!==r.currentAbility.targetAll||r.abilityEnemyTarget!==t.id||r.startedAbilityTurn||r.canSelectCards?t.attack:t.attack-r.currentAbility.abilityValue<0?"0":t.attack-r.currentAbility.abilityValue," "),E(2),w("src","./assets/"+r.gameThemePath+"/playerHealth.png",be),E(2),w("ngStyle",W(36,ct,r.gameThemePath+"-HeaderFont"))("ngClass",W(38,ml,t.health<t.baseHealth||r.enemyTarget===t.id&&r.selectedCards.length>0&&!r.attackEnding||("damage"===r.currentAbility.abilityFunction||"leach"===r.currentAbility.abilityFunction)&&!1===r.currentAbility.targetAll&&r.abilityEnemyTarget===t.id&&!r.startedAbilityTurn&&!r.canSelectCards)),E(1),ze(" ",r.enemyTarget===t.id&&r.attackStarted&&!r.attackEnding||r.canSelectCards&&r.enemyTarget===t.id?t.health-r.selectedCards.length-r.currentExtraDmg:"damage"!==r.currentAbility.abilityFunction&&"leach"!==r.currentAbility.abilityFunction||!1!==r.currentAbility.targetAll||r.abilityEnemyTarget!==t.id||r.startedAbilityTurn||r.canSelectCards?t.health:t.health-r.currentAbility.abilityValue," "),E(1),w("ngStyle",W(40,ct,r.gameThemePath+"-HeaderFont"))("ngClass",W(42,Y5,r.enemyTarget===t.id&&r.canSelectCards)),E(1),ze(" ",r.selectedCards.length>0?"-"+(r.selectedCards.length+r.currentExtraDmg):""," "),E(1),w("src",t.image,be)}}function Z5(e,n){if(1&e&&(q(0,"div",17),oe(1,U5,2,1,"div",18),oe(2,Q5,26,44,"div",148),J()),2&e){const t=n.$implicit,r=re();E(1),w("ngIf",t.health<1),E(1),w("ngIf",r.redrawHide)}}function X5(e,n){if(1&e&&de(0,"div",158),2&e){const t=re(2);w("ngStyle",W(1,qt,"url(./assets/"+t.gameThemePath+"/back.png)"))}}function J5(e,n){if(1&e&&de(0,"img",132),2&e){const t=n.$implicit;w("src","./assets/"+re(3).gameThemePath+"/"+t+".png",be)}}function eB(e,n){if(1&e&&(q(0,"div",136)(1,"div",73),de(2,"img",74),q(3,"div",121)(4,"div",122)(5,"div",123),Ce(6),J(),q(7,"div",124),oe(8,J5,1,1,"img",125),J()(),de(9,"div",126)(10,"div",127),q(11,"div",128)(12,"div",129)(13,"div",130),Ce(14),J()(),q(15,"div",131),Ce(16),J()()()()()),2&e){const t=re(2);w("@flipInYonEnter",W(8,Ee,Ae(7,xE)))("@fadeDownLeave",void 0),E(2),w("src","./assets/"+t.gameThemePath+"/abilitycard.png",be),E(4),No(t.topAbilityCard.name),E(2),w("ngForOf",t.topAbilityCard.cost),E(6),ze(" Level ",t.topAbilityCard.level," "),E(2),ze(" ",t.topAbilityCard.description," ")}}function tB(e,n){if(1&e&&(q(0,"div",154),de(1,"div",106)(2,"div",155)(3,"div",156),oe(4,X5,1,3,"div",157),q(5,"div",134),oe(6,eB,17,10,"div",135),J()()),2&e){const t=re();w("ngClass",W(7,$c,"wildSuit"===t.currentAbility.abilityFunction||"wildRange"===t.currentAbility.abilityFunction||"wildSuitRange"===t.currentAbility.abilityFunction))("@fadeUpEnter",W(10,Ee,Ae(9,jc))),E(1),w("ngStyle",W(12,qt,"url(./assets/"+t.gameThemePath+"/back.png)")),E(1),w("ngStyle",W(14,qt,"url(./assets/"+t.gameThemePath+"/back.png)")),E(1),w("ngStyle",W(16,qt,"url(./assets/"+t.gameThemePath+"/back.png)")),E(1),w("ngIf",!t.canSeeTopCard),E(2),w("ngIf",t.canSeeTopCard)}}function nB(e,n){if(1&e&&de(0,"img",132),2&e){const t=n.$implicit;w("src","./assets/"+re(2).gameThemePath+"/"+t+".png",be)}}const rB=function(e,n,t){return{abilityIsActive:e,abilityIsActiveTarget:n,darkenCard:t}},iB=function(e,n,t,r){return{hoveringAbilityCard:e,activeCardBorder:n,validCardBorder:t,errorCardBorder:r}};function sB(e,n){if(1&e){const t=Ln();q(0,"div",159,160),Zt("click",function(){const s=$t(t).$implicit;return jt(re().selectAbilityCard(s))})("mouseenter",function(){const s=$t(t).$implicit;return jt(re().hoverAbilityEnter(s))})("mouseleave",function(){const s=$t(t).$implicit;return jt(re().hoverAbilityOut(s))}),q(2,"div",119),de(3,"img",74),q(4,"div",121)(5,"div",122)(6,"div",123),Ce(7),J(),q(8,"div",124),oe(9,nB,1,1,"img",125),J()(),de(10,"div",126)(11,"div",127),q(12,"div",128)(13,"div",129)(14,"div",130),Ce(15),J()(),q(16,"div",131),Ce(17),J()()()()()}if(2&e){const t=n.$implicit,r=n.index,i=re();w("ngClass",kr(9,rB,i.abilityCardIsSelected(t),i.currentAbility.id===t.id,("wildSuit"===i.currentAbility.abilityFunction||"wildRange"===i.currentAbility.abilityFunction||"wildSuitRange"===i.currentAbility.abilityFunction)&&i.currentAbility.id!==t.id))("ngStyle",W(13,zc,100*(r+1)+"ms"))("@cardLeaving",void 0),E(2),w("ngClass",Fa(15,iB,i.cardIsValidForAbility(t)||i.currentAbility.id===t.id,i.abilityCardIsSelected(t),i.abilityCardIsValid(t),i.errorAbilityCard.id===t.id)),E(1),w("src","./assets/"+i.gameThemePath+"/abilitycard.png",be),E(4),No(t.name),E(2),w("ngForOf",t.cost),E(6),ze("Level ",t.level,""),E(2),ze(" ",t.description," ")}}function aB(e,n){1&e&&de(0,"div",165)}function oB(e,n){if(1&e&&(q(0,"div",98)(1,"div",99),Ce(2),J()()),2&e){const t=re().$implicit,r=re();w("ngClass",W(5,Zg,14===t.wildRange)),E(1),w("@fadeEnter",W(8,Ee,Ae(7,es)))("ngClass",W(10,Xg,14===t.wildRange))("ngStyle",W(14===t.wildRange?12:14,ct,r.gameThemePath+"-HeaderFont")),E(1),ze(" ",14===t.wildRange?"\u2605":"+"+t.wildRange," ")}}function lB(e,n){if(1&e){const t=Ln();q(0,"img",169),Zt("click",function(i){$t(t);const s=re(2).$implicit;return jt(re().chooseWildSuit(i,s,"hearts"))}),J()}2&e&&w("src","./assets/"+re(3).gameThemePath+"/hearts.png",be)}function uB(e,n){if(1&e){const t=Ln();q(0,"img",169),Zt("click",function(i){$t(t);const s=re(2).$implicit;return jt(re().chooseWildSuit(i,s,"diamonds"))}),J()}2&e&&w("src","./assets/"+re(3).gameThemePath+"/diamonds.png",be)}function cB(e,n){if(1&e){const t=Ln();q(0,"img",170),Zt("click",function(i){$t(t);const s=re(2).$implicit;return jt(re().chooseWildSuit(i,s,"spades"))}),J()}2&e&&w("src","./assets/"+re(3).gameThemePath+"/spades.png",be)}function dB(e,n){if(1&e){const t=Ln();q(0,"img",169),Zt("click",function(i){$t(t);const s=re(2).$implicit;return jt(re().chooseWildSuit(i,s,"clubs"))}),J()}2&e&&w("src","./assets/"+re(3).gameThemePath+"/clubs.png",be)}function fB(e,n){if(1&e&&(q(0,"div",166),oe(1,lB,1,1,"img",167),oe(2,uB,1,1,"img",167),oe(3,cB,1,1,"img",168),oe(4,dB,1,1,"img",167),J()),2&e){const t=re().$implicit;E(1),w("ngIf",t.wildSuits&&t.wildSuits[0]&&1===t.wildSuits[0]),E(1),w("ngIf",t.wildSuits&&t.wildSuits[1]&&1===t.wildSuits[1]),E(1),w("ngIf",t.wildSuits&&t.wildSuits[2]&&1===t.wildSuits[2]),E(1),w("ngIf",t.wildSuits&&t.wildSuits[3]&&1===t.wildSuits[3])}}const hB=function(e,n,t){return{activeCard:e,abilityActiveCard:n,chooseCardAbilityActiveCard:t}},gB=function(e,n,t,r,i){return{chooseCardAbilityBorder:e,abilityActiveCardBorder:n,activeCardBorder:t,validCardBorder:r,errorCardBorder:i}};function pB(e,n){if(1&e){const t=Ln();q(0,"div",161,162),Zt("click",function(){const s=$t(t).$implicit;return jt(re().selectCard(s))})("wheel",function(i){const a=$t(t).$implicit;return jt(re().wildCardScrollChange(i,a))}),q(2,"div",119),de(3,"img",74),oe(4,aB,1,0,"div",163),oe(5,oB,3,16,"div",96),oe(6,fB,5,4,"div",164),J()()}if(2&e){const t=n.$implicit,r=n.index,i=re();w("ngClass",kr(8,hB,i.cardIsSelected(t),i.cardIsValidForAbilityCard(t),"wildSuit"===i.currentAbility.abilityFunction||"wildRange"===i.currentAbility.abilityFunction||"wildSuitRange"===i.currentAbility.abilityFunction))("ngStyle",W(12,zc,100*(r+3)+"ms"))("@cardLeaving",void 0),E(2),w("ngClass",function n_(e,n,t,r,i,s,a,o){const l=Sn()+e,c=ie(),d=cr(c,l,t,r,i,s);return dn(c,l+4,a)||d?zr(c,l+5,o?n.call(o,t,r,i,s,a):n(t,r,i,s,a)):Ro(c,l+5)}(14,gB,"wildSuit"===i.currentAbility.abilityFunction||"wildRange"===i.currentAbility.abilityFunction||"wildSuitRange"===i.currentAbility.abilityFunction,i.cardIsValidForAbilityCard(t),i.cardIsSelected(t),i.cardIsValid(t),!i.cardIsValid(t)&&i.cardIsSelected(t)&&!i.enemyAttackStarted)),E(1),w("src","./assets/"+i.gameThemePath+"/cards/"+t.image,be),E(1),w("ngIf",t.wild),E(1),w("ngIf",t.wild&&t.wildRange&&t.wildRange>0),E(1),w("ngIf",t.wild&&t.wildSuit)}}const mB=function(e){return{disabledButton:e}},yB=function(e){return{disabledButtonAnimation:e}};function vB(e,n){if(1&e){const t=Ln();q(0,"div",173)(1,"img",174),Zt("click",function(){return $t(t),jt(re(2).attack())}),J(),q(2,"div",175),Ce(3," Attack "),J()()}if(2&e){const t=re(2);w("ngClass",W(6,mB,(!t.canSelectCards||t.selectedCards.length<1)&&(0!==t.playerHand.length||0!==t.selectedCards.length)))("@fadeEnter",W(9,Ee,Ae(8,es)))("@fadeUpLeave",void 0),E(1),w("src","./assets/"+t.gameThemePath+"/attack.png",be)("ngClass",W(11,yB,!t.canSelectCards||t.selectedCards.length<1)),E(1),w("ngStyle",W(13,ct,t.gameThemePath+"-HeaderFont"))}}function _B(e,n){if(1&e&&de(0,"div",158),2&e){const t=re(2);w("ngStyle",W(1,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)"))}}function bB(e,n){if(1&e&&de(0,"div",112),2&e){const t=re(2);w("@flipInYonEnter",W(4,Ee,Ae(3,IE)))("@fadeDownLeave",void 0)("ngStyle",W(6,qt,"url(./assets/"+t.gameThemePath+"/cards/"+t.playerDeck[0].image+")"))}}function wB(e,n){if(1&e&&(q(0,"div",171),oe(1,vB,4,15,"div",172),de(2,"div",106)(3,"div",155)(4,"div",156),oe(5,_B,1,3,"div",157),oe(6,bB,1,8,"div",110),J()),2&e){const t=re();w("ngClass",W(8,$c,"wildSuit"===t.currentAbility.abilityFunction||"wildRange"===t.currentAbility.abilityFunction||"wildSuitRange"===t.currentAbility.abilityFunction))("@fadeUpEnter",W(11,Ee,Ae(10,jc))),E(1),w("ngIf",t.redrawHide),E(1),w("ngStyle",W(13,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)")),E(1),w("ngStyle",W(15,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)")),E(1),w("ngStyle",W(17,qt,"url(./assets/"+t.gameThemePath+"/cardBack.png)")),E(1),w("ngIf",!t.canSeeTopCard),E(1),w("ngIf",t.canSeeTopCard&&t.topRedrawCard===t.playerDeck[0].id)}}const CB=function(e,n,t){return{attackingBottomMiddle:e,disabledCards:n,enabledCards:t}},SB=function(){return{duration:400,delay:0,translate:"30px"}},Zr={id:0,abilityFunction:"damage",targetAll:!1,abilityValue:1,cost:["hearts"],description:"",image:"",level:1,name:"",hitAnimation:"heal"};let OE=(()=>{class e{constructor(t,r,i){this.cardService=t,this.userService=r,this.abilityService=i,this.playerDeck=[],this.playerHand=[],this.playerDefense=[],this.player={id:0,health:1,attack:1,image:"",name:"",baseHealth:1,baseAttack:1,level:1},this.playerTarget=0,this.playerAttackHand={valid:!1,highCard:0,cards:[]},this.playerWinner=!1,this.playerLoser=!1,this.finishedChoosingDefensePlayer=!1,this.selectedEnemyCards=[],this.enemyDeck=[],this.enemyHand=[],this.enemyDefense=[],this.enemyPlayers=[],this.enemyTarget=0,this.enemyAttackHand={valid:!1,highCard:0,cards:[]},this.enemyWinner=!1,this.enemyLoser=!1,this.enemyAttackStarted=!1,this.showBotCards=!1,this.tie=!1,this.attackEnding=!1,this.selectedCards=[],this.canSelectCards=!0,this.redrawCards=[],this.redrawSelectedCards=[],this.redrawing=!0,this.redrawHide=!1,this.validCards=[],this.errorList=[],this.errorListInactive=[],this.specialAbilityList=[],this.specialAbilityListInactive=[],this.messageList=[],this.messageListInactive=[],this.displayMessageList=[],this.displayMessageListInactive=[],this.attackStarted=!1,this.canDefendWithMultipleCards=!1,this.hasWildCards=!0,this.wildCards=[],this.alwaysWinTies=!1,this.canSeeTopCard=!1,this.topRedrawCard=0,this.topRedrawCardEnemy=0,this.activeLeaderLines=[],this.staticEnemyTarget=0,this.wrappingTurn=!1,this.doingWildCardChange=!1,this.usedSpecialCardThisTurn=!1,this.gameThemePath="default",this.Cards=[],this.completedEnemyTurns=[],this.currentEnemyTurn={id:0,health:1,attack:1,image:"",name:"",baseHealth:1,baseAttack:1,level:1},this.discardCards=[],this.discardSelectedCards=[],this.discarding=!1,this.discardHide=!0,this.enemyNextTurn=!1,this.duringBotTurnDiscard=!1,this.currentExtraDmg=0,this.randomBgImage="",this.abilityCardsHand=[],this.abilityDeck=[],this.hoveringAbilityCard=Zr,this.hoveringAbilityHand=[],this.activeAbilityLeaderLines=[],this.currentlyRunning=!1,this.usedAbilityCard=!1,this.errorAbilityCard=Zr,this.topAbilityCard=Zr,this.currentAbility=Zr,this.startedAbilityTurn=!1,this.flamesOnEnemies=[],this.healOnEnemies=[],this.shieldOnEnemies=[],this.leachOnEnemies=[],this.healOnPlayer=!1,this.fireOnPlayer=!1,this.shieldOnPlayer=!1,this.abilityEnemyTarget=0,this.usedAbilityCardBot=!1,this.startedAbilityTurnBot=!1,this.currentlyRunningBot=!1,this.abilityCardsHandBot=[],this.abilityDeckBot=[],this.hoveringAbilityCardBot=Zr,this.topAbilityCardBot=Zr,this.currentAbilityBot=Zr,this.clickAnimationsList=[],this.trackById=(s,a)=>a.id}ngOnInit(){this.importRandomBgImage(),this.userService.gameTheme$.subscribe(t=>{this.gameThemePath=t,this.player=this.userService.getPlayer(this.gameThemePath),this.abilityDeck=this.userService.getAbilityCards(this.gameThemePath),this.abilityDeck=this.cardService.shuffle(this.abilityDeck),this.abilityDeckBot=this.userService.getAbilityCardsBot(this.gameThemePath),this.abilityDeckBot=this.cardService.shuffle(this.abilityDeckBot),this.enemyPlayers=[{id:1,image:"./assets/"+this.gameThemePath+"/link.png",name:"Link",attack:3,health:4,baseHealth:7,baseAttack:6,level:1},{id:2,image:"./assets/"+this.gameThemePath+"/link.png",name:"Link",attack:2,health:2,baseHealth:7,baseAttack:1,level:1},{id:3,image:"./assets/"+this.gameThemePath+"/link.png",name:"Link",attack:1,health:3,baseHealth:7,baseAttack:0,level:1}],this.Cards.length<1&&(this.Cards=s3,this.gameInit())})}clickAnimation(t){var r=this;return He(function*(){r.clickAnimationsList.push({id:r.clickAnimationsList.length+1,x:t.clientX,y:t.clientY})})()}drawAbilityCard(t){const r=Array.from(Array(t).keys());for(const i of r)this.abilityCardsHand.push(this.abilityDeck[0]),this.abilityDeck.push(this.abilityDeck[0]),this.abilityDeck.shift();setTimeout(()=>{this.topAbilityCard=this.abilityDeck[0]},400)}drawAbilityCardBot(t){const r=Array.from(Array(t).keys());for(const i of r)this.abilityCardsHandBot.push(this.abilityDeckBot[0]),this.abilityDeckBot.push(this.abilityDeckBot[0]),this.abilityDeckBot.shift();setTimeout(()=>{this.topAbilityCardBot=this.abilityDeckBot[0]},400)}importRandomBgImage(){var t=this;return He(function*(){const r=Array.from(Array(2).keys()),i=t.cardService.shuffle(r);t.randomBgImage=i[0]+1})()}gameInit(){const t=this.userService.getPlayerCheats();this.canDefendWithMultipleCards=t.canDefendWithMultipleCards,this.alwaysWinTies=t.alwaysWinTies,this.canSeeTopCard=t.canSeeTopCard,this.updateDeckBasedOnPlayerSkills();let r=this.Cards.map(s=>({...s,wildInitial:s.value}));const i=Array.from(Array(this.player.skills?.wildCardsCount).keys());i.length>0&&i.forEach(s=>{const a=this.userService.generateWildCard(r);r.push(a)}),this.playerDeck=this.cardService.shuffle(r),this.enemyDeck=this.cardService.shuffle(this.Cards);for(const s of[0,1,2,3,4])this.redrawCards.push(this.playerDeck[0]),this.playerDeck.push(this.playerDeck[0]),this.playerDeck.shift(),this.enemyHand.push(this.enemyDeck[0]),this.enemyDeck.push(this.enemyDeck[0]),this.enemyDeck.shift();this.topRedrawCard=0,setTimeout(()=>{this.playerDeck[0]&&this.playerDeck[0].id&&(this.topRedrawCard=this.playerDeck[0].id),this.enemyDeck[0]&&this.enemyDeck[0].id&&(this.topRedrawCardEnemy=this.enemyDeck[0].id)},400)}selectAbilityCard(t){var r=this;return He(function*(){const i=r.abilityService.checkCanUseAbility(t,r.playerHand);if(i.length>0||0===t.cost.length){r.errorAbilityCard=t,r.usedAbilityCard=!0,i.forEach(D=>{r.playerHand=r.playerHand.filter(B=>B.id!==D.id)});try{var o,s=!1,a=!1;try{for(var c,l=et(r.activeAbilityLeaderLines);s=!(c=yield l.next()).done;s=!1)yield c.value.hide("fade",{duration:100,timing:"linear"}),yield r.timeout(100)}catch(D){a=!0,o=D}finally{try{s&&null!=l.return&&(yield l.return())}finally{if(a)throw o}}}catch{}r.activeAbilityLeaderLines=[];try{var m,d=!1,g=!1;try{for(var b,y=et(r.activeLeaderLines);d=!(b=yield y.next()).done;d=!1)yield b.value.hide("fade",{duration:100,timing:"linear"}),yield r.timeout(100)}catch(D){g=!0,m=D}finally{try{d&&null!=y.return&&(yield y.return())}finally{if(g)throw m}}}catch{}r.activeLeaderLines=[],r.selectedCards=[],r.enemyTarget=0,r.useAbilityCard(t)}else r.errorAbilityCard=t})()}useAbilityCard(t){this.canSelectCards=!1,"damage"===t.abilityFunction&&this.damageAbility(t),"heal"===t.abilityFunction&&this.healAbility(t),"draw"===t.abilityFunction&&this.drawAbility(t),"redraw"===t.abilityFunction&&this.redrawAbility(t),"redrawAll"===t.abilityFunction&&this.redrawAllAbility(t),"discard"===t.abilityFunction&&this.discardAbility(t),"offense"===t.abilityFunction&&this.offenseAbility(t),"leach"===t.abilityFunction&&this.leachAbility(t),"wildSuit"===t.abilityFunction&&this.wildSuitAbility(t),"wildRange"===t.abilityFunction&&this.wildRangeAbility(t),"wildSuitRange"===t.abilityFunction&&this.wildSuitRangeAbility(t)}drawAbility(t){var r=this;return He(function*(){r.addPlayerCardsToHand(t.abilityValue),r.endAbilityTurn(t,100)})()}redrawAbility(t){var r=this;return He(function*(){r.playerHand=[],r.selectedCards=[],r.addPlayerCardsToHand(5),r.endAbilityTurn(t,100)})()}redrawAllAbility(t){var r=this;return He(function*(){r.abilityCardsHand=[],r.drawAbilityCard(2),r.playerHand=[],r.selectedCards=[],r.addPlayerCardsToHand(5),r.endAbilityTurn(t,100)})()}discardAbility(t){var r=this;return He(function*(){let i=0;const s=t.abilityValue;r.enemyHand=r.enemyHand.filter((a,o)=>i===s||(i++,!1)),r.endAbilityTurn(t,100)})()}offenseAbility(t){var r=this;return He(function*(){t.targetAll?(r.enemyPlayers=r.enemyPlayers.map(i=>{let s=i.attack-r.currentAbility.abilityValue;return s<1&&(s=0),r.shieldOnEnemies.push(i),{...i,attack:s}}),r.endAbilityTurn(t,800)):(r.pushDisplayMessage(`Select An Enemy To Apply -${t.abilityValue} Offense To`),r.currentAbility=t)})()}leachAbility(t){var r=this;return He(function*(){if(t.targetAll){const d=r.enemyPlayers.filter(m=>m.health>0).length*t.abilityValue;r.enemyPlayers=r.enemyPlayers.map(m=>{let y=m.health-t.abilityValue;return r.leachOnEnemies.push(m),{...m,health:y}});try{var a,i=!1,s=!1;try{for(var l,o=et(r.activeAbilityLeaderLines);i=!(l=yield o.next()).done;i=!1)yield l.value.hide("fade",{duration:100,timing:"linear"}),yield r.timeout(100)}catch(m){s=!0,a=m}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}}catch{}r.activeAbilityLeaderLines=[];let g={...t};g.abilityFunction="heal",g.abilityValue=d,yield r.timeout(1e3),r.healAbility(g)}else r.pushDisplayMessage(`Select An Enemy To Steal ${t.abilityValue} Health From`),r.currentAbility=t})()}wildSuitAbility(t){var r=this;return He(function*(){r.currentAbility=t,r.pushDisplayMessage("Select A Card To Give Wild Suit To")})()}wildRangeAbility(t){var r=this;return He(function*(){r.currentAbility=t,r.pushDisplayMessage(`Select A Card To Give Wild Suit and Range +${t.abilityValue} To`)})()}wildSuitRangeAbility(t){var r=this;return He(function*(){r.currentAbility=t,r.pushDisplayMessage("Select A Card To Give Wild Range +1 To")})()}damageAbility(t){var r=this;return He(function*(){if(t.targetAll){var a,i=!1,s=!1;try{for(var l,o=et(r.enemyPlayers);i=!(l=yield o.next()).done;i=!1){const c=l.value;{const g=c.health-t.abilityValue;"fire"===t.hitAnimation&&r.flamesOnEnemies.push(c),r.enemyTarget=c.id,yield r.numbersGoDownIncrementallyBot(c.health,g)}}}catch(c){s=!0,a=c}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}r.endAbilityTurn(t,800)}else r.pushDisplayMessage(`Select An Enemy To Deal ${t.abilityValue} Damage To`),r.currentAbility=t})()}healAbility(t){var r=this;return He(function*(){let i=r.player.health+t.abilityValue;i>r.player.baseHealth&&(i=r.player.baseHealth),r.abilityCardsHand=r.abilityCardsHand.filter(s=>s.id!==t.id),yield r.timeout(200),r.healOnPlayer=!0,yield r.timeout(800),r.numbersGoUpIncrementallyPlayer(r.player.health,i),r.endAbilityTurn(t,400)})()}endAbilityTurn(t,r){var i=this;return He(function*(){i.abilityCardsHand=i.abilityCardsHand.filter(d=>d.id!==t.id);try{var o,s=!1,a=!1;try{for(var c,l=et(i.activeAbilityLeaderLines);s=!(c=yield l.next()).done;s=!1)yield c.value.hide("fade",{duration:100,timing:"linear"}),yield i.timeout(100)}catch(d){a=!0,o=d}finally{try{s&&null!=l.return&&(yield l.return())}finally{if(a)throw o}}}catch{}i.activeAbilityLeaderLines=[],i.displayMessageList.forEach(d=>{i.displayMessageListInactive.push(d.id)}),setTimeout(()=>{i.healOnPlayer=!1,i.usedAbilityCard=!1,i.flamesOnEnemies=[],i.shieldOnEnemies=[],i.leachOnEnemies=[],i.enemyTarget=0,i.currentAbility=Zr,i.startedAbilityTurn=!1,i.canSelectCards=!0,i.pushMessage("Player Turn")},r)})()}onSelectTargetAbilityFire(){var t=this;return He(function*(){const r=t.currentAbility;t.startedAbilityTurn=!0;var a,i=!1,s=!1;try{for(var l,o=et(t.enemyPlayers);i=!(l=yield o.next()).done;i=!1){const c=l.value;if(c.id===t.enemyTarget){const g=c.health-r.abilityValue;"fire"===r.hitAnimation&&t.flamesOnEnemies.push(c),yield t.numbersGoDownIncrementallyBot(c.health,g)}}}catch(c){s=!0,a=c}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}t.endAbilityTurn(r,1e3),setTimeout(()=>{t.abilityEnemyTarget=0},4e3)})()}onSelectTargetAbilityOffense(){var t=this;return He(function*(){const r=t.currentAbility;t.startedAbilityTurn=!0,t.enemyPlayers=t.enemyPlayers.map(i=>{if(i.id===t.enemyTarget){let s=i.attack-t.currentAbility.abilityValue;return s<1&&(s=0),t.shieldOnEnemies.push(i),{...i,attack:s}}return i}),t.endAbilityTurn(r,800),setTimeout(()=>{t.abilityEnemyTarget=0},4e3)})()}onSelectTargetAbilityLeach(){var t=this;return He(function*(){const r=t.currentAbility;t.startedAbilityTurn=!0,t.enemyPlayers=t.enemyPlayers.map(m=>{if(m.id===t.enemyTarget){let y=m.health-r.abilityValue;return t.leachOnEnemies.push(m),{...m,health:y}}return m});const s=t.enemyPlayers.filter(m=>m.id===t.enemyTarget).length*r.abilityValue;let a=r;a.abilityFunction="heal",a.abilityValue=s;try{var c,o=!1,l=!1;try{for(var g,d=et(t.activeAbilityLeaderLines);o=!(g=yield d.next()).done;o=!1)yield g.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(m){l=!0,c=m}finally{try{o&&null!=d.return&&(yield d.return())}finally{if(l)throw c}}}catch{}t.activeAbilityLeaderLines=[],yield t.timeout(1e3),t.healAbility(a),setTimeout(()=>{t.abilityEnemyTarget=0},4e3)})()}onSelectTargetAbilityWildSuit(t){var r=this;return He(function*(){const i={...t,wild:!0,wildSuit:!0,wildSuits:[1,1,1,1]};r.playerHand=r.playerHand.map(s=>s.id===t.id?i:s),r.endAbilityTurn(r.currentAbility,100)})()}onSelectTargetAbilityWildRange(t){var r=this;return He(function*(){const i={...t,wild:!0,wildRange:r.currentAbility.abilityValue};r.playerHand=r.playerHand.map(s=>s.id===t.id?i:s),r.endAbilityTurn(r.currentAbility,100)})()}onSelectTargetAbilityWildSuitRange(t){var r=this;return He(function*(){const i={...t,wild:!0,wildRange:r.currentAbility.abilityValue,wildSuit:!0,wildSuits:[1,1,1,1]};r.playerHand=r.playerHand.map(s=>s.id===t.id?i:s),r.endAbilityTurn(r.currentAbility,100)})()}hoverAbilityEnter(t){if(this.currentlyRunning||this.usedAbilityCard)return;const r=this.abilityService.checkCanUseAbility(t,this.playerHand);r.length<1&&0!==t.cost.length||this.currentlyRunning||(this.currentlyRunning=!0,this.hoveringAbilityCard=t,this.hoveringAbilityHand=r,r.length>0&&this.setAttackArrowsPlayerAbility())}showFireAnimation(t){return!!this.flamesOnEnemies.find(i=>i.id===t.id)}showShieldAnimation(t){return!!this.shieldOnEnemies.find(i=>i.id===t.id)}showLeachAnimation(t){return!!this.leachOnEnemies.find(i=>i.id===t.id)}showHealAnimationBot(t){return!!this.healOnEnemies.find(i=>i.id===t.id)}hoverAbilityOut(t){var r=this;return He(function*(){if(!r.usedAbilityCard){r.errorAbilityCard={id:0,abilityFunction:"damage",targetAll:!1,abilityValue:1,cost:["hearts"],description:"",image:"",level:1,name:"",hitAnimation:"heal"},r.hoveringAbilityHand=[],r.hoveringAbilityCard={id:0,abilityFunction:"damage",targetAll:!1,abilityValue:1,cost:["hearts"],description:"",image:"",level:1,name:"",hitAnimation:"heal"},r.currentlyRunning=!1;try{var a,i=!1,s=!1;try{for(var l,o=et(r.activeAbilityLeaderLines);i=!(l=yield o.next()).done;i=!1)yield l.value.hide("fade",{duration:100,timing:"linear"}),yield r.timeout(100)}catch(c){s=!0,a=c}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}}catch{}r.activeAbilityLeaderLines=[]}})()}abilityCardIsSelected(t){return this.hoveringAbilityCard.id===t.id}abilityCardIsSelectedBot(t){return this.hoveringAbilityCardBot.id===t.id}abilityCardIsValid(t){return!1}cardIsValidForAbilityCard(t){return!!this.hoveringAbilityHand.find(i=>i.id===t.id)}cardIsValidForAbility(t){return this.hoveringAbilityCard.id===t.id}setAttackArrowsPlayerAbilityDamage(){var t=this;return He(function*(){try{const te=t.activeAbilityCards;let z,ne;if(yield t.timeout(150),te){var s,r=!1,i=!1;try{for(var o,a=et(te);r=!(o=yield a.next()).done;r=!1){const le=o.value;le.nativeElement.className.includes("abilityIsActiveTarget")&&(z=le.nativeElement)}}catch(le){i=!0,s=le}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}}if(t.enemyPlayerRef){var d,l=!1,c=!1;try{for(var m,g=et(t.enemyPlayerRef);l=!(m=yield g.next()).done;l=!1){const le=m.value;le.nativeElement.className.includes("enemyAbilityTarget")&&(ne=le.nativeElement)}}catch(le){c=!0,d=le}finally{try{l&&null!=g.return&&(yield g.return())}finally{if(c)throw d}}}if(z&&ne){try{var D,y=!1,b=!1;try{for(var Y,B=et(t.activeAbilityLeaderLines);y=!(Y=yield B.next()).done;y=!1)yield Y.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(gn){b=!0,D=gn}finally{try{y&&null!=B.return&&(yield B.return())}finally{if(b)throw D}}}catch{}const le=[];let dt=new LeaderLine(z,ne,{dash:{animation:!0},endSocket:"bottom",startSocket:"top",dropShadow:!0,gradient:{startColor:"rgba(0, 255, 0, 0.281)",endColor:"rgb(0, 255, 0)"},animOptions:{duration:30,timing:"linear"},hide:!0,endPlug:"arrow3",endPlugColor:"rgb(0, 255, 0)"});dt.show("draw",{duration:200,timing:"linear"}),le.push(dt),t.activeAbilityLeaderLines=le}}catch{}})()}setAttackArrowsPlayerAbility(){var t=this;return He(function*(){try{const te=t.activeAbilityCards;let z;if(yield t.timeout(150),te){var s,r=!1,i=!1;try{for(var o,a=et(te);r=!(o=yield a.next()).done;r=!1){const ne=o.value;ne.nativeElement.className.includes("abilityIsActive")&&(z=ne.nativeElement)}}catch(ne){i=!0,s=ne}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}}if(t.currentlyRunning&&z){const ne=[];if(t.myActiveCards){try{var d,l=!1,c=!1;try{for(var m,g=et(t.activeAbilityLeaderLines);l=!(m=yield g.next()).done;l=!1)yield m.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(le){c=!0,d=le}finally{try{l&&null!=g.return&&(yield g.return())}finally{if(c)throw d}}}catch{}var D,y=!1,b=!1;try{for(var Y,B=et(t.myActiveCards);y=!(Y=yield B.next()).done;y=!1){const le=Y.value;if(le.nativeElement.className.includes("abilityActiveCard")){let dt=new LeaderLine(z,le.nativeElement,{dash:{animation:!0},endSocket:"top",startSocket:"top",dropShadow:!0,gradient:{startColor:"rgba(0, 255, 0, 0.281)",endColor:"rgb(0, 255, 0)"},animOptions:{duration:30,timing:"linear"},hide:!0,endPlug:"arrow3",endPlugColor:"rgb(0, 255, 0)"});dt.show("draw",{duration:200,timing:"linear"}),ne.push(dt)}}}catch(le){b=!0,D=le}finally{try{y&&null!=B.return&&(yield B.return())}finally{if(b)throw D}}}t.activeAbilityLeaderLines=ne}}catch{}})()}setAttackArrowsEnemyAbility(){var t=this;return He(function*(){try{const te=t.activeAbilityCardsBot;let z;if(yield t.timeout(150),te){var s,r=!1,i=!1;try{for(var o,a=et(te);r=!(o=yield a.next()).done;r=!1){const ne=o.value;ne.nativeElement.className.includes("abilityIsActive")&&(z=ne.nativeElement)}}catch(ne){i=!0,s=ne}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}}if(z){const ne=[];if(t.activeEnemyCards){try{var d,l=!1,c=!1;try{for(var m,g=et(t.activeAbilityLeaderLines);l=!(m=yield g.next()).done;l=!1)yield m.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(le){c=!0,d=le}finally{try{l&&null!=g.return&&(yield g.return())}finally{if(c)throw d}}}catch{}var D,y=!1,b=!1;try{for(var Y,B=et(t.activeEnemyCards);y=!(Y=yield B.next()).done;y=!1){const le=Y.value;if(le.nativeElement.className.includes("activeEnemyCard")){let dt=new LeaderLine(z,le.nativeElement,{dash:{animation:!0},endSocket:"bottom",startSocket:"bottom",dropShadow:!0,gradient:{startColor:"rgba(0, 255, 0, 0.281)",endColor:"rgb(0, 255, 0)"},animOptions:{duration:30,timing:"linear"},hide:!0,endPlug:"arrow3",endPlugColor:"rgb(0, 255, 0)"});dt.show("draw",{duration:200,timing:"linear"}),ne.push(dt)}}}catch(le){b=!0,D=le}finally{try{y&&null!=B.return&&(yield B.return())}finally{if(b)throw D}}}t.activeAbilityLeaderLines=ne}}catch{}})()}updateDeckBasedOnPlayerSkills(){const t=this.player.skills;this.Cards=this.Cards.map(r=>{let i=r,s=[0,0,0,0];return t?.showWildHearts&&(s[0]=1),t?.showWildDiamonds&&(s[1]=1),t?.showWildSpades&&(s[2]=1),t?.showWildClubs&&(s[3]=1),t?.wildHearts&&"hearts"===r.suit&&(i={...i,wild:!0,wildSuit:!0,wildSuits:s}),t?.wildDiamonds&&"diamonds"===r.suit&&(i={...i,wild:!0,wildSuit:!0,wildSuits:s}),t?.wildSpades&&"spades"===r.suit&&(i={...i,wild:!0,wildSuit:!0,wildSuits:s}),t?.wildClubs&&"clubs"===r.suit&&(i={...i,wild:!0,wildSuit:!0,wildSuits:s}),t?.rangeHearts&&t?.rangeHearts>0&&"hearts"===r.suit&&(i={...i,wild:!0,wildRange:t?.rangeHearts}),t?.rangeDiamonds&&t?.rangeDiamonds>0&&"diamonds"===r.suit&&(i={...i,wild:!0,wildRange:t?.rangeDiamonds}),t?.rangeSpades&&t?.rangeSpades>0&&"spades"===r.suit&&(i={...i,wild:!0,wildRange:t?.rangeSpades}),t?.rangeClubs&&t?.rangeClubs>0&&"clubs"===r.suit&&(i={...i,wild:!0,wildRange:t?.rangeClubs}),i})}giveHint(t){if(t.key&&"h"===t.key.toLowerCase()){const r=this.cardService.generateBotOffenseHand(this.playerHand);this.validCards=r.cards}}useSpecialAbilityCard(){this.usedSpecialCardThisTurn=!0,this.pushSpecialAbilityImage("Test test test")}cardIsSelected(t){return!!this.selectedCards.find(i=>i.id===t.id)}chooseWildSuit(t,r,i){t.stopPropagation(),t.preventDefault();const s={...r,suit:i,image:r.value+"_of_"+i+".png"};this.playerHand=this.playerHand.map(a=>a.id===r.id?s:a),this.selectedCards=this.selectedCards.map(a=>this.playerHand.find(l=>l.id===a.id)||a),this.determineSubtractValue()}wildCardScrollChange(t,r){if(!this.doingWildCardChange&&r.wild){if(this.doingWildCardChange=!0,-100===t.deltaY&&r.wild){const s=Number(r.value)+1,a=Math.abs(Number(r.wildInitial)-s)-1;if(s<15&&a<Number(r.wildRange)){const o={...this.Cards.find(l=>l.suit===r.suit&&l.value===s.toString()),wildInitial:r.wildInitial,wildRange:r.wildRange,wildSuit:r.wildSuit,wildSuits:r.wildSuits,id:r.id,wild:!0};this.playerHand=this.playerHand.map(l=>l.id===r.id?o:l)}}else if(r.wild){const s=Number(r.value)-1,a=Math.abs(Number(r.wildInitial)-s)-1;if(s>1&&a<Number(r.wildRange)){const o={...this.Cards.find(l=>l.suit===r.suit&&l.value===s.toString()),wildInitial:r.wildInitial,wildRange:r.wildRange,wildSuit:r.wildSuit,wildSuits:r.wildSuits,id:r.id,wild:!0};this.playerHand=this.playerHand.map(l=>l.id===r.id?o:l)}}this.selectedCards=this.selectedCards.map(s=>this.playerHand.find(o=>o.id===s.id)||s),this.validCards=this.cardService.determineHand(this.selectedCards).valid?this.selectedCards:[],this.doingWildCardChange=!1,this.determineSubtractValue()}}enemyCardIsSelected(t){return!!this.selectedEnemyCards.find(i=>i.id===t.id)}hoverAbilityPlayerIn(t){0!==this.currentAbility.id&&!this.startedAbilityTurn&&(this.abilityEnemyTarget=t.id,this.setAttackArrowsPlayerAbilityDamage())}hoverAbilityPlayerOut(t){this.startedAbilityTurn||(this.abilityEnemyTarget=0)}setEnemyPlayerHoverTarget(t){if(0!==this.currentAbility.id)return this.enemyTarget=t.id,this.staticEnemyTarget=this.enemyTarget,this.abilityEnemyTarget=this.enemyTarget,"damage"===this.currentAbility.abilityFunction&&this.onSelectTargetAbilityFire(),"offense"===this.currentAbility.abilityFunction&&this.onSelectTargetAbilityOffense(),void("leach"===this.currentAbility.abilityFunction&&this.onSelectTargetAbilityLeach());if(t&&t.id!==this.enemyTarget&&this.canSelectCards){this.enemyTarget=t.id,this.staticEnemyTarget=this.enemyTarget;const r=this.cardService.determineHand(this.selectedCards);this.setAttackArrowsPlayer(r.valid)}}findEnemyPlayer(){return this.enemyPlayers.find(r=>r.id===this.enemyTarget)??{id:0,health:1,attack:1,image:"",name:"",baseHealth:1,baseAttack:1,level:1}}findEnemyPlayerAttack(){return this.currentEnemyTurn??{id:0,health:1,attack:1,image:"",name:"",baseHealth:1,baseAttack:1,level:1}}findStaticEnemyPlayer(){return this.enemyPlayers.find(r=>r.id===this.staticEnemyTarget)??{id:0,health:1,attack:1,image:"",name:"",baseHealth:1,baseAttack:1,level:1}}redrawCardIsSelected(t){return!!this.redrawSelectedCards.find(i=>i.id===t.id)}finishedRedraw(){this.redrawing=!1,setTimeout(()=>{this.pushMessage("Player Turn")},2500),setTimeout(()=>{this.redrawHide=!0},1e3),this.redrawCards=this.redrawCards.filter(t=>!this.redrawSelectedCards.find(i=>i.id===t.id)),setTimeout(()=>{this.drawAbilityCard(2),this.drawAbilityCardBot(2),this.redrawSelectedCards.forEach((t,r)=>{this.redrawCards.push(this.playerDeck[0]),this.playerDeck.push(this.playerDeck[0]),this.playerDeck.shift()}),this.topRedrawCard=0,setTimeout(()=>{this.playerDeck[0]&&this.playerDeck[0].id&&(this.topRedrawCard=this.playerDeck[0].id)},400),this.playerHand=this.redrawCards},900)}selectRedrawCard(t){const r=this.redrawSelectedCards.find(i=>i.id===t.id);!r&&this.redrawSelectedCards.length<2&&this.redrawSelectedCards.push(t),r&&(this.redrawSelectedCards=this.redrawSelectedCards.filter(i=>i.id!==t.id))}cardIsValid(t){return!!this.validCards.find(i=>i.id===t.id)}selectCard(t){if("wildSuit"!==this.currentAbility.abilityFunction)if("wildRange"!==this.currentAbility.abilityFunction)if("wildSuitRange"!==this.currentAbility.abilityFunction){if(this.canSelectCards){const i=this.selectedCards.find(s=>s.id===t.id);if(!i){if(5===this.selectedCards.length)return void this.pushError("Max 5 cards");this.selectedCards.push(t)}i&&(this.selectedCards=this.selectedCards.filter(s=>s.id!==t.id))}this.cardService.determineHand(this.selectedCards).valid&&!this.enemyAttackStarted?(this.validCards=this.selectedCards,this.setAttackArrowsPlayer(!0)):this.enemyAttackStarted||(this.setAttackArrowsPlayer(!1),this.validCards=[]),this.determineSubtractValue()}else this.onSelectTargetAbilityWildSuitRange(t);else this.onSelectTargetAbilityWildRange(t);else this.onSelectTargetAbilityWildSuit(t)}setAttackArrowsPlayer(t){var r=this;return He(function*(){try{const z=r.enemyPlayers.find(le=>le.health>0);let ne;if(0===r.enemyTarget&&z&&(r.enemyTarget=z.id,r.staticEnemyTarget=r.enemyTarget),yield r.timeout(150),r.enemyPlayerRef){var a,i=!1,s=!1;try{for(var l,o=et(r.enemyPlayerRef);i=!(l=yield o.next()).done;i=!1){const le=l.value;le.nativeElement.className.includes("errorEnemyBorder")&&(ne=le.nativeElement)}}catch(le){s=!0,a=le}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}}if(ne){const le=[];if(r.myActiveCards){try{var g,c=!1,d=!1;try{for(var y,m=et(r.activeLeaderLines);c=!(y=yield m.next()).done;c=!1)yield y.value.hide("fade",{duration:100,timing:"linear"}),yield r.timeout(100)}catch(Re){d=!0,g=Re}finally{try{c&&null!=m.return&&(yield m.return())}finally{if(d)throw g}}}catch{}var B,b=!1,D=!1;try{for(var te,Y=et(r.myActiveCards);b=!(te=yield Y.next()).done;b=!1){const Re=te.value;if(Re.nativeElement.className.includes("activeCard")){let gn=new LeaderLine(Re.nativeElement,ne,{dash:{animation:!0},endSocket:"bottom",startSocket:"top",dropShadow:!0,gradient:{startColor:t?"rgba(0, 255, 0, 0.281)":"rgba(255, 0, 0, 0.281)",endColor:t?"rgb(0, 255, 0)":"rgb(228, 35, 35)"},animOptions:{duration:30,timing:"linear"},hide:!0,endPlug:"arrow3",endPlugColor:t?"rgb(0, 255, 0)":"rgb(228, 35, 35)"});gn.show("draw",{duration:200,timing:"linear"}),le.push(gn)}}}catch(Re){D=!0,B=Re}finally{try{b&&null!=Y.return&&(yield Y.return())}finally{if(D)throw B}}}r.activeLeaderLines=le}}catch{}})()}setAttackArrowsEnemy(){var t=this;return He(function*(){try{let te;if(t.playerTarget=t.player.id,yield t.timeout(150),t.playerRef){var s,r=!1,i=!1;try{for(var o,a=et(t.playerRef);r=!(o=yield a.next()).done;r=!1){const z=o.value;z.nativeElement.className.includes("errorEnemyBorder")&&(te=z.nativeElement)}}catch(z){i=!0,s=z}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}}if(te){const z=[];if(t.activeEnemyCards){try{var d,l=!1,c=!1;try{for(var m,g=et(t.activeLeaderLines);l=!(m=yield g.next()).done;l=!1)yield m.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(ne){c=!0,d=ne}finally{try{l&&null!=g.return&&(yield g.return())}finally{if(c)throw d}}}catch{}var D,y=!1,b=!1;try{for(var Y,B=et(t.activeEnemyCards);y=!(Y=yield B.next()).done;y=!1){const ne=Y.value;if(ne.nativeElement.className.includes("activeEnemyCard")){let Re=new LeaderLine(ne.nativeElement,te,{dash:{animation:!0},endSocket:"top",startSocket:"bottom",dropShadow:!0,gradient:{startColor:"rgba(0, 255, 0, 0.281)",endColor:"rgb(0, 255, 0)"},animOptions:{duration:30,timing:"linear"},hide:!0,endPlug:"arrow3",endPlugColor:"rgb(0, 255, 0)"});Re.show("draw",{duration:200,timing:"linear"}),z.push(Re)}}}catch(ne){b=!0,D=ne}finally{try{y&&null!=B.return&&(yield B.return())}finally{if(b)throw D}}}t.activeLeaderLines=z}}catch{}})()}attackButtonEnabled(){return(this.cardService.determineHand(this.selectedCards).valid??!1)&&this.canSelectCards}attack(){var t=this;return He(function*(){if(0===t.selectedCards.length&&0===t.playerHand.length)t.newTurn(),yield t.addCardsToBothHands(),t.botDiscardPhase(),t.playerHand.length<6?(t.startBotTurnsLoop(),t.pushError("Enemy Turn"),t.usedSpecialCardThisTurn=!1):(t.enemyNextTurn=!0,t.playerDiscardPhase());else{const l=t.cardService.determineHand(t.selectedCards);if(!l.valid)return t.canSelectCards=!0,void t.pushError("Invalid Attack Hand!");t.playerHand=t.playerHand.filter(c=>!t.selectedCards.find(g=>g.id===c.id)),t.attackStarted=!0;try{var s,r=!1,i=!1;try{for(var o,a=et(t.activeLeaderLines);r=!(o=yield a.next()).done;r=!1)yield o.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(c){i=!0,s=c}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}}catch{}t.playerAttackHand=l,t.initiateBotDefense(l)}})()}initiateBotDefense(t){var r=this;return He(function*(){const i=r.enemyPlayers.find(s=>s.id===r.currentEnemyTurn.id)?.attack??0;if(0===i){const s=r.enemyPlayers.find(a=>a.id===r.enemyTarget);yield r.addBotCardsToHand(s?.attack??0)}else yield r.addBotCardsToHand(i);setTimeout(()=>{if(r.enemyHand.length>0){const s=r.cardService.generateBotDefenseHand(r.enemyHand,r.selectedCards.length);r.enemyHand=r.enemyHand.filter(a=>!s.cards.find(l=>l.id===a.id)),setTimeout(()=>{r.enemyAttackHand=s,r.enemyDefense=s.cards;const a=r.cardService.determineWinner(t,s);r.setWinner(a,!0)},500)}else setTimeout(()=>{r.enemyAttackHand={cards:[],highCard:0,valid:!1,power:0,name:"",ranking:0},r.enemyDefense=[];const s=r.cardService.determineWinner(t,r.enemyAttackHand);r.setWinner(s,!0)},500)},1e3)})()}numbersGoUpIncrementallyPlayer(t,r){var i=this;return He(function*(){const a=Array.from(Array(r-t).keys());var c,o=!1,l=!1;try{for(var g,d=et(a);o=!(g=yield d.next()).done;o=!1){const m=g.value;{const y=t+(m+1);yield i.timeout(100*m),i.player.health=y}}}catch(m){l=!0,c=m}finally{try{o&&null!=d.return&&(yield d.return())}finally{if(l)throw c}}})()}numbersGoDownIncrementallyBot(t,r){var i=this;return He(function*(){const s=i.enemyTarget,a=t-r,o=i.enemyPlayers.findIndex(b=>b.id===s),l=Array.from(Array(a).keys());var g,c=!1,d=!1;try{for(var y,m=et(l);c=!(y=yield m.next()).done;c=!1){const b=y.value;{const D=t-(b+1);yield i.timeout(100*b),i.enemyPlayers[o]={...i.enemyPlayers[o],health:D}}}}catch(b){d=!0,g=b}finally{try{c&&null!=m.return&&(yield m.return())}finally{if(d)throw g}}})()}numbersGoDownIncrementally(t,r,i=!1,s=2500){var a=this;return He(function*(){const o=a.enemyTarget;if(yield a.timeout(s),i){const z=Array.from(Array(t-r).keys());var d,l=!1,c=!1;try{for(var m,g=et(z);l=!(m=yield g.next()).done;l=!1){const ne=m.value;{const le=t-(ne+1);yield a.timeout(100*ne),a.player.health=le}}}catch(ne){c=!0,d=ne}finally{try{l&&null!=g.return&&(yield g.return())}finally{if(c)throw d}}}else{const te=t-r,z=a.enemyPlayers.findIndex(le=>le.id===o),ne=Array.from(Array(te).keys());var D,y=!1,b=!1;try{for(var Y,B=et(ne);y=!(Y=yield B.next()).done;y=!1){const le=Y.value;{const dt=t-(le+1)-a.currentExtraDmg;yield a.timeout(100*le),a.enemyPlayers[z]={...a.enemyPlayers[z],health:dt}}}}catch(le){b=!0,D=le}finally{try{y&&null!=B.return&&(yield B.return())}finally{if(b)throw D}}}if(2500===s)return a.wrappingTurn=!0,yield a.timeout(1e3)})()}timeout(t){return new Promise(r=>setTimeout(r,t))}setWinner(t,r){var i=this;return He(function*(){setTimeout(()=>{r?i.combatFinishPlayer(t):i.combatFinishBot(t)},200)})()}combatFinishPlayer(t){var r=this;return He(function*(){if(t.player1Winner){r.playerWinner=!0,r.enemyLoser=!0;var a,i=!1,s=!1;try{for(var l,o=et(r.enemyPlayers);i=!(l=yield o.next()).done;i=!1){const b=l.value;if(b.id===r.enemyTarget&&t.player1Determine.power){const D=t.player1Determine.power,B=b.health-D;console.log("Player Wins Attack: Attacking bot for "+D+" damage"),yield r.numbersGoDownIncrementally(b.health,B)}}}catch(b){s=!0,a=b}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}}if(t.player2Winner){r.enemyWinner=!0,r.playerLoser=!0;const b=r.enemyDefense.length,D=r.player.health-b;console.log("Bot Defended: Attacking player for "+b+" damage"),yield r.numbersGoDownIncrementally(r.player.health,D,!0)}if(t.tie&&(r.tie=!0),t.tie&&r.alwaysWinTies){r.tie=!1,r.playerWinner=!0,r.enemyLoser=!0;var g,c=!1,d=!1;try{for(var y,m=et(r.enemyPlayers);c=!(y=yield m.next()).done;c=!1){const b=y.value;if(b.id===r.enemyTarget&&t.player1Determine.power){const D=t.player1Determine.power,B=b.health-D;console.log("Player Wins Attack: Attacking bot for "+D+" damage"),yield r.numbersGoDownIncrementally(b.health,B)}}}catch(b){d=!0,g=b}finally{try{c&&null!=m.return&&(yield m.return())}finally{if(d)throw g}}}r.attackEnding=!0,yield r.timeout(500),r.attackStarted=!1,r.newTurn(),yield r.addCardsToBothHands(),r.botDiscardPhase(),r.playerHand.length<6?(r.startBotTurnsLoop(),r.pushError("Enemy Turn"),r.usedSpecialCardThisTurn=!1):(r.enemyNextTurn=!0,r.playerDiscardPhase())})()}determineSubtractValue(){const t=this.cardService.determineExtraDamage(this.selectedCards,this.player);this.currentExtraDmg=t}botDiscardPhase(){this.enemyHand.length>5&&(this.enemyHand=this.enemyHand.filter((t,r)=>r<5))}playerDiscardPhase(){this.discarding=!0,this.discardHide=!1,this.discardCards=this.playerHand,this.duringBotTurnDiscard=!1,this.playerHand=[]}playerDiscardPhaseExtra(){this.discarding=!0,this.discardHide=!1,this.discardCards=this.playerHand,this.playerHand=[],this.duringBotTurnDiscard=!0}finishedDiscarding(){this.discardCards.length-this.discardSelectedCards.length==5?(this.discardCards=this.discardCards.filter(t=>!this.discardSelectedCards.find(i=>i.id===t.id)),this.playerHand=this.discardCards,this.discarding=!1,setTimeout(()=>{this.discardHide=!0},1e3),this.duringBotTurnDiscard?this.startBotTurn():this.enemyNextTurn?(this.completedEnemyTurns=[],this.startBotTurnsLoop(),this.pushError("Enemy Turn"),this.addCardsToBothHands(),this.usedSpecialCardThisTurn=!1):(this.completedEnemyTurns=[],this.pushMessage("Player Turn"),this.addCardsToBothHands(),this.newTurn())):this.errorList.push("test")}discardCardIsSelected(t){return!!this.discardSelectedCards.find(i=>i.id===t.id)}selectDiscardCard(t){const r=this.discardSelectedCards.find(i=>i.id===t.id);!r&&this.discardCards.length-this.discardSelectedCards.length!=5&&this.discardSelectedCards.push(t),r&&(this.discardSelectedCards=this.discardSelectedCards.filter(i=>i.id!==t.id))}startBotTurnsLoop(){let t=!1;this.enemyPlayers.find(i=>{if(this.completedEnemyTurns.includes(i.id)||i.health<1)return;const s=this.enemyPlayers.find(a=>a.health>0);return 0===this.completedEnemyTurns.length&&s&&s.id===i.id&&!t&&(t=!0,0===this.abilityCardsHandBot.length&&this.drawAbilityCardBot(2)),this.completedEnemyTurns.includes(i.id)?void 0:(this.completedEnemyTurns.push(i.id),this.currentEnemyTurn=i,this.startBotTurn(),!0)})||(this.botDiscardPhase(),this.drawAbilityCard(2),this.playerHand.length<6?(this.completedEnemyTurns=[],this.addCardsToBothHands()):(this.enemyNextTurn=!1,this.playerDiscardPhase()))}addCardsToBothHands(){var t=this;return He(function*(){const i=5-t.enemyHand.length;t.addPlayerCardsToHand(5-t.playerHand.length),t.addBotCardsToHand(i)})()}addBotCardsToHand(t){var r=this;return He(function*(){if(t>0){const c=Array.from(Array(t).keys());var a,i=!1,s=!1;try{for(var o=et(c);i=!(yield o.next()).done;i=!1)r.enemyHand.push(r.enemyDeck[0]),r.enemyDeck.push(r.enemyDeck[0]),r.enemyDeck.shift()}catch(d){s=!0,a=d}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}yield r.timeout(400),r.enemyDeck[0]&&r.enemyDeck[0].id&&(r.topRedrawCardEnemy=r.enemyDeck[0].id)}})()}addPlayerCardsToHand(t){var r=this;return He(function*(){if(t>0){const c=Array.from(Array(t).keys());var a,i=!1,s=!1;try{for(var o=et(c);i=!(yield o.next()).done;i=!1)r.playerHand.push(r.playerDeck[0]),r.playerDeck.push(r.playerDeck[0]),r.playerDeck.shift()}catch(d){s=!0,a=d}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}r.topRedrawCard=0,yield r.timeout(400),r.playerDeck[0]&&r.playerDeck[0].id&&(r.topRedrawCard=r.playerDeck[0].id)}})()}isFinishedWithTurn(t){return!!this.completedEnemyTurns.includes(t.id)}combatFinishBot(t){var r=this;return He(function*(){if(t.player1Winner){r.playerWinner=!0,r.enemyLoser=!0,r.enemyTarget=r.findStaticEnemyPlayer().id,r.staticEnemyTarget=r.findStaticEnemyPlayer().id;var a,i=!1,s=!1;try{for(var l,o=et(r.enemyPlayers);i=!(l=yield o.next()).done;i=!1){const b=l.value;if(b.id===r.enemyTarget){const D=r.selectedCards.length;console.log("Player Defended: Attacking bot for "+D+" damage");const B=b.health-D;yield r.numbersGoDownIncrementally(b.health,B)}}}catch(b){s=!0,a=b}finally{try{i&&null!=o.return&&(yield o.return())}finally{if(s)throw a}}}if(t.player2Winner&&t.player2Determine.power){r.enemyWinner=!0,r.playerLoser=!0;const b=t.player2Determine.power,D=r.player.health-b;console.log("Bot Wins Attack: Attacking player for "+b+" damage"),yield r.numbersGoDownIncrementally(r.player.health,D,!0)}if(t.tie&&(r.tie=!0),t.tie&&r.alwaysWinTies){r.tie=!1,r.playerWinner=!0,r.enemyLoser=!0,r.enemyTarget=r.findStaticEnemyPlayer().id,r.staticEnemyTarget=r.enemyTarget;var g,c=!1,d=!1;try{for(var y,m=et(r.enemyPlayers);c=!(y=yield m.next()).done;c=!1){const b=y.value;if(b.id===r.enemyTarget){const D=r.selectedCards.length;console.log("Player Defended: Attacking bot for "+D+" damage");const B=b.health-D;yield r.numbersGoDownIncrementally(b.health,B)}}}catch(b){d=!0,g=b}finally{try{c&&null!=m.return&&(yield m.return())}finally{if(d)throw g}}}r.attackEnding=!0,yield r.timeout(500),r.attackStarted=!1,r.newTurn(),r.startBotTurnsLoop()})()}abilityTurnBot(){var t=this;return He(function*(){var s,r=!1,i=!1;try{for(var o,a=et(t.abilityCardsHandBot);r=!(o=yield a.next()).done;r=!1){const y=o.value;{const b=t.abilityService.checkCanUseAbility(y,t.enemyHand);if(b.length>0||0===y.cost.length){t.usedAbilityCardBot=!0,yield t.timeout(1e3),t.selectedEnemyCards=b,t.hoveringAbilityCardBot=y,t.setAttackArrowsEnemyAbility(),yield t.timeout(500),b.forEach(D=>{t.enemyHand=t.enemyHand.filter(B=>B.id!==D.id)});try{var d,l=!1,c=!1;try{for(var m,g=et(t.activeAbilityLeaderLines);l=!(m=yield g.next()).done;l=!1)yield m.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(D){c=!0,d=D}finally{try{l&&null!=g.return&&(yield g.return())}finally{if(c)throw d}}}catch{}t.activeAbilityLeaderLines=[],t.selectedCards=[],t.enemyTarget=0,yield t.useAbilityCardBot(y),t.abilityCardsHandBot=t.abilityCardsHandBot.filter(D=>D.id!==y.id),t.selectedEnemyCards=[],t.hoveringAbilityCardBot=Zr}}}}catch(y){i=!0,s=y}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}})()}useAbilityCardBot(t){var r=this;return He(function*(){"damage"===t.abilityFunction&&(yield r.botUseDamageAbility(t)),"offense"===t.abilityFunction&&(yield r.botUseOffenseAbility(t)),"discard"===t.abilityFunction&&(yield r.botUseDiscardAbility(t)),"draw"===t.abilityFunction&&(yield r.botUseDrawAbility(t)),"heal"===t.abilityFunction&&(yield r.botUseHealAbility(t))})()}botUseDamageAbility(t){var r=this;return He(function*(){r.pushDisplayMessage("Fire Attack"),yield r.timeout(500),r.player.health=r.player.health-t.abilityValue,r.fireOnPlayer=!0,yield r.timeout(800),r.botEndAbilityTurn()})()}botUseOffenseAbility(t){var r=this;return He(function*(){r.pushDisplayMessage(`-${t.abilityValue} Defense`),yield r.timeout(500),r.player.attack=r.player.attack-t.abilityValue,r.player.attack<0&&(r.player.attack=0),r.shieldOnPlayer=!0,yield r.timeout(800),r.botEndAbilityTurn()})()}botUseDiscardAbility(t){var r=this;return He(function*(){r.pushDisplayMessage(`Discard ${t.abilityValue} Cards`),yield r.timeout(500);const i=r.cardService.shuffle(r.playerHand);let s=0;var l,a=!1,o=!1;try{for(var d,c=et(i);a=!(d=yield c.next()).done;a=!1){const g=d.value;s!==t.abilityValue&&(s++,r.playerHand=r.playerHand.filter(m=>m.id!==g.id))}}catch(g){o=!0,l=g}finally{try{a&&null!=c.return&&(yield c.return())}finally{if(o)throw l}}yield r.timeout(100),r.botEndAbilityTurn()})()}botUseDrawAbility(t){var r=this;return He(function*(){r.pushDisplayMessage(`Draw ${t.abilityValue} Cards`),yield r.timeout(500),r.addBotCardsToHand(t.abilityValue),yield r.timeout(100),r.botEndAbilityTurn()})()}botUseHealAbility(t){var r=this;return He(function*(){if(t.targetAll)r.pushDisplayMessage(`Heal All ${t.abilityValue} Health`),yield r.timeout(500),r.enemyPlayers=r.enemyPlayers.map(i=>{if(i.health<1)return i;{let a=i.health+t.abilityValue;return a>i.baseHealth&&(a=i.baseHealth),r.healOnEnemies.push(i),{...i,health:a}}}),yield r.timeout(800),r.botEndAbilityTurn();else{r.pushDisplayMessage(`Heal ${t.abilityValue} Health`),yield r.timeout(500);const i=r.enemyPlayers.find(o=>o.health>0),s=r.enemyPlayers.find(o=>o.health>0&&o.health!==o.baseHealth);let a;a=s||(i??void 0),a&&(r.healOnEnemies.push(a),r.enemyPlayers=r.enemyPlayers.map(o=>{if(o.id===a?.id){let l=o.health+t.abilityValue;return l>o.baseHealth&&(l=o.baseHealth),{...o,health:l}}return o})),yield r.timeout(800),r.botEndAbilityTurn()}})()}botEndAbilityTurn(){this.fireOnPlayer=!1,this.shieldOnPlayer=!1,this.healOnEnemies=[],this.displayMessageList.forEach(t=>{this.displayMessageListInactive.push(t.id)})}startBotTurn(){var t=this;return He(function*(){if(t.abilityCardsHand=[],t.showBotCards=!0,t.canSelectCards=!1,t.fireOnPlayer=!1,t.playerHand.length>5)return void t.playerDiscardPhaseExtra();t.abilityCardsHandBot.length>0&&(yield t.abilityTurnBot());let r={valid:!1,highCard:0,cards:[]};if(!(t.enemyHand.length>0))return t.completedEnemyTurns=[],t.pushMessage("Player Turn"),t.addCardsToBothHands(),void t.newTurn();r=t.cardService.generateBotOffenseHand(t.enemyHand),yield t.timeout(500),t.playerTarget=t.player.id,t.selectedEnemyCards=r.cards,t.setAttackArrowsEnemy(),yield t.timeout(1e3);const i=t.findEnemyPlayerAttack();t.staticEnemyTarget=i.id,t.showBotCards=!1,t.abilityCardsHandBot=[],t.enemyAttackStarted=!0,t.canSelectCards=!0;try{var o,s=!1,a=!1;try{for(var c,l=et(t.activeLeaderLines);s=!(c=yield l.next()).done;s=!1)yield c.value.hide("fade",{duration:100,timing:"linear"}),yield t.timeout(100)}catch(g){a=!0,o=g}finally{try{s&&null!=l.return&&(yield l.return())}finally{if(a)throw o}}}catch{}t.enemyAttackHand=r,t.enemyDefense=r.cards,t.addPlayerCardsToHand(t.player.attack)})()}chooseDefensePlayerCards(){if(this.selectedCards.length!==this.enemyAttackHand.cards.length&&!this.canDefendWithMultipleCards&&this.selectedCards.length!==this.playerHand.length)return this.canSelectCards=!0,void this.pushError("Select "+this.enemyAttackHand.cards.length+" Cards");if(this.canDefendWithMultipleCards&&this.selectedCards.length<this.enemyAttackHand.cards.length&&this.selectedCards.length!==this.playerHand.length)return this.canSelectCards=!0,void this.pushError("Select At Least "+this.enemyAttackHand.cards.length+" Cards");this.canSelectCards=!1;const t=this.cardService.determineHand(this.selectedCards);this.playerAttackHand=t,this.enemyHand=this.enemyHand.filter(i=>!this.enemyDefense.find(a=>a.id===i.id)),this.playerHand=this.playerHand.filter(i=>!this.selectedCards.find(a=>a.id===i.id)),this.finishedChoosingDefensePlayer=!0;const r=this.cardService.determineWinner(t,this.enemyAttackHand);this.setWinner(r,!1)}newTurn(){this.finishedChoosingDefensePlayer=!1,this.enemyTarget=0,this.currentEnemyTurn={id:0,health:1,attack:1,image:"",name:"",baseHealth:1,baseAttack:1,level:1},this.playerTarget=0,this.canSelectCards=!0,this.selectedCards=[],this.selectedEnemyCards=[],this.attackEnding=!1,this.playerWinner=!1,this.playerLoser=!1,this.enemyLoser=!1,this.enemyWinner=!1,this.enemyAttackStarted=!1,this.duringBotTurnDiscard=!1,this.staticEnemyTarget=0,this.tie=!1,this.discarding=!1,this.currentAbility=Zr,this.enemyDefense=[],this.activeLeaderLines=[],this.activeAbilityLeaderLines=[],this.discardSelectedCards=[],this.currentExtraDmg=0,this.playerAttackHand={cards:[],highCard:0,valid:!1},this.enemyAttackHand={cards:[],highCard:0,valid:!1},setTimeout(()=>{this.wrappingTurn=!1},1e3)}pushError(t){const r=this.errorList.length+1;this.errorList.push({id:r,message:t}),setTimeout(()=>{this.errorListInactive.push(r)},1100)}pushMessage(t){const r=this.messageList.length+1;return this.messageList.push({id:r,message:t}),setTimeout(()=>{this.messageListInactive.push(r)},1100),r}pushDisplayMessage(t){const r=this.displayMessageList.length+1;return this.displayMessageList.push({id:r,message:t}),r}pushSpecialAbilityImage(t){const r=this.specialAbilityList.length+1;this.specialAbilityList.push({id:r,message:t}),setTimeout(()=>{this.specialAbilityListInactive.push(r)},1100)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(o3),Oe(l3),Oe(u3))};static#t=this.\u0275cmp=Hl({type:e,selectors:[["app-battle"]],viewQuery:function(r,i){if(1&r&&(zi(c3,5),zi(d3,5),zi(f3,5),zi(h3,5),zi(g3,5),zi(p3,5),zi(m3,5)),2&r){let s;yi(s=vi())&&(i.enemyDefenseRef=s.first),yi(s=vi())&&(i.myActiveCards=s),yi(s=vi())&&(i.activeAbilityCards=s),yi(s=vi())&&(i.activeAbilityCardsBot=s),yi(s=vi())&&(i.activeEnemyCards=s),yi(s=vi())&&(i.enemyPlayerRef=s),yi(s=vi())&&(i.playerRef=s)}},hostBindings:function(r,i){1&r&&Zt("keypress",function(a){return i.giveHint(a)},0,Iy)},standalone:!0,features:[hh],decls:36,vars:34,consts:[[1,"container",3,"click"],[4,"ngFor","ngForOf"],[1,"bgContainer"],[1,"bgFilter"],[1,"bgContainerImage",3,"ngStyle"],["class","redrawPanel attackPanel",4,"ngIf"],["class","redrawPanel discardPanel",4,"ngIf"],["class","redrawPanel",4,"ngIf"],[1,"floatingText"],["class","floatingRelative",4,"ngFor","ngForOf"],[1,"floatingText","floatingTextAbility"],[1,"top"],["class","topLeft",3,"ngClass",4,"ngIf"],["class","topMiddle",4,"ngIf"],["class","topRight",3,"ngClass",4,"ngIf"],[1,"middle"],[1,"middleLeft"],[1,"middleRightBox"],["class","deathSkullBox deathSkullAnimation",4,"ngIf"],["class","middleCard middleRightCard middleLeftCard playerMid",3,"ngClass",4,"ngIf"],[1,"middleRight"],[1,"enemyCardsBox"],["class","middleRightBox",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bottom"],["class","bottomLeft",3,"ngClass",4,"ngIf"],[1,"bottomMiddle","veryBottomMiddle",3,"ngClass"],["myActiveCardsDefending",""],["class","bottomCard playerBottomCard",3,"ngClass","ngStyle","click","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["class","bottomCard playerBottomCard",3,"ngClass","ngStyle","click","wheel",4,"ngFor","ngForOf","ngForTrackBy"],["class","bottomRight",3,"ngClass",4,"ngIf"],[1,"clickAnimation",3,"ngStyle"],[1,"redrawPanel","attackPanel"],[1,"relativeRedrawPanel"],[1,"panelBackground",3,"ngClass"],[1,"middleRightBox","specialAttacKBoxPlayer2"],[1,"middleCard","middleRightCard","middleLeftCard","specialAttacKBoxPlayerCard2",3,"ngClass"],["class","playerResultText redrawDetailText",3,"ngClass",4,"ngIf"],["class","redrawDetailTextInvisible",4,"ngIf"],[1,"cardBorder","middleCardBorder","playerCardBorder",3,"ngClass"],[1,"cardPlayerBorder"],[1,"abilityTitle","abilityTitlePlayer","paperBgEnemy"],[1,"abilityBorder1","paperBgEnemy","paperBgPlayer1"],[1,"abilityBorder2","paperBgEnemy","paperBgPlayer2"],[1,"abilityBorder3","paperBgEnemy","paperBgPlayer3"],["class","cardIcon confetti",3,"src",4,"ngIf"],[1,"cardIcon","darkenCard"],["class","cardIcon confetti claws",3,"src",4,"ngIf"],[1,"cardFooterIconBox","swordBox"],[1,"cardIcon",3,"src"],[1,"cardIconValue"],[1,"attackDefenseText","swordText",3,"ngStyle"],[1,"cardFooterIconBox","heartBox"],[1,"attackDefenseText",3,"ngStyle","ngClass"],[1,"cardBackgroundImage","playerBackground",3,"src"],[1,"middleRightBox","specialAttacKBoxPlayer"],[1,"middleCard","middleRightCard","middleLeftCard","specialAttacKBoxPlayerCard",3,"ngClass"],[1,"abilityTitle","abilityTitlePlayer","paperBg"],[1,"abilityBorder1","paperBg","paperBgPlayer1"],[1,"abilityBorder2","paperBg","paperBgPlayer2"],[1,"abilityBorder3","paperBg","paperBgPlayer3"],[1,"attackContainer",3,"ngClass"],[1,"topAttackContainer"],["class","redrawDetailText",3,"ngClass","ngStyle",4,"ngIf"],[1,"attackCardFlexRow"],["class","attackCardBox",4,"ngFor","ngForOf"],[1,"bottomAttackContainer"],[1,"playerResultText","redrawDetailText",3,"ngClass"],[1,"redrawDetailTextInvisible"],[1,"cardIcon","confetti",3,"src"],[1,"cardIcon","confetti","claws",3,"src"],[1,"redrawDetailText",3,"ngClass","ngStyle"],[1,"attackCardBox"],[1,"attackCard"],[1,"cardBorder"],[1,"cardBackgroundImage",3,"src"],[1,"defendBtnContainer"],["class","wildText",3,"ngStyle",4,"ngIf"],["class","goButton",3,"src","click",4,"ngIf"],["enemyDefenseRef",""],["class","bottomAttackContainer",4,"ngIf"],[1,"wildText",3,"ngStyle"],[1,"goButton",3,"src","click"],["class","attackCardFlexRow",4,"ngIf"],[1,"redrawPanel","discardPanel"],[1,"redrawBox",3,"ngClass"],[1,"redrawText"],[1,"redrawDetailText"],[1,"redrawCardsContainer",3,"ngClass"],["class","redrawCardBox",4,"ngFor","ngForOf"],[1,"goBtnContainer"],[1,"attackButton",3,"src","click"],[1,"defendAttackTxt","wildText",3,"ngStyle"],[1,"redrawCardBox"],[1,"discardCard",3,"ngClass","click"],[1,"cardBorder","redrawBorder",3,"ngClass"],["class","wildCard",4,"ngIf"],["class","wildCardIcon",3,"ngClass",4,"ngIf"],[1,"wildCard"],[1,"wildCardIcon",3,"ngClass"],[1,"wildText","wildValueText",3,"ngClass","ngStyle"],[1,"redrawPanel"],[1,"redrawCard",3,"ngClass","click"],[1,"floatingRelative"],[1,"floatingTextMessage",3,"ngClass"],[1,"floatingTextMessage","floatingMessageInfo",3,"ngClass"],[1,"topLeft",3,"ngClass"],[1,"deck","deckCard",3,"ngStyle"],[1,"deck","deck1","topdeck1",3,"ngStyle"],[1,"deck","deck2","topdeck2",3,"ngStyle"],["class","deck deck3 topdeck3",3,"ngStyle",4,"ngIf"],["class","deck deckTopImage",3,"ngStyle",4,"ngIf"],[1,"deck","deck3","topdeck3",3,"ngStyle"],[1,"deck","deckTopImage",3,"ngStyle"],[1,"topMiddle"],["class","bottomCard topCard enemyTopCard",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["class","bottomCard topCard enemyTopCard",3,"ngClass","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bottomCard","topCard","enemyTopCard",3,"ngClass","ngStyle"],["activeEnemyCards",""],["activeAbilityCardsBot",""],[1,"cardBorder",3,"ngClass"],[1,"enemyAbilityBackground","paperBg"],[1,"wildCardSuites","bottomWildCard","bottomAbilityStuff"],[1,"abilityTitle","paperBg"],[1,"abilityTitleText"],[1,"abilitySuitsBox"],["class","abilitySuit",3,"src",4,"ngFor","ngForOf"],[1,"abilityBorder1","paperBg"],[1,"abilityBorder2","paperBg"],[1,"abilityDescription","paperBg"],[1,"abilityDescriptionLevel"],[1,"levelText","paperBg"],[1,"abilityDescriptionText"],[1,"abilitySuit",3,"src"],[1,"topRight",3,"ngClass"],[1,"abilityDeckCardBox"],["class","abilityDeckCard",4,"ngIf"],[1,"abilityDeckCard"],[1,"deathSkullBox","deathSkullAnimation"],[1,"deathSkull",3,"src"],[1,"middleCard","middleRightCard","middleLeftCard","playerMid",3,"ngClass"],["playerRef",""],["class","cardIcon confetti claws protecting",3,"src",4,"ngIf"],["class","cardIcon confetti claws healing",3,"src",4,"ngIf"],["class","cardIconValue centerHoverText",3,"ngStyle","ngClass",4,"ngIf"],[1,"attackDefenseText","swordText",3,"ngStyle","ngClass"],[1,"cardIcon","confetti","claws","protecting",3,"src"],[1,"cardIcon","confetti","claws","healing",3,"src"],[1,"cardIconValue","centerHoverText",3,"ngStyle","ngClass"],["class","middleCard middleRightCard",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],[1,"middleCard","middleRightCard",3,"ngClass","click","mouseenter","mouseleave"],["enemyPlayerRef",""],["class","cardIcon confetti claws leaching",3,"src",4,"ngIf"],[1,"centerNumberValue","failText",3,"ngStyle","ngClass"],[1,"cardIcon","confetti","claws","leaching",3,"src"],[1,"bottomLeft",3,"ngClass"],[1,"deck","deck1",3,"ngStyle"],[1,"deck","deck2",3,"ngStyle"],["class","deck deck3",3,"ngStyle",4,"ngIf"],[1,"deck","deck3",3,"ngStyle"],[1,"bottomCard","playerBottomCard",3,"ngClass","ngStyle","click","mouseenter","mouseleave"],["activeAbilityCards",""],[1,"bottomCard","playerBottomCard",3,"ngClass","ngStyle","click","wheel"],["myActiveCards",""],["class","wildCard bottomWildCard",4,"ngIf"],["class","wildCardSuites bottomWildCard",4,"ngIf"],[1,"wildCard","bottomWildCard"],[1,"wildCardSuites","bottomWildCard"],["class","suit",3,"src","click",4,"ngIf"],["class","suit suitLast",3,"src","click",4,"ngIf"],[1,"suit",3,"src","click"],[1,"suit","suitLast",3,"src","click"],[1,"bottomRight",3,"ngClass"],["class","attackButtonBox",3,"ngClass",4,"ngIf"],[1,"attackButtonBox",3,"ngClass"],[1,"attackButton",3,"src","ngClass","click"],[1,"defendAttackTxt","wildText","attackTxt",3,"ngStyle"]],template:function(r,i){1&r&&(q(0,"div",0),Zt("click",function(a){return i.clickAnimation(a)}),oe(1,v3,2,9,"div",1),q(2,"div",2),de(3,"div",3)(4,"div",4),J(),oe(5,L3,61,82,"div",5),oe(6,i5,61,82,"div",5),oe(7,u5,14,27,"div",6),oe(8,g5,14,23,"div",7),q(9,"div",8),oe(10,p5,3,9,"div",9),J(),q(11,"div",8),oe(12,m5,3,9,"div",9),J(),q(13,"div",8),oe(14,y5,3,9,"div",9),J(),q(15,"div",10),oe(16,v5,3,9,"div",9),J(),q(17,"div",11),oe(18,w5,6,18,"div",12),oe(19,T5,3,3,"div",13),oe(20,O5,7,18,"div",14),J(),q(21,"div",15)(22,"div",16)(23,"div",17),oe(24,M5,2,1,"div",18),oe(25,H5,23,33,"div",19),J()(),q(26,"div",20)(27,"div",21),oe(28,Z5,3,2,"div",22),J()()(),q(29,"div",23),oe(30,tB,7,18,"div",24),q(31,"div",25,26),oe(33,sB,18,20,"div",27),oe(34,pB,7,20,"div",28),J(),oe(35,wB,7,19,"div",29),J()()),2&r&&(E(1),w("ngForOf",i.clickAnimationsList),E(3),w("ngStyle",W(25,qt,"url(./assets/"+i.gameThemePath+"/backgrounds/"+i.randomBgImage+".png)")),E(1),w("ngIf",i.attackStarted),E(1),w("ngIf",i.enemyAttackStarted),E(1),w("ngIf",!i.discardHide),E(1),w("ngIf",!i.redrawHide),E(2),w("ngForOf",i.errorList),E(2),w("ngForOf",i.specialAbilityList),E(2),w("ngForOf",i.messageList),E(2),w("ngForOf",i.displayMessageList),E(2),w("ngIf",i.redrawHide),E(1),w("ngIf",i.redrawHide),E(1),w("ngIf",i.redrawHide),E(4),w("ngIf",i.player.health<1),E(1),w("ngIf",i.redrawHide),E(3),w("ngForOf",i.enemyPlayers)("ngForTrackBy",i.trackById),E(2),w("ngIf",i.redrawHide),E(1),w("ngClass",kr(27,CB,!i.showBotCards&&i.enemyAttackStarted&&i.canSelectCards,!i.canSelectCards||i.showBotCards&&!i.enemyAttackStarted&&!i.canSelectCards,"wildSuit"===i.currentAbility.abilityFunction||"wildRange"===i.currentAbility.abilityFunction||"wildSuitRange"===i.currentAbility.abilityFunction))("@fadeOutLeave",W(32,Ee,Ae(31,SB))),E(2),w("ngForOf",i.abilityCardsHand)("ngForTrackBy",i.trackById),E(1),w("ngForOf",i.playerHand)("ngForTrackBy",i.trackById),E(1),w("ngIf",i.redrawHide))},dependencies:[N1,A1,x1,O1,R1],styles:[".container[_ngcontent-%COMP%]{height:100vh;width:100vw;position:relative;-webkit-user-select:none;user-select:none}.bgContainer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.clickAnimation[_ngcontent-%COMP%]{position:absolute;width:5em;height:5em;animation:_ngcontent-%COMP%_clickAnimationKey;animation-duration:1s;animation-fill-mode:forwards;border-radius:10em;background-color:#fff0;z-index:999;pointer-events:none}@keyframes _ngcontent-%COMP%_clickAnimationKey{0%{scale:0;box-shadow:0 0 .3em 1em #ffffffb3;background-color:#ffffffb3}70%{box-shadow:0 0 10px 30px #2684db00;background-color:#2684db00}to{scale:1;box-shadow:0 0 10px 30px #2684db00;background-color:#2684db00}}.bgContainerImage[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;width:100%;height:100%;position:relative;z-index:-1}.bgFilter[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(0,0,0,.2);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);position:absolute;z-index:0}.bottom[_ngcontent-%COMP%], .top[_ngcontent-%COMP%], .middle[_ngcontent-%COMP%]{width:100%;height:33.33%;display:flex;justify-content:space-between;align-items:center}.middle[_ngcontent-%COMP%]{row-gap:3%}.bottomMiddle[_ngcontent-%COMP%], .topMiddle[_ngcontent-%COMP%]{scale:.9}*[_ngcontent-%COMP%]{backface-visibility:hidden;-webkit-font-smoothing:subpixel-antialiased}.middleLeft[_ngcontent-%COMP%], .middleRight[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50%;top:-35%;scale:.9}.middleRight[_ngcontent-%COMP%]{left:-10%;position:relative}.middleLeft[_ngcontent-%COMP%]{position:relative}.attackButton[_ngcontent-%COMP%]{border-radius:10em;width:75%;-webkit-user-select:none;user-select:none;color:#f5f5f5;display:flex;justify-content:center;align-items:center;text-align:center;animation:_ngcontent-%COMP%_boxShadow 1.5s infinite;animation-fill-mode:forwards;animation-delay:1s;-webkit-user-drag:none;transition:all .3s}.attackButton[_ngcontent-%COMP%]:hover{filter:brightness(130%);scale:1.1}.attackButton[_ngcontent-%COMP%]:active{scale:.9;filter:brightness(60%)}@keyframes _ngcontent-%COMP%_boxShadow{0%{box-shadow:0 0 10px 1px #2684dbcc}70%{box-shadow:0 0 10px 50px #2684db00}to{box-shadow:0 0 10px 50px #2684db00}}.disabledButton[_ngcontent-%COMP%]{box-shadow:none!important;pointer-events:none!important;filter:brightness(60%)}.disabledButtonAnimation[_ngcontent-%COMP%]{animation:none!important}.deck[_ngcontent-%COMP%]{width:75%;height:75%;background-position:center;background-repeat:no-repeat;background-size:contain;-webkit-user-drag:none;border-radius:5%;filter:drop-shadow(0 0 2px black)}.bottomRight[_ngcontent-%COMP%], .bottomLeft[_ngcontent-%COMP%], .topLeft[_ngcontent-%COMP%], .topRight[_ngcontent-%COMP%]{position:relative}.deckCard[_ngcontent-%COMP%]{position:absolute;left:11%;top:0%}.deck1[_ngcontent-%COMP%]{position:absolute;left:12%;top:-1%}.deck2[_ngcontent-%COMP%]{position:absolute;left:14%;top:-2%;scale:.99}.topdeck1[_ngcontent-%COMP%]{left:12%;top:-1%}.topdeck2[_ngcontent-%COMP%]{left:13.5%;top:-2%;scale:.99}.topdeck3[_ngcontent-%COMP%]{left:14.5%;top:-3.5%;scale:.98}.deck3[_ngcontent-%COMP%]{position:absolute;left:15.5%;top:-3.5%;scale:.98;background-position:center;background-repeat:no-repeat;background-size:contain;-webkit-user-drag:none}.deckTopImage[_ngcontent-%COMP%]{position:absolute;left:15.5%;top:-3.5%;background-position:center;background-repeat:no-repeat;background-size:contain;-webkit-user-drag:none;scale:.98}.bottomLeft[_ngcontent-%COMP%], .topLeft[_ngcontent-%COMP%], .bottomRight[_ngcontent-%COMP%], .topRight[_ngcontent-%COMP%]{height:90%;width:12%;scale:.9}.bottomRight[_ngcontent-%COMP%], .bottomLeft[_ngcontent-%COMP%]{bottom:-20%}.topLeft[_ngcontent-%COMP%], .topRight[_ngcontent-%COMP%]{top:4%}.bottomMiddle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:end;height:100%;width:70%;column-gap:.1%}.bottomCard[_ngcontent-%COMP%]{position:relative;bottom:-50%;width:12%;height:100%;padding:.5%;transition:all .3s;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.cardBackgroundImage[_ngcontent-%COMP%]{width:100%;background-position:center;background-repeat:no-repeat;background-size:contain;-webkit-user-drag:none;border-radius:5%}.bottomCard[_ngcontent-%COMP%]:hover{bottom:-30%}.abilityDeckCardBox[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;top:-16%!important;left:3%;position:relative;scale:.78}.activeCard[_ngcontent-%COMP%]{bottom:-15%!important;transform:perspective(900px) translateY(0) rotateX(25deg) translateZ(0)}.chooseCardAbilityActiveCard[_ngcontent-%COMP%]{bottom:-15%!important}.chooseCardAbilityActiveCard[_ngcontent-%COMP%]:hover{bottom:-8%!important}.cardBorder[_ngcontent-%COMP%]{padding:3%;margin:1%;display:flex;border-radius:5%;transition:all .3s;position:relative;background-color:#0000004b}.activeCardBorder[_ngcontent-%COMP%], .hoveringAbilityCard[_ngcontent-%COMP%]{background-color:#eaff2f;box-shadow:0 0 3px 3px #eaff2f80}.validCardBorder[_ngcontent-%COMP%]{background-color:#2cdb26;box-shadow:0 0 10px 1px #2cdb2680}.errorCardBorder[_ngcontent-%COMP%]{background-color:#eb0000;box-shadow:0 0 3px 3px #eb000080}.abilityActiveCardBorder[_ngcontent-%COMP%]{background-color:#2cdb26;box-shadow:0 0 10px 1px #2cdb2680}.chooseCardAbilityBorder[_ngcontent-%COMP%]{background-color:#eaff2f;box-shadow:0 0 3px 3px #eaff2f80}.floatingText[_ngcontent-%COMP%]{position:absolute;top:33%;left:50%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none;width:50%;z-index:999}.floatingTextAbility[_ngcontent-%COMP%]{top:15%;transform:translate(-50%);font-size:70%}.floatingRelative[_ngcontent-%COMP%]{position:relative;z-index:999}.floatingTextMessage[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;font-size:3em;color:#eb0000;text-shadow:0 0 .3em black;-webkit-user-select:none;user-select:none;text-align:center;z-index:999}.redrawPanel[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;z-index:99}.attackPanel[_ngcontent-%COMP%]{z-index:99}.fade[_ngcontent-%COMP%]{-webkit-user-select:none!important;user-select:none!important;pointer-events:none!important;opacity:0;transition:all .5s}.fadeHide[_ngcontent-%COMP%]{display:none}.relativeRedrawPanel[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;z-index:2}.panelBackground[_ngcontent-%COMP%]{position:absolute;background-color:#0000004d;height:calc(100% + 1px);width:calc(100% + 1px);-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);top:-1px;left:-1px}.redrawCardsContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;height:70%;column-gap:1%;margin-left:10%;margin-right:10%}.redrawBox[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;row-gap:10%;height:30%}.goBtnContainer[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;bottom:8%}.discardButtonBox[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:70%;top:-5%;right:-5%}.defendBtnContainer[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;row-gap:2%;width:100%;height:100%;right:-38%;bottom:-35%}.goButton[_ngcontent-%COMP%]{border-radius:20%;width:6%;-webkit-user-select:none;user-select:none;-webkit-user-drag:none;color:#f5f5f5;display:flex;justify-content:center;align-items:center;text-align:center;transition:all .3s;animation:_ngcontent-%COMP%_boxShadow 1.5s infinite;animation-fill-mode:forwards;animation-delay:1s}.goButton[_ngcontent-%COMP%]:hover{filter:brightness(130%);scale:1.1}.goButton[_ngcontent-%COMP%]:active{scale:.9;filter:brightness(60%)}.redrawText[_ngcontent-%COMP%]{font-size:4em;color:#fff;position:relative}.redrawDetailText[_ngcontent-%COMP%]{font-size:2em;color:#fff;position:relative}.redrawDetailTextInvisible[_ngcontent-%COMP%]{font-size:2em;opacity:0;position:relative}.redrawCard[_ngcontent-%COMP%]{position:relative;bottom:-10%;width:100%;padding:.5%;transition:all .3s;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.redrawCardBox[_ngcontent-%COMP%]{height:32%;width:12%}.activeRedrawCard[_ngcontent-%COMP%]{bottom:7%!important}.activeDiscardCard[_ngcontent-%COMP%]{bottom:-15%!important}.discardCard[_ngcontent-%COMP%]{position:relative;bottom:0%;width:100%;padding:.5%;transition:all .3s;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.redrawCard[_ngcontent-%COMP%]:hover{bottom:-5%}.discardCard[_ngcontent-%COMP%]:hover{bottom:-9%}.middleCard[_ngcontent-%COMP%]{width:50%;height:100%;transition:all .3s;pointer-events:none;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.middleRightCard[_ngcontent-%COMP%]{width:90%;height:35%;pointer-events:all}.middleLeftCard[_ngcontent-%COMP%]{pointer-events:none}.middleRightBox[_ngcontent-%COMP%]{height:50%;width:17%;display:flex;align-items:center;justify-content:center}.enemyCardsBox[_ngcontent-%COMP%]{display:flex;width:100%;column-gap:3%;justify-content:space-evenly}.middleCardBorder[_ngcontent-%COMP%]{padding:3%;margin:2%;transition:all 0s}.middleCardBorder[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px 3px #ff0000e6}.errorEnemyBorder[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_boxShadowRed 1.5s infinite;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_boxShadowRed{0%{box-shadow:0 0 10px 1px #ff0000e6}90%{box-shadow:0 0 10px 50px #f000}to{box-shadow:0 0 10px 50px #f000}}.topMiddle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:start;width:70%;column-gap:.1%;top:-50%;position:relative}.topCard[_ngcontent-%COMP%]{bottom:-50%!important;-webkit-user-select:none!important;user-select:none!important;pointer-events:none!important}.attackContainer[_ngcontent-%COMP%]{height:100%}.topAttackContainer[_ngcontent-%COMP%], .bottomAttackContainer[_ngcontent-%COMP%]{height:50%;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}.attackCardBox[_ngcontent-%COMP%]{width:10%}.attackCardFlexRow[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%}.attackCard[_ngcontent-%COMP%]{position:relative;width:100%;padding:.5%;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.successText[_ngcontent-%COMP%]{color:#00c400}.failText[_ngcontent-%COMP%]{color:#ce0000}.tieText[_ngcontent-%COMP%]{color:gray}.attackingBottomMiddle[_ngcontent-%COMP%]{z-index:99}.cardDetailsContainer[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}.playerBackground[_ngcontent-%COMP%]{width:105%;left:-2%;background-size:cover;background-position:center;position:relative;z-index:6}.playerCardBorder[_ngcontent-%COMP%]{position:relative;width:100%;transition:all .1s}.cardFooterIconBox[_ngcontent-%COMP%]{position:absolute;bottom:0;width:45%}.cardPlayerBorder[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;border-radius:4%}.swordBox[_ngcontent-%COMP%]{width:55%;left:-15%;bottom:-8%}.swordText[_ngcontent-%COMP%]{position:relative;top:5%}.heartBox[_ngcontent-%COMP%]{right:-10%;bottom:-7%}.attackDefenseText[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#fcf9f0,#cfcfcb);-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700;font-size:100%}.redHealthText[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ff0000,#ffffff);-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700;font-size:100%}.cardIconValue[_ngcontent-%COMP%]{position:absolute;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:12;font-size:150%}.wildCard[_ngcontent-%COMP%]{width:94%;height:96%;border-radius:5%;position:absolute;opacity:.5;top:2%;left:3%;background:linear-gradient(124deg,#ff2400,#e81d1d,#e8b71d,#e3e81d,#1de840,#1ddde8,#2b1de8,#dd00f3,#dd00f3);background-size:350% 350%;background-repeat:no-repeat;-z-animation:rainbow 5s ease infinite;animation:_ngcontent-%COMP%_rainbow 5s ease infinite}@keyframes _ngcontent-%COMP%_rainbow{0%{background-position:0% 82%}50%{background-position:100% 19%}to{background-position:0% 82%}}.specialAttacKBoxPlayer[_ngcontent-%COMP%]{position:absolute;top:0;left:3%;height:100%;display:flex;justify-content:center;align-items:center}.specialAttacKBoxPlayerCard[_ngcontent-%COMP%]{width:60%}.specialAttacKBoxPlayer2[_ngcontent-%COMP%]{position:absolute;top:0;right:3%;height:100%;display:flex;justify-content:center;align-items:center}.specialAttacKBoxPlayerCard2[_ngcontent-%COMP%]{width:60%}.playerResultText[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;text-align:center;top:-5%}.confetti[_ngcontent-%COMP%]{position:absolute!important;top:0;left:0}.claws[_ngcontent-%COMP%]{top:10%;animation:_ngcontent-%COMP%_zoomOutClaws;animation-duration:1s;animation-delay:2s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_zoomOutClaws{0%{scale:2}70%{scale:1}to{scale:1}}.healing[_ngcontent-%COMP%]{animation:zoomOutHeal!important;animation-duration:1s!important;animation-fill-mode:forwards!important;z-index:99}@keyframes _ngcontent-%COMP%_zoomOutHeal{0%{scale:0;opacity:0}50%{opacity:1}to{scale:1;opacity:0}}.leaching[_ngcontent-%COMP%]{animation:zoomOutLeach!important;animation-duration:2s!important;animation-fill-mode:forwards!important;z-index:99}.protecting[_ngcontent-%COMP%]{animation:zoomOutLeach!important;animation-duration:1s!important;animation-fill-mode:forwards!important;z-index:99}@keyframes _ngcontent-%COMP%_zoomOutLeach{0%{scale:1;opacity:0}50%{opacity:1}to{scale:0;opacity:0}}.greenHealthText[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#15ff00,#ffffff);-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700;font-size:100%}.deadEnemy[_ngcontent-%COMP%]{filter:brightness(.3);transition:all 1s}.zoomOutDarken[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_darkenZoomOut;animation-duration:1s;animation-delay:1s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_darkenZoomOut{0%{scale:1}to{scale:.9}}.zoomIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomIn;animation-duration:1s;animation-delay:1s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_zoomIn{0%{scale:1}50%{scale:1}to{scale:1.1}}.wildCardSuites[_ngcontent-%COMP%]{width:96%;height:96%;position:absolute;top:2%;right:2%;display:flex;flex-direction:column;align-items:flex-end;border-radius:3%;overflow:hidden}.suit[_ngcontent-%COMP%]{width:13%;padding:2%;background-color:#00000085;opacity:.2;-webkit-user-drag:none}[_ngcontent-%COMP%]:hover > .suit[_ngcontent-%COMP%]{opacity:.6}.suit[_ngcontent-%COMP%]:hover{opacity:1!important}.suitLast[_ngcontent-%COMP%]{border-bottom-left-radius:20%}.bottomWildCard[_ngcontent-%COMP%]{width:94%;height:96%;left:3%;right:3%;top:2%}.leavingFieldCard[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flickerAway 2.5s;animation-fill-mode:forwards;-webkit-user-select:none!important;user-select:none!important;pointer-events:none!important;animation-delay:1s}@keyframes _ngcontent-%COMP%_flickerAway{0%{filter:brightness(1);scale:1}70%{filter:brightness(.3);scale:1}to{scale:0;filter:brightness(0)}}.deathSkullBox[_ngcontent-%COMP%]{position:absolute;height:100%;width:1%;display:flex;justify-content:center;align-items:center;opacity:0}.deathSkull[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;-webkit-user-drag:none}.deathSkullAnimation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_animateSkull;animation-duration:1s;animation-delay:3.5s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_animateSkull{0%{scale:0;opacity:1}to{scale:1;opacity:0}}.centerNumberValue[_ngcontent-%COMP%]{position:absolute;top:0%;left:70%;width:100%;height:100%;overflow:hidden;font-size:1.2em;z-index:8;display:flex;justify-content:center;align-items:center;opacity:0;background:-webkit-linear-gradient(#ff0000,#ffffff);-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700;font-size:100%;transition:all .3s}[_ngcontent-%COMP%]:hover > .centerNumberValue[_ngcontent-%COMP%]{opacity:1}.attackText[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#fcf9f0,#cfcfcb);-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700}.specialNameText[_ngcontent-%COMP%]{background:linear-gradient(124deg,#ff2400,#e81d1d,#e8b71d,#e3e81d,#1de840,#1ddde8,#2b1de8,#dd00f3,#dd00f3);background-size:350% 350%;background-repeat:no-repeat;-z-animation:rainbow 5s ease infinite;animation:_ngcontent-%COMP%_rainbow 5s ease infinite;-webkit-text-stroke:1px #000000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700}.showHitText[_ngcontent-%COMP%]{opacity:1}.wildCardIcon[_ngcontent-%COMP%]{position:absolute;top:-7%;right:-4%;width:100%;display:flex;justify-content:flex-end}.wildIcon[_ngcontent-%COMP%]{width:15%}.wildText[_ngcontent-%COMP%]{background:white;-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700}.specialWildRangeIcon[_ngcontent-%COMP%]{position:absolute;top:-10%;right:-7%;width:100%;display:flex;justify-content:flex-end}.specialWildRangeIconText[_ngcontent-%COMP%]{background:white;-webkit-text-stroke:1px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700;font-size:150%}.heartHealthBox[_ngcontent-%COMP%]{position:relative;overflow:hidden}.cardIcon[_ngcontent-%COMP%]{width:100%;position:relative;z-index:11;overflow:hidden}.cardIconBorder[_ngcontent-%COMP%]{width:100%;position:relative;z-index:9}.defendAttackTxt[_ngcontent-%COMP%]{position:absolute;margin-top:-110%;width:100%;text-align:center}.attackButtonBox[_ngcontent-%COMP%]{position:absolute;left:28%;top:-50%;transition:all .3s}.attackTxt[_ngcontent-%COMP%]{margin-left:-12%;margin-top:-100%}.disabledAbilityBtn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:none;animation:_ngcontent-%COMP%_disableBurst 1.5s;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_disableBurst{0%{filter:drop-shadow(0 0 .3em yellow)}to{filter:drop-shadow(0 0 5em rgba(38,132,219,0)) brightness(60%)}}.disabledCards[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:none;filter:brightness(.7)}.enabledCards[_ngcontent-%COMP%]{pointer-events:all;filter:brightness(1)}.veryBottomMiddle[_ngcontent-%COMP%]{transition:all .3s}.turnIsOverCard[_ngcontent-%COMP%]{transition:all 1s;-webkit-user-select:none;user-select:none;pointer-events:none;rotate:10deg;filter:brightness(.7)}.darkenCard[_ngcontent-%COMP%]{transition:all 1s;-webkit-user-select:none;user-select:none;pointer-events:none;filter:brightness(.7)}.enemyTargetActive[_ngcontent-%COMP%]{background-color:#eaff2f!important;box-shadow:0 0 10px 5px #eaff2f!important}.enemyTopCard[_ngcontent-%COMP%]{width:0%;transform:translate(0);animation:_ngcontent-%COMP%_cardFadeDown .8s;animation-fill-mode:forwards;transition:all .3s;position:relative;bottom:0!important}.playerBottomCard[_ngcontent-%COMP%]{width:0%;transform:translate(0);animation:_ngcontent-%COMP%_cardFadeUp .8s;animation-fill-mode:forwards}.bottomAbilityStuff[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column}.paperBg[_ngcontent-%COMP%]{background:url(https://thainge.github.io/card-kingdom-heroes/paper.94c0f59f25100626.png)}.paperBgEnemy[_ngcontent-%COMP%]{background:url(https://thainge.github.io/card-kingdom-heroes/paperEnemy.16188f10c68d2673.png);z-index:11!important}.abilityTitle[_ngcontent-%COMP%]{width:100%;height:10%;display:flex;justify-content:space-between;align-items:center;background-position:center;background-position:50% 12%;font-size:100%;z-index:2}.abilityDescription[_ngcontent-%COMP%]{width:100%;height:35%;display:flex;justify-content:space-between;align-items:center;background-position:bottom;background-position:50% 90%;font-size:100%;z-index:2}.abilityTitleText[_ngcontent-%COMP%]{position:relative;top:-1%;padding-left:4%}.abilityBorder1[_ngcontent-%COMP%]{position:absolute;background-position:top;background-position:50% 50%;width:3%;top:0;right:0;height:100%}.abilityBorder2[_ngcontent-%COMP%]{position:absolute;background-position:top;background-position:50% 30%;width:3%;top:0;left:0;height:100%}.abilityBorder3[_ngcontent-%COMP%], .abilityBorder4[_ngcontent-%COMP%]{position:absolute;background-position:top;background-position:50% 30%;height:3%;left:0;bottom:0;width:100%}.abilityDescription[_ngcontent-%COMP%]{position:relative}.abilityDescriptionLevel[_ngcontent-%COMP%]{position:absolute;top:-25%;width:100%;display:flex;justify-content:center;align-items:center}.levelText[_ngcontent-%COMP%]{font-size:70%;border-radius:5%;background-position:center;box-shadow:0 0 2px 2px #00000060;padding:3%}.abilityDescriptionText[_ngcontent-%COMP%]{text-align:start;padding-left:4%;padding-right:4%}.abilityTitlePlayer[_ngcontent-%COMP%]{position:relative;z-index:12!important;background-position:50% 5%;height:3%;font-size:90%}.paperBgPlayer1[_ngcontent-%COMP%], .paperBgPlayer2[_ngcontent-%COMP%]{background-position:50% 25%;background-size:cover;z-index:11!important}.paperBgPlayer3[_ngcontent-%COMP%]{background-position:50% 9%;z-index:11!important}.centerHoverText[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#ff0000,#ffffff);-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700;font-size:200%}@keyframes _ngcontent-%COMP%_cardFadeDown{0%{opacity:0;width:0%;transform:translateY(-100%)}to{opacity:1;width:12%;transform:translate(0)}}@keyframes _ngcontent-%COMP%_cardFadeUp{0%{opacity:0;width:0%;transform:translateY(100%)}to{opacity:1;width:12%;transform:translate(0)}}.floatingMessageInfo[_ngcontent-%COMP%]{color:#fff}.activeEnemyCard[_ngcontent-%COMP%]{bottom:-2em!important}.abilitySuitsBox[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center;column-gap:2%;padding-right:4%}.abilitySuit[_ngcontent-%COMP%]{width:15%}.blueOffenseText[_ngcontent-%COMP%]{background:-webkit-linear-gradient(#0066ff,#ffffff);-webkit-text-stroke:2px #000;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;font-weight:700}.enemyAbilityBackground[_ngcontent-%COMP%]{position:absolute;top:2%;left:2%;height:96%;width:96%;border-radius:5%;z-index:5}.abilityIsActiveBot[_ngcontent-%COMP%]{bottom:-2em!important}@media screen and (max-width: 800px){.redrawText[_ngcontent-%COMP%], .redrawDetailText[_ngcontent-%COMP%]{font-size:120%}.attackButton[_ngcontent-%COMP%]{width:50%}.defendAttackTxt[_ngcontent-%COMP%]{margin-top:-70%}.wildText[_ngcontent-%COMP%]{font-size:50%;-webkit-text-stroke:.5px #000}.redrawCardBox[_ngcontent-%COMP%]{width:15%}}"],data:{animation:[Zn("cardLeaving",[Jn(":leave",[qe({width:"12%"}),Fn(".5s ease-in",qe({width:"0%"}))])]),WF({anchor:"fadeUpLeave"}),HF({anchor:"fadeUpEnter"}),jF({anchor:"fadeLeftLeave"}),BF({anchor:"fadeLeftEnter"}),zF({anchor:"fadeRightLeave"}),VF({anchor:"fadeRightEnter"}),FF({anchor:"fadeDownEnter"}),$F({anchor:"fadeDownLeave"}),UF({anchor:"fadeEnter"}),GF({anchor:"fadeOutLeave"}),KF({anchor:"zoomInEnter"}),qF({anchor:"flipInYonEnter"})]}})}return e})();const EB=[{path:"",component:OE},{path:"**",redirectTo:"/"}];let DB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Vi({type:e});static#n=this.\u0275inj=Se({imports:[bw.forRoot(EB),bw]})}return e})(),AB=(()=>{class e{constructor(){this.title="card-kingdom-heroes"}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Hl({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&de(0,"router-outlet")},dependencies:[Rg]})}return e})();function ME(e){return new I(3e3,!1)}function o4(){return typeof window<"u"&&typeof window.document<"u"}function ep(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ts(e){switch(e.length){case 0:return new pl;case 1:return e[0];default:return new Tw(e)}}function PE(e,n,t,r,i=new Map,s=new Map){const a=[],o=[];let l=-1,c=null;if(r.forEach(d=>{const g=d.get("offset"),m=g==l,y=m&&c||new Map;d.forEach((b,D)=>{let B=D,Y=b;if("offset"!==D)switch(B=n.normalizePropertyName(B,a),Y){case Qg:Y=i.get(D);break;case Ei:Y=s.get(D);break;default:Y=n.normalizeStyleValue(D,B,Y,a)}y.set(B,Y)}),m||o.push(y),c=y,l=g}),a.length)throw function YB(e){return new I(3502,!1)}();return o}function tp(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&np(t,"start",e)));break;case"done":e.onDone(()=>r(t&&np(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&np(t,"destroy",e)))}}function np(e,n,t){const s=rp(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),a=e._data;return null!=a&&(s._data=a),s}function rp(e,n,t,r,i="",s=0,a){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function er(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function RE(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}let ip=(e,n)=>!1,LE=(e,n,t)=>[],NE=null;function sp(e){const n=e.parentNode||e.host;return n===NE?null:n}(ep()||typeof Element<"u")&&(o4()?(NE=(()=>document.documentElement)(),ip=(e,n)=>{for(;n;){if(n===e)return!0;n=sp(n)}return!1}):ip=(e,n)=>e.contains(n),LE=(e,n,t)=>{if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]});let Rs=null,FE=!1;const BE=ip,VE=LE;let HE=(()=>{class e{validateStyleProperty(t){return function u4(e){Rs||(Rs=function c4(){return typeof document<"u"?document.body:null}()||{},FE=!!Rs.style&&"WebkitAppearance"in Rs.style);let n=!0;return Rs.style&&!function l4(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Rs.style,!n&&FE&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Rs.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return BE(t,r)}getParentElement(t){return sp(t)}query(t,r,i){return VE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,a,o=[],l){return new pl(i,s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),ap=(()=>{class e{}return e.NOOP=new HE,e})();const d4=1e3,op="ng-enter",Gc="ng-leave",qc="ng-trigger",Kc=".ng-trigger",$E="ng-animating",lp=".ng-animating";function Di(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:up(parseFloat(n[1]),n[2])}function up(e,n){return"s"===n?e*d4:e}function Yc(e,n,t){return e.hasOwnProperty("duration")?e:function h4(e,n,t){let i,s=0,a="";if("string"==typeof e){const o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return n.push(ME()),{duration:0,delay:0,easing:""};i=up(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(s=up(parseFloat(l),o[4]));const c=o[5];c&&(a=c)}else i=e;if(!t){let o=!1,l=n.length;i<0&&(n.push(function TB(){return new I(3100,!1)}()),o=!0),s<0&&(n.push(function IB(){return new I(3101,!1)}()),o=!0),o&&n.splice(l,0,ME())}return{duration:i,delay:s,easing:a}}(e,n,t)}function yl(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function jE(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function ns(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function WE(e,n,t){return t?n+":"+t+";":""}function GE(e){let n="";for(let t=0;t<e.style.length;t++){const r=e.style.item(t);n+=WE(0,r,e.style.getPropertyValue(r))}for(const t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=WE(0,y4(t),e.style[t]));e.setAttribute("style",n)}function Xr(e,n,t){e.style&&(n.forEach((r,i)=>{const s=dp(i);t&&!t.has(i)&&t.set(i,e.style[s]),e.style[s]=r}),ep()&&GE(e))}function Ls(e,n){e.style&&(n.forEach((t,r)=>{const i=dp(r);e.style[i]=""}),ep()&&GE(e))}function vl(e){return Array.isArray(e)?1==e.length?e[0]:Dw(e):e}const cp=new RegExp("{{\\s*(.+?)\\s*}}","g");function qE(e){let n=[];if("string"==typeof e){let t;for(;t=cp.exec(e);)n.push(t[1]);cp.lastIndex=0}return n}function _l(e,n,t){const r=e.toString(),i=r.replace(cp,(s,a)=>{let o=n[a];return null==o&&(t.push(function kB(e){return new I(3003,!1)}()),o=""),o.toString()});return i==r?e:i}function Qc(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const m4=/-+([a-z0-9])/g;function dp(e){return e.replace(m4,(...n)=>n[1].toUpperCase())}function y4(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function OB(e){return new I(3004,!1)}()}}function KE(e,n){return window.getComputedStyle(e)[n]}const Jc="*";function S4(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function E4(e,n,t){if(":"==e[0]){const l=function D4(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function WB(e){return new I(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function zB(e){return new I(3015,!1)}()),n;const i=r[1],s=r[2],a=r[3];n.push(YE(i,a));"<"==s[0]&&!(i==Jc&&a==Jc)&&n.push(YE(a,i))}(r,t,n)):t.push(e),t}const ed=new Set(["true","1"]),td=new Set(["false","0"]);function YE(e,n){const t=ed.has(e)||td.has(e),r=ed.has(n)||td.has(n);return(i,s)=>{let a=e==Jc||e==i,o=n==Jc||n==s;return!a&&t&&"boolean"==typeof i&&(a=i?ed.has(e):td.has(e)),!o&&r&&"boolean"==typeof s&&(o=s?ed.has(n):td.has(n)),a&&o}}const A4=new RegExp("s*:selfs*,?","g");function fp(e,n,t,r){return new T4(e).build(n,t,r)}class T4{constructor(n){this._driver=n}build(n,t,r){const i=new k4(t);return this._resetContextStyleTimingState(i),tr(this,vl(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],a=[];return"@"==n.name.charAt(0)&&t.errors.push(function PB(){return new I(3006,!1)}()),n.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),0==o.type){const l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(1==o.type){const l=this.visitTransition(o,t);r+=l.queryCount,i+=l.depCount,a.push(l)}else t.errors.push(function RB(){return new I(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=i||{};r.styles.forEach(o=>{o instanceof Map&&o.forEach(l=>{qE(l).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Qc(s.values()),t.errors.push(function LB(e,n){return new I(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=tr(this,vl(n.animation),t);return{type:1,matchers:S4(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ns(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>tr(this,r,t)),options:Ns(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const s=n.steps.map(a=>{t.currentTime=r;const o=tr(this,a,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:s,options:Ns(n.options)}}visitAnimate(n,t){const r=function M4(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return hp(Yc(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=hp(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Yc(t,n);return hp(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,s=n.styles?n.styles:qe({});if(5==s.type)i=this.visitKeyframes(s,t);else{let a=n.styles,o=!1;if(!a){o=!0;const c={};r.easing&&(c.easing=r.easing),a=qe(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(a,t);l.isEmptyStep=o,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let o of i)"string"==typeof o?o===Ei?r.push(o):t.errors.push(new I(3002,!1)):r.push(jE(o));let s=!1,a=null;return r.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s))for(let l of o.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:a,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l);let g=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(t.errors.push(function FB(e,n,t,r,i){return new I(3010,!1)}()),g=!1),s=d.startTime),g&&c.set(l,{startTime:s,endTime:i}),t.options&&function p4(e,n,t){const r=n.params||{},i=qE(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function xB(e){return new I(3001,!1)}())})}(o,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function BB(){return new I(3011,!1)}()),r;let s=0;const a=[];let o=!1,l=!1,c=0;const d=n.steps.map(Y=>{const te=this._makeStyleAst(Y,t);let z=null!=te.offset?te.offset:function O4(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(te.styles),ne=0;return null!=z&&(s++,ne=te.offset=z),l=l||ne<0||ne>1,o=o||ne<c,c=ne,a.push(ne),te});l&&t.errors.push(function VB(){return new I(3012,!1)}()),o&&t.errors.push(function HB(){return new I(3200,!1)}());const g=n.steps.length;let m=0;s>0&&s<g?t.errors.push(function UB(){return new I(3202,!1)}()):0==s&&(m=1/(g-1));const y=g-1,b=t.currentTime,D=t.currentAnimateTimings,B=D.duration;return d.forEach((Y,te)=>{const z=m>0?te==y?1:m*te:a[te],ne=z*B;t.currentTime=b+D.delay+ne,D.duration=ne,this._validateStyleAst(Y,t),Y.offset=z,r.styles.push(Y)}),r}visitReference(n,t){return{type:8,animation:tr(this,vl(n.animation),t),options:Ns(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:Ns(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:Ns(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[s,a]=function I4(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(A4,"")),e=e.replace(/@\*/g,Kc).replace(/@\w+/g,t=>Kc+"-"+t.slice(1)).replace(/:animating/g,lp),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+s:s,er(t.collectedStyles,t.currentQuerySelector,new Map);const o=tr(this,vl(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:o,originalSelector:n.selector,options:Ns(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function $B(){return new I(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:Yc(n.timings,t.errors,!0);return{type:12,animation:tr(this,vl(n.animation),t),timings:r,options:null}}}class k4{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ns(e){return e?(e=yl(e)).params&&(e.params=function x4(e){return e?yl(e):null}(e.params)):e={},e}function hp(e,n,t){return{duration:e,delay:n,easing:t}}function gp(e,n,t,r,i,s,a=null,o=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:o}}class nd{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const L4=new RegExp(":enter","g"),F4=new RegExp(":leave","g");function pp(e,n,t,r,i,s=new Map,a=new Map,o,l,c=[]){return(new B4).buildKeyframes(e,n,t,r,i,s,a,o,l,c)}class B4{buildKeyframes(n,t,r,i,s,a,o,l,c,d=[]){c=c||new nd;const g=new mp(n,t,c,i,s,d,[]);g.options=l;const m=l.delay?Di(l.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([a],null,g.errors,l),tr(this,r,g);const y=g.timelines.filter(b=>b.containsAnimation());if(y.length&&o.size){let b;for(let D=y.length-1;D>=0;D--){const B=y[D];if(B.element===t){b=B;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([o],null,g.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[gp(t,[],[],[],0,m,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const s=i?.delay;if(s){const a="number"==typeof s?s:Di(_l(s,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(n,t,r){let s=t.currentTimeline.currentTime;const a=null!=r.duration?Di(r.duration):null,o=null!=r.delay?Di(r.delay):null;return 0!==a&&n.forEach(l=>{const c=t.appendInstructionToTimeline(l,a,o);s=Math.max(s,c.duration+c.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),tr(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const s=n.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rd);const a=Di(s.delay);i.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>tr(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?Di(n.options.delay):0;n.steps.forEach(a=>{const o=t.createSubContext(n.options);s&&o.delayNextStep(s),tr(this,a,o),i=Math.max(i,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return Yc(t.params?_l(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,o=t.createSubContext().currentTimeline;o.easing=r.easing,n.styles.forEach(l=>{o.forwardTime((l.offset||0)*s),o.setStyles(l.styles,l.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+s),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},s=i.delay?Di(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rd);let a=r;const o=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=o.length;let l=null;o.forEach((c,d)=>{t.currentQueryIndex=d;const g=t.createSubContext(n.options,c);s&&g.delayNextStep(s),c===t.element&&(l=g.currentTimeline),tr(this,n.animation,g),g.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,s=n.timings,a=Math.abs(s.duration),o=a*(t.currentQueryTotal-1);let l=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=r.currentStaggerTime}const d=t.currentTimeline;l&&d.delayNextStep(l);const g=d.currentTime;tr(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const rd={};class mp{constructor(n,t,r,i,s,a,o,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new id(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Di(r.duration)),null!=r.delay&&(i.delay=Di(r.delay));const s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!t||!a.hasOwnProperty(o))&&(a[o]=_l(s[o],a,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,s=new mp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=rd,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new V4(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,s,a){let o=[];if(i&&o.push(this.element),n.length>0){n=(n=n.replace(L4,"."+this._enterClassName)).replace(F4,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),o.push(...c)}return!s&&0==o.length&&a.push(function jB(e){return new I(3014,!1)}()),o}}class id{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new id(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ei),this._currentKeyframe.set(t,Ei);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function H4(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)t.set(s,Ei)}else ns(i,t)}),t}(n,this._globalTimelineStyles);for(let[o,l]of a){const c=_l(l,s,r);this._pendingStyles.set(o,c),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??Ei),this._updateStyle(o,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((o,l)=>{const c=ns(o,new Map,this._backFill);c.forEach((d,g)=>{d===Qg?n.add(g):d===Ei&&t.add(g)}),r||c.set("offset",l/this.duration),i.push(c)});const s=n.size?Qc(n.values()):[],a=t.size?Qc(t.values()):[];if(r){const o=i[0],l=new Map(o);o.set("offset",0),l.set("offset",1),i=[o,l]}return gp(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}}class V4 extends id{constructor(n,t,r,i,s,a,o=!1){super(n,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=r+t,o=t/a,l=ns(n[0]);l.set("offset",0),s.push(l);const c=ns(n[0]);c.set("offset",XE(o)),s.push(c);const d=n.length-1;for(let g=1;g<=d;g++){let m=ns(n[g]);const y=m.get("offset");m.set("offset",XE((t+y*r)/a)),s.push(m)}r=a,t=0,i="",n=s}return gp(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function XE(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class yp{}const U4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $4 extends yp{normalizePropertyName(n,t){return dp(n)}normalizeStyleValue(n,t,r,i){let s="";const a=r.toString().trim();if(U4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const o=r.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&i.push(function MB(e,n){return new I(3005,!1)}())}return a+s}}function JE(e,n,t,r,i,s,a,o,l,c,d,g,m){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:g,errors:m}}const vp={};class eD{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function j4(e,n,t,r,i){return e.some(s=>s(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,s,a,o,l,c,d){const g=[],m=this.ast.options&&this.ast.options.params||vp,b=this.buildStyles(r,o&&o.params||vp,g),D=l&&l.params||vp,B=this.buildStyles(i,D,g),Y=new Set,te=new Map,z=new Map,ne="void"===i,le={params:z4(D,m),delay:this.ast.options?.delay},Re=d?[]:pp(n,t,this.ast.animation,s,a,b,B,le,c,g);let dt=0;if(Re.forEach(Ai=>{dt=Math.max(Ai.duration+Ai.delay,dt)}),g.length)return JE(t,this._triggerName,r,i,ne,b,B,[],[],te,z,dt,g);Re.forEach(Ai=>{const Ti=Ai.element,pD=er(te,Ti,new Set);Ai.preStyleProps.forEach(Fs=>pD.add(Fs));const wl=er(z,Ti,new Set);Ai.postStyleProps.forEach(Fs=>wl.add(Fs)),Ti!==t&&Y.add(Ti)});const gn=Qc(Y.values());return JE(t,this._triggerName,r,i,ne,b,B,Re,gn,te,z,dt)}}function z4(e,n){const t=yl(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class W4{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=yl(this.defaultParams);return Object.keys(n).forEach(s=>{const a=n[s];null!==a&&(i[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,o)=>{a&&(a=_l(a,i,t));const l=this.normalizer.normalizePropertyName(o,t);a=this.normalizer.normalizeStyleValue(o,l,a,t),r.set(o,a)})}),r}}class q4{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new W4(i.style,i.options&&i.options.params||{},r))}),tD(this.states,"true","1"),tD(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new eD(n,i,this.states))}),this.fallbackTransition=function K4(e,n,t){return new eD(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(a=>a.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function tD(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const Y4=new nd;class Q4{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],i=[],s=fp(this._driver,t,r,i);if(r.length)throw function QB(e){return new I(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,t,r){const i=n.element,s=PE(0,this._normalizer,0,n.keyframes,t,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],s=this._animations.get(n);let a;const o=new Map;if(s?(a=pp(this._driver,t,s,op,Gc,new Map,new Map,r,Y4,i),a.forEach(d=>{const g=er(o,d.element,new Map);d.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function ZB(){return new I(3300,!1)}()),a=[]),i.length)throw function XB(e){return new I(3504,!1)}();o.forEach((d,g)=>{d.forEach((m,y)=>{d.set(y,this._driver.computeStyle(g,y,Ei))})});const c=ts(a.map(d=>{const g=o.get(d.element);return this._buildPlayer(d,new Map,g)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function JB(e){return new I(3301,!1)}();return t}listen(n,t,r,i){const s=rp(t,"","","");return tp(this._getPlayer(n),r,s,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const nD="ng-animate-queued",_p="ng-animate-disabled",tV=[],rD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yr="__ng_removed";class bp{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function aV(e){return e??null}(r?n.value:n),r){const s=yl(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const bl="void",wp=new bp(bl);class rV{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,vr(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function e4(e,n){return new I(3302,!1)}();if(null==r||0==r.length)throw function t4(e){return new I(3303,!1)}();if(!function oV(e){return"start"==e||"done"==e}(r))throw function n4(e,n){return new I(3400,!1)}();const s=er(this._elementListeners,n,[]),a={name:t,phase:r,callback:i};s.push(a);const o=er(this._engine.statesByElement,n,new Map);return o.has(t)||(vr(n,qc),vr(n,qc+"-"+t),o.set(t,wp)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(a);l>=0&&s.splice(l,1),this._triggers.has(t)||o.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function r4(e){return new I(3401,!1)}();return t}trigger(n,t,r,i=!0){const s=this._getTrigger(t),a=new Cp(this.id,t,n);let o=this._engine.statesByElement.get(n);o||(vr(n,qc),vr(n,qc+"-"+t),this._engine.statesByElement.set(n,o=new Map));let l=o.get(t);const c=new bp(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o.set(t,c),l||(l=wp),c.value!==bl&&l.value===c.value){if(!function cV(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(l.params,c.params)){const D=[],B=s.matchStyles(l.value,l.params,D),Y=s.matchStyles(c.value,c.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Ls(n,B),Xr(n,Y)})}return}const m=er(this._engine.playersByElement,n,[]);m.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let y=s.matchTransition(l.value,c.value,n,c.params),b=!1;if(!y){if(!i)return;y=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:y,fromState:l,toState:c,player:a,isFallbackTransition:b}),b||(vr(n,nD),a.onStart(()=>{Za(n,nD)})),a.onDone(()=>{let D=this.players.indexOf(a);D>=0&&this.players.splice(D,1);const B=this._engine.playersByElement.get(n);if(B){let Y=B.indexOf(a);Y>=0&&B.splice(Y,1)}}),this.players.push(a),m.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,Kc,!0);r.forEach(i=>{if(i[yr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const s=this._engine.statesByElement.get(n),a=new Map;if(s){const o=[];if(s.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){const d=this.trigger(n,c,bl,i);d&&o.push(d)}}),o.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,a),r&&ts(o).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(s=>{const a=s.name;if(i.has(a))return;i.add(a);const l=this._triggers.get(a).fallbackTransition,c=r.get(a)||wp,d=new bp(bl),g=new Cp(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:l,fromState:c,toState:d,player:g,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let a=n;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const s=n[yr];(!s||s===rD)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){vr(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==r.triggerName){const l=rp(s,r.triggerName,r.fromState.value,r.toState.value);l._data=n,tp(r.player,o.phase,l,o.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let t=!1;return this._elementListeners.has(n)&&(t=!0),t=!!this._queue.find(r=>r.element===n)||t,t}}class iV{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new rV(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,o=this.driver.getParentElement(t);for(;o;){const l=i.get(o);if(l){const c=r.indexOf(l);r.splice(c+1,0,n),a=!0;break}o=this.driver.getParentElement(o)}a||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(n,t,r,i){if(sd(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!sd(t))return;const s=t[yr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){const a=this._fetchNamespace(n);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),vr(n,_p)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Za(n,_p))}removeNode(n,t,r,i){if(sd(t)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i),r){const a=this.namespacesByHostElement.get(t);a&&a.id!==n&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,r,i,s){this.collectedLeaveElements.push(t),t[yr]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,r,i,s){return sd(t)?this._fetchNamespace(n).listen(t,r,i,s):()=>{}}_buildInstruction(n,t,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,Kc,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,lp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ts(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[yr];if(t&&t.setForRemoval){if(n[yr]=rD,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(_p)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ts(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function i4(e){return new I(3402,!1)}()}_flushAnimations(n,t){const r=new nd,i=[],s=new Map,a=[],o=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(_e=>{d.add(_e);const xe=this.driver.query(_e,".ng-animate-queued",!0);for(let Be=0;Be<xe.length;Be++)d.add(xe[Be])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=aD(m,this.collectedEnterElements),b=new Map;let D=0;y.forEach((_e,xe)=>{const Be=op+D++;b.set(xe,Be),_e.forEach(st=>vr(st,Be))});const B=[],Y=new Set,te=new Set;for(let _e=0;_e<this.collectedLeaveElements.length;_e++){const xe=this.collectedLeaveElements[_e],Be=xe[yr];Be&&Be.setForRemoval&&(B.push(xe),Y.add(xe),Be.hasAnimation?this.driver.query(xe,".ng-star-inserted",!0).forEach(st=>Y.add(st)):te.add(xe))}const z=new Map,ne=aD(m,Array.from(Y));ne.forEach((_e,xe)=>{const Be=Gc+D++;z.set(xe,Be),_e.forEach(st=>vr(st,Be))}),n.push(()=>{y.forEach((_e,xe)=>{const Be=b.get(xe);_e.forEach(st=>Za(st,Be))}),ne.forEach((_e,xe)=>{const Be=z.get(xe);_e.forEach(st=>Za(st,Be))}),B.forEach(_e=>{this.processLeaveNode(_e)})});const le=[],Re=[];for(let _e=this._namespaceList.length-1;_e>=0;_e--)this._namespaceList[_e].drainQueuedTransitions(t).forEach(Be=>{const st=Be.player,Xt=Be.element;if(le.push(st),this.collectedEnterElements.length){const pn=Xt[yr];if(pn&&pn.setForMove){if(pn.previousTriggersValues&&pn.previousTriggersValues.has(Be.triggerName)){const Bs=pn.previousTriggersValues.get(Be.triggerName),_r=this.statesByElement.get(Be.element);if(_r&&_r.has(Be.triggerName)){const ld=_r.get(Be.triggerName);ld.value=Bs,_r.set(Be.triggerName,ld)}}return void st.destroy()}}const Jr=!g||!this.driver.containsElement(g,Xt),nr=z.get(Xt),rs=b.get(Xt),Dt=this._buildInstruction(Be,r,rs,nr,Jr);if(Dt.errors&&Dt.errors.length)return void Re.push(Dt);if(Jr)return st.onStart(()=>Ls(Xt,Dt.fromStyles)),st.onDestroy(()=>Xr(Xt,Dt.toStyles)),void i.push(st);if(Be.isFallbackTransition)return st.onStart(()=>Ls(Xt,Dt.fromStyles)),st.onDestroy(()=>Xr(Xt,Dt.toStyles)),void i.push(st);const vD=[];Dt.timelines.forEach(pn=>{pn.stretchStartingKeyframe=!0,this.disabledNodes.has(pn.element)||vD.push(pn)}),Dt.timelines=vD,r.append(Xt,Dt.timelines),a.push({instruction:Dt,player:st,element:Xt}),Dt.queriedElements.forEach(pn=>er(o,pn,[]).push(st)),Dt.preStyleProps.forEach((pn,Bs)=>{if(pn.size){let _r=l.get(Bs);_r||l.set(Bs,_r=new Set),pn.forEach((ld,Dp)=>_r.add(Dp))}}),Dt.postStyleProps.forEach((pn,Bs)=>{let _r=c.get(Bs);_r||c.set(Bs,_r=new Set),pn.forEach((ld,Dp)=>_r.add(Dp))})});if(Re.length){const _e=[];Re.forEach(xe=>{_e.push(function s4(e,n){return new I(3505,!1)}())}),le.forEach(xe=>xe.destroy()),this.reportError(_e)}const dt=new Map,gn=new Map;a.forEach(_e=>{const xe=_e.element;r.has(xe)&&(gn.set(xe,xe),this._beforeAnimationBuild(_e.player.namespaceId,_e.instruction,dt))}),i.forEach(_e=>{const xe=_e.element;this._getPreviousPlayers(xe,!1,_e.namespaceId,_e.triggerName,null).forEach(st=>{er(dt,xe,[]).push(st),st.destroy()})});const Ai=B.filter(_e=>lD(_e,l,c)),Ti=new Map;sD(Ti,this.driver,te,c,Ei).forEach(_e=>{lD(_e,l,c)&&Ai.push(_e)});const wl=new Map;y.forEach((_e,xe)=>{sD(wl,this.driver,new Set(_e),l,Qg)}),Ai.forEach(_e=>{const xe=Ti.get(_e),Be=wl.get(_e);Ti.set(_e,new Map([...Array.from(xe?.entries()??[]),...Array.from(Be?.entries()??[])]))});const Fs=[],mD=[],yD={};a.forEach(_e=>{const{element:xe,player:Be,instruction:st}=_e;if(r.has(xe)){if(d.has(xe))return Be.onDestroy(()=>Xr(xe,st.toStyles)),Be.disabled=!0,Be.overrideTotalTime(st.totalTime),void i.push(Be);let Xt=yD;if(gn.size>1){let nr=xe;const rs=[];for(;nr=nr.parentNode;){const Dt=gn.get(nr);if(Dt){Xt=Dt;break}rs.push(nr)}rs.forEach(Dt=>gn.set(Dt,Xt))}const Jr=this._buildAnimation(Be.namespaceId,st,dt,s,wl,Ti);if(Be.setRealPlayer(Jr),Xt===yD)Fs.push(Be);else{const nr=this.playersByElement.get(Xt);nr&&nr.length&&(Be.parentPlayer=ts(nr)),i.push(Be)}}else Ls(xe,st.fromStyles),Be.onDestroy(()=>Xr(xe,st.toStyles)),mD.push(Be),d.has(xe)&&i.push(Be)}),mD.forEach(_e=>{const xe=s.get(_e.element);if(xe&&xe.length){const Be=ts(xe);_e.setRealPlayer(Be)}}),i.forEach(_e=>{_e.parentPlayer?_e.syncPlayerEvents(_e.parentPlayer):_e.destroy()});for(let _e=0;_e<B.length;_e++){const xe=B[_e],Be=xe[yr];if(Za(xe,Gc),Be&&Be.hasAnimation)continue;let st=[];if(o.size){let Jr=o.get(xe);Jr&&Jr.length&&st.push(...Jr);let nr=this.driver.query(xe,lp,!0);for(let rs=0;rs<nr.length;rs++){let Dt=o.get(nr[rs]);Dt&&Dt.length&&st.push(...Dt)}}const Xt=st.filter(Jr=>!Jr.destroyed);Xt.length?lV(this,xe,Xt):this.processLeaveNode(xe)}return B.length=0,Fs.forEach(_e=>{this.players.push(_e),_e.onDone(()=>{_e.destroy();const xe=this.players.indexOf(_e);this.players.splice(xe,1)}),_e.play()}),Fs}elementContainsData(n,t){let r=!1;const i=t[yr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(n).elementContainsData(t)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,s){let a=[];if(t){const o=this.playersByQueriedElement.get(n);o&&(a=o)}else{const o=this.playersByElement.get(n);if(o){const l=!s||s==bl;o.forEach(c=>{c.queued||!l&&c.triggerName!=i||a.push(c)})}}return(r||i)&&(a=a.filter(o=>!(r&&r!=o.namespaceId||i&&i!=o.triggerName))),a}_beforeAnimationBuild(n,t,r){const s=t.element,a=t.isRemovalTransition?void 0:n,o=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,d=c!==s,g=er(r,c,[]);this._getPreviousPlayers(c,d,a,o,t.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),g.push(y)})}Ls(s,t.fromStyles)}_buildAnimation(n,t,r,i,s,a){const o=t.triggerName,l=t.element,c=[],d=new Set,g=new Set,m=t.timelines.map(b=>{const D=b.element;d.add(D);const B=D[yr];if(B&&B.removedBeforeQueried)return new pl(b.duration,b.delay);const Y=D!==l,te=function uV(e){const n=[];return oD(e,n),n}((r.get(D)||tV).map(dt=>dt.getRealPlayer())).filter(dt=>!!dt.element&&dt.element===D),z=s.get(D),ne=a.get(D),le=PE(0,this._normalizer,0,b.keyframes,z,ne),Re=this._buildPlayer(b,le,te);if(b.subTimeline&&i&&g.add(D),Y){const dt=new Cp(n,o,D);dt.setRealPlayer(Re),c.push(dt)}return Re});c.forEach(b=>{er(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function sV(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>vr(b,$E));const y=ts(m);return y.onDestroy(()=>{d.forEach(b=>Za(b,$E)),Xr(l,t.toStyles)}),g.forEach(b=>{er(i,b,[]).push(y)}),y}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new pl(n.duration,n.delay)}}class Cp{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new pl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>tp(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){er(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function sd(e){return e&&1===e.nodeType}function iD(e,n){const t=e.style.display;return e.style.display=n??"none",t}function sD(e,n,t,r,i){const s=[];t.forEach(l=>s.push(iD(l)));const a=[];r.forEach((l,c)=>{const d=new Map;l.forEach(g=>{const m=n.computeStyle(c,g,i);d.set(g,m),(!m||0==m.length)&&(c[yr]=nV,a.push(c))}),e.set(c,d)});let o=0;return t.forEach(l=>iD(l,s[o++])),a}function aD(e,n){const t=new Map;if(e.forEach(o=>t.set(o,[])),0==n.length)return t;const r=1,i=new Set(n),s=new Map;function a(o){if(!o)return r;let l=s.get(o);if(l)return l;const c=o.parentNode;return l=t.has(c)?c:i.has(c)?r:a(c),s.set(o,l),l}return n.forEach(o=>{const l=a(o);l!==r&&t.get(l).push(o)}),t}function vr(e,n){e.classList?.add(n)}function Za(e,n){e.classList?.remove(n)}function lV(e,n,t){ts(t).onDone(()=>e.processLeaveNode(n))}function oD(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof Tw?oD(r.players,n):n.push(r)}}function lD(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(s=>i.add(s)):n.set(e,r),t.delete(e),!0}class ad{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new iV(n,t,r),this._timelineEngine=new Q4(n,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,t,r,i,s){const a=n+"-"+i;let o=this._triggerCache[a];if(!o){const l=[],c=[],d=fp(this._driver,s,l,c);if(l.length)throw function KB(e,n){return new I(3404,!1)}();o=function G4(e,n,t){return new q4(e,n,t)}(i,d,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,i,o)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r,i){this._transitionEngine.removeNode(n,t,i||!1,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[s,a]=RE(r);this._timelineEngine.command(s,t,a,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,s){if("@"==r.charAt(0)){const[a,o]=RE(r);return this._timelineEngine.listen(a,t,o,s)}return this._transitionEngine.listen(n,t,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fV=(()=>{class e{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xr(this._element,this._initialStyles),this._endStyles&&(Xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ls(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ls(this._element,this._endStyles),this._endStyles=null),Xr(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Sp(e){let n=null;return e.forEach((t,r)=>{(function hV(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class uD{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:KE(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gV{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return BE(n,t)}getParentElement(n){return sp(n)}query(n,t,r){return VE(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,s,a=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,d=a.filter(y=>y instanceof uD);(function v4(e,n){return 0===e||0===n})(r,i)&&d.forEach(y=>{y.currentSnapshot.forEach((b,D)=>c.set(D,b))});let g=function g4(e){return e.length?e[0]instanceof Map?e:e.map(n=>jE(n)):[]}(t).map(y=>ns(y));g=function _4(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<n.length;s++){let a=n[s];i.forEach(o=>a.set(o,KE(e,o)))}}return n}(n,g,c);const m=function dV(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=Sp(n[0]),n.length>1&&(r=Sp(n[n.length-1]))):n instanceof Map&&(t=Sp(n)),t||r?new fV(e,t,r):null}(n,g);return new uD(n,g,l,m)}}let pV=(()=>{class e extends Sw{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Sr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Dw(t):t;return cD(this._renderer,null,r,"register",[i]),new mV(r,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(we(ko),we(fn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class mV extends LF{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new yV(this._id,n,t||{},this._renderer)}}class yV{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return cD(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cD(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const dD="@.disabled";let vV=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,a)=>{const o=a?.parentNode(s);o&&a.removeChild(o,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(s);return d||(d=new fD("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const a=r.id,o=r.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(a,o,t,d.name,d)};return r.data.animation.forEach(l),new _V(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(we(ko),we(ad),we(St))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class fD{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==dD?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class _V extends fD{constructor(n,t,r,i,s){super(t,r,i,s),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dD?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function bV(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function wV(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,r,o)})}return this.delegate.listen(n,t,r)}}const hD=[{provide:Sw,useClass:pV},{provide:yp,useFactory:function SV(){return new $4}},{provide:ad,useClass:(()=>{class e extends ad{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(we(fn),we(ap),we(yp),we(Go))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})()},{provide:ko,useFactory:function EV(e,n,t){return new vV(e,n,t)},deps:[oc,ad,St]}],Ep=[{provide:ap,useFactory:()=>new gV},{provide:F_,useValue:"BrowserAnimations"},...hD],gD=[{provide:ap,useClass:HE},{provide:F_,useValue:"NoopAnimations"},...hD];let DV=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?gD:Ep}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Vi({type:e}),e.\u0275inj=Se({providers:Ep,imports:[ab]}),e})(),AV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Vi({type:e,bootstrap:[AB]});static#n=this.\u0275inj=Se({imports:[ab,DB,OE,DV]})}return e})();zL().bootstrapModule(AV).catch(e=>console.error(e))},87:()=>{!function(){"use strict";var ot,ft,he,Lr,Ii,is,sn,ss,ei,Vs,Nr,Fr,as,Hs,os,Sl,El,Us,mn,ls,Dl,us,Al,At="leader-line",rr=1,an=2,Bn=3,br=4,xi={top:rr,right:an,bottom:Bn,left:br},Tl=1,$s=2,wr=3,Xa=4,Ja=5,Tt={straight:Tl,arc:$s,fluid:wr,magnet:Xa,grid:Ja},Vn="behind",ud=At+"-defs",cd='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',js={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},Hn={behind:Vn,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},cs={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},zs=[rr,an,Bn,br],ht="auto",Mt={x:"left",y:"top",width:"width",height:"height"},dd=80,Je=4,eo=5,fd=120,Ws=8,hd=3.75,ki=10,Un=30,to=.5522847,Ap=.25*Math.PI,gd=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,ke="http://www.w3.org/2000/svg",yn=!(vn="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled)&&!!document.uniqueID,ti="MozAppearance"in document.documentElement.style,Oi=!(vn||ti||!window.chrome||!window.CSS),wt=!(vn||yn||ti||Oi||window.chrome||!("WebkitAppearance"in document.documentElement.style)),Il=yn||vn?.2:.1,Kt={path:wr,lineColor:"coral",lineSize:4,plugSE:[Vn,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},ir=(Dl={}.toString,Al=(us={}.hasOwnProperty.toString).call(Object),function(u){return u&&"[object Object]"===Dl.call(u)&&(!(u=Object.getPrototypeOf(u))||(u=u.hasOwnProperty("constructor")&&u.constructor)&&"function"==typeof u&&us.call(u)===Al)}),Jt=Number.isFinite||function(u){return"number"==typeof u&&window.isFinite(u)},Pt=(Hs={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},os=1e3/60/2,Sl=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(u){setTimeout(u,os)},El=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(u){clearTimeout(u)},Us=Number.isFinite||function(u){return"number"==typeof u&&window.isFinite(u)},mn=[],ls=0,{add:function(u,f,h,p,_,v,T){var M,A,Z,L,G,O,x,S,F,k,P=++ls;function N(I,ue){return{value:u(ue),timeRatio:I,outputRatio:ue}}if("string"==typeof _&&(_=Hs[_]),u=u||function(){},h<os)M=[N(0,0),N(1,1)];else{if(A=os/h,M=[N(0,0)],0===_[0]&&0===_[1]&&1===_[2]&&1===_[3])for(L=A;L<=1;L+=A)M.push(N(L,L));else for(G=Z=(L=A)/10;G<=1;G+=Z)k=void 0,S=(k=G*G)*G,k*=3*(F=1-G),L<=(O={x:(x=F*F*3*G)*_[0]+k*_[2]+S,y:x*_[1]+k*_[3]+S}).x&&(M.push(N(O.x,O.y)),L+=A);M.push(N(1,1))}return mn.push(v={animId:P,frameCallback:f,duration:h,count:p,frames:M,reverse:!!v}),!1!==T&&Ol(v,T),P},remove:function(u){var f;mn.some(function(h,p){return h.animId===u&&(f=p,!(h.framesStart=null))})&&mn.splice(f,1)},start:function(u,f,h){mn.some(function(p){return p.animId===u&&(p.reverse=!!f,Ol(p,h),!0)})},stop:function(u,f){var h;return mn.some(function(p){return p.animId===u&&(f?null!=p.lastFrame&&(h=p.frames[p.lastFrame].timeRatio):(h=(Date.now()-p.framesStart)/p.duration,(h=p.reverse?1-h:h)<0?h=0:1<h&&(h=1)),!(p.framesStart=null))}),h},validTiming:function(u){return"string"==typeof u?Hs[u]:Array.isArray(u)&&[0,1,2,3].every(function(f){return Us(u[f])&&0<=u[f]&&u[f]<=1})?[u[0],u[1],u[2],u[3]]:null}}),pd=function(u){u.SVGPathElement.prototype.getPathData&&u.SVGPathElement.prototype.setPathData||function(){function f(O){this._string=O,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var h={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},p=-1!==u.navigator.userAgent.indexOf("MSIE ");function _(O){if(!O||0===O.length)return[];var x=new f(O),S=[];if(x.initialCommandIsMoveTo())for(;x.hasMoreData();){var F=x.parseSegment();if(null===F)break;S.push(F)}return S}function v(O){return O.map(function(x){return{type:x.type,values:Array.prototype.slice.call(x.values)}})}function T(O){var x=[],S=null,F=null,k=null,P=null,N=null,I=null,ue=null;return O.forEach(function(j){var R,ee,$,C,H,Q,V,se;"M"===j.type?(x.push({type:"M",values:[V=j.values[0],se=j.values[1]]}),P=I=V,N=ue=se):"C"===j.type?(x.push({type:"C",values:[H=j.values[0],Q=j.values[1],R=j.values[2],ee=j.values[3],V=j.values[4],se=j.values[5]]}),F=R,k=ee,P=V,N=se):"L"===j.type?(x.push({type:"L",values:[V=j.values[0],se=j.values[1]]}),P=V,N=se):"H"===j.type?(x.push({type:"L",values:[V=j.values[0],N]}),P=V):"V"===j.type?(x.push({type:"L",values:[P,se=j.values[0]]}),N=se):"S"===j.type?(C="C"===S||"S"===S?($=P+(P-F),N+(N-k)):($=P,N),x.push({type:"C",values:[$,C,R=j.values[0],ee=j.values[1],V=j.values[2],se=j.values[3]]}),F=R,k=ee,P=V,N=se):"T"===j.type?(Q="Q"===S||"T"===S?(H=P+(P-F),N+(N-k)):(H=P,N),x.push({type:"C",values:[$=P+2*(H-P)/3,C=N+2*(Q-N)/3,(V=j.values[0])+2*(H-V)/3,(se=j.values[1])+2*(Q-se)/3,V,se]}),F=H,k=Q,P=V,N=se):"Q"===j.type?(x.push({type:"C",values:[$=P+2*((H=j.values[0])-P)/3,C=N+2*((Q=j.values[1])-N)/3,(V=j.values[2])+2*(H-V)/3,(se=j.values[3])+2*(Q-se)/3,V,se]}),F=H,k=Q,P=V,N=se):"A"===j.type?($=j.values[1],C=j.values[2],H=j.values[3],Q=j.values[4],V=j.values[5],se=j.values[6],0===(ee=j.values[0])||0===$?(x.push({type:"C",values:[P,N,V,se,V,se]}),P=V,N=se):P===V&&N===se||G(P,N,V,se,ee,$,C,H,Q).forEach(function(ae){x.push({type:"C",values:ae}),P=V,N=se})):"Z"===j.type&&(x.push(j),P=I,N=ue),S=j.type}),x}f.prototype={parseSegment:function(){var O=h[S=this._string[this._currentIndex]]||null;if(null===O){if(null===this._prevCommand||null===(O=("+"===S||"-"===S||"."===S||"0"<=S&&S<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var S,x=null;return"H"===(S=(this._prevCommand=O).toUpperCase())||"V"===S?x=[this._parseNumber()]:"M"===S||"L"===S||"T"===S?x=[this._parseNumber(),this._parseNumber()]:"S"===S||"Q"===S?x=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===S?x=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===S?x=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===S&&(this._skipOptionalSpaces(),x=[]),null===x||0<=x.indexOf(null)?null:{type:O,values:x}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){return h[this._string[this._currentIndex]]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var O=this.peekSegmentType();return"M"===O||"m"===O},_isCurrentSpace:function(){var O=this._string[this._currentIndex];return O<=" "&&(" "===O||"\n"===O||"\t"===O||"\r"===O||"\f"===O)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var O=0,x=0,S=1,F=0,k=1,P=1,N=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,k=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var I=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==I)for(var ue=this._currentIndex-1,j=1;I<=ue;)x+=j*(this._string[ue]-"0"),--ue,j*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)S*=10,F+=(this._string.charAt(this._currentIndex)-"0")/S,this._currentIndex+=1}if(this._currentIndex!==N&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,P=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)O*=10,O+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var R=x+F;return R*=k,O&&(R*=Math.pow(10,P*O)),N===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),R)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var O=null,x=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===x)O=0;else{if("1"!==x)return null;O=1}return this._skipOptionalSpacesOrDelimiter(),O}};var M=u.SVGPathElement.prototype.setAttribute,A=u.SVGPathElement.prototype.removeAttribute,Z=u.Symbol?u.Symbol():"__cachedPathData",L=u.Symbol?u.Symbol():"__cachedNormalizedPathData",G=function(O,x,S,Ge,se,ae,N,I,ue,j){function R(X,Ue,ve){return{x:X*Math.cos(ve)-Ue*Math.sin(ve),y:X*Math.sin(ve)+Ue*Math.cos(ve)}}var ee=Math.PI*N/180,De=[];j?(Te=j[0],V=j[1],Ze=j[2],Q=j[3]):(O=(Ie=R(O,x,-ee)).x,x=Ie.y,1<(Ie=(H=(O-(S=(C=R(S,Ge,-ee)).x))/2)*H/(se*se)+($=(x-(Ge=C.y))/2)*$/(ae*ae))&&(se*=Ie=Math.sqrt(Ie),ae*=Ie),C=se*se,Ie=ae*ae,Ze=(C=(I===ue?-1:1)*Math.sqrt(Math.abs((C*Ie-C*$*$-Ie*H*H)/(C*$*$+Ie*H*H))))*se*$/ae+(O+S)/2,Q=C*-ae*H/se+(x+Ge)/2,Te=Math.asin(parseFloat(((x-Q)/ae).toFixed(9))),V=Math.asin(parseFloat(((Ge-Q)/ae).toFixed(9))),O<Ze&&(Te=Math.PI-Te),S<Ze&&(V=Math.PI-V),Te<0&&(Te=2*Math.PI+Te),V<0&&(V=2*Math.PI+V),ue&&V<Te&&(Te-=2*Math.PI),!ue&&Te<V&&(V-=2*Math.PI));var $,C,H,Ie=V-Te;Math.abs(Ie)>120*Math.PI/180&&($=V,C=S,H=Ge,V=ue&&Te<V?Te+120*Math.PI/180*1:Te+120*Math.PI/180*-1,S=Ze+se*Math.cos(V),Ge=Q+ae*Math.sin(V),De=G(S,Ge,C,H,se,ae,N,0,ue,[V,$,Ze,Q])),Ie=V-Te;var Ze=Math.cos(Te),Q=Math.sin(Te),Te=Math.cos(V),V=Math.sin(V);if(Te=[S+(se=4/3*se*(Ie=Math.tan(Ie/4)))*V,Ge-(ae=4/3*ae*Ie)*Te],Ge=[S,Ge],(Ze=[O+se*Q,x-ae*Ze])[0]=2*(Ie=[O,x])[0]-Ze[0],Ze[1]=2*Ie[1]-Ze[1],j)return[Ze,Te,Ge].concat(De);De=[Ze,Te,Ge].concat(De).join().split(",");var ye=[],ge=[];return De.forEach(function(X,Ue){ge.push(Ue%2?R(De[Ue-1],De[Ue],ee).y:R(De[Ue],De[Ue+1],ee).x),6===ge.length&&(ye.push(ge),ge=[])}),ye};u.SVGPathElement.prototype.setAttribute=function(O,x){"d"===O&&(this[Z]=null,this[L]=null),M.call(this,O,x)},u.SVGPathElement.prototype.removeAttribute=function(O,x){"d"===O&&(this[Z]=null,this[L]=null),A.call(this,O)},u.SVGPathElement.prototype.getPathData=function(O){if(O&&O.normalize)return this[L]?v(this[L]):(this[Z]?N=v(this[Z]):(N=_(this.getAttribute("d")||""),this[Z]=v(N)),O=T((x=[],P=k=F=S=null,N.forEach(function(I){var $,C,H=I.type;"M"===H?(x.push({type:"M",values:[$=I.values[0],C=I.values[1]]}),S=k=$,F=P=C):"m"===H?(x.push({type:"M",values:[$=S+I.values[0],C=F+I.values[1]]}),S=k=$,F=P=C):"L"===H?(x.push({type:"L",values:[$=I.values[0],C=I.values[1]]}),S=$,F=C):"l"===H?(x.push({type:"L",values:[$=S+I.values[0],C=F+I.values[1]]}),S=$,F=C):"C"===H?(x.push({type:"C",values:[I.values[0],I.values[1],I.values[2],I.values[3],$=I.values[4],C=I.values[5]]}),S=$,F=C):"c"===H?(x.push({type:"C",values:[S+I.values[0],F+I.values[1],S+I.values[2],F+I.values[3],$=S+I.values[4],C=F+I.values[5]]}),S=$,F=C):"Q"===H?(x.push({type:"Q",values:[I.values[0],I.values[1],$=I.values[2],C=I.values[3]]}),S=$,F=C):"q"===H?(x.push({type:"Q",values:[S+I.values[0],F+I.values[1],$=S+I.values[2],C=F+I.values[3]]}),S=$,F=C):"A"===H?(x.push({type:"A",values:[I.values[0],I.values[1],I.values[2],I.values[3],I.values[4],$=I.values[5],C=I.values[6]]}),S=$,F=C):"a"===H?(x.push({type:"A",values:[I.values[0],I.values[1],I.values[2],I.values[3],I.values[4],$=S+I.values[5],C=F+I.values[6]]}),S=$,F=C):"H"===H?(x.push({type:"H",values:[$=I.values[0]]}),S=$):"h"===H?(x.push({type:"H",values:[$=S+I.values[0]]}),S=$):"V"===H?(x.push({type:"V",values:[C=I.values[0]]}),F=C):"v"===H?(x.push({type:"V",values:[C=F+I.values[0]]}),F=C):"S"===H?(x.push({type:"S",values:[I.values[0],I.values[1],$=I.values[2],C=I.values[3]]}),S=$,F=C):"s"===H?(x.push({type:"S",values:[S+I.values[0],F+I.values[1],$=S+I.values[2],C=F+I.values[3]]}),S=$,F=C):"T"===H?(x.push({type:"T",values:[$=I.values[0],C=I.values[1]]}),S=$,F=C):"t"===H?(x.push({type:"T",values:[$=S+I.values[0],C=F+I.values[1]]}),S=$,F=C):"Z"!==H&&"z"!==H||(x.push({type:"Z",values:[]}),S=k,F=P)}),x)),this[L]=v(O),O);if(this[Z])return v(this[Z]);var x,S,F,k,P,N=_(this.getAttribute("d")||"");return this[Z]=v(N),N},u.SVGPathElement.prototype.setPathData=function(O){if(0===O.length)p?this.setAttribute("d",""):this.removeAttribute("d");else{for(var x="",S=0,F=O.length;S<F;S+=1){var k=O[S];0<S&&(x+=" "),x+=k.type,k.values&&0<k.values.length&&(x+=" "+k.values.join(" "))}this.setAttribute("d",x)}},u.SVGRectElement.prototype.getPathData=function(O){var x=this.x.baseVal.value,N=this.y.baseVal.value,S=this.width.baseVal.value,F=this.height.baseVal.value,k=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,P=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value;return N=(N=[{type:"M",values:[x+(k=S/2<k?S/2:k),N]},{type:"H",values:[x+S-k]},{type:"A",values:[k,P=F/2<P?F/2:P,0,0,1,x+S,N+P]},{type:"V",values:[N+F-P]},{type:"A",values:[k,P,0,0,1,x+S-k,N+F]},{type:"H",values:[x+k]},{type:"A",values:[k,P,0,0,1,x,N+F-P]},{type:"V",values:[N+P]},{type:"A",values:[k,P,0,0,1,x+k,N]},{type:"Z",values:[]}]).filter(function(I){return"A"!==I.type||0!==I.values[0]&&0!==I.values[1]}),O&&!0===O.normalize?T(N):N},u.SVGCircleElement.prototype.getPathData=function(O){var x=this.cx.baseVal.value,S=this.r.baseVal.value,F=[{type:"M",values:[x+S,F=this.cy.baseVal.value]},{type:"A",values:[S,S,0,0,1,x,F+S]},{type:"A",values:[S,S,0,0,1,x-S,F]},{type:"A",values:[S,S,0,0,1,x,F-S]},{type:"A",values:[S,S,0,0,1,x+S,F]},{type:"Z",values:[]}];return O&&!0===O.normalize?T(F):F},u.SVGEllipseElement.prototype.getPathData=function(O){var x=this.cx.baseVal.value,S=this.rx.baseVal.value,F=this.ry.baseVal.value,k=[{type:"M",values:[x+S,k=this.cy.baseVal.value]},{type:"A",values:[S,F,0,0,1,x,k+F]},{type:"A",values:[S,F,0,0,1,x-S,k]},{type:"A",values:[S,F,0,0,1,x,k-F]},{type:"A",values:[S,F,0,0,1,x+S,k]},{type:"Z",values:[]}];return O&&!0===O.normalize?T(k):k},u.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},u.SVGPolylineElement.prototype.getPathData=function(){for(var O=[],x=0;x<this.points.numberOfItems;x+=1){var S=this.points.getItem(x);O.push({type:0===x?"M":"L",values:[S.x,S.y]})}return O},u.SVGPolygonElement.prototype.getPathData=function(){for(var O=[],x=0;x<this.points.numberOfItems;x+=1){var S=this.points.getItem(x);O.push({type:0===x?"M":"L",values:[S.x,S.y]})}return O.push({type:"Z",values:[]}),O}}()},vn=(Fr={},Yt.m=Nr=[function(u,f,h){h.r(f);var p=500,_=[],v=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(G){return setTimeout(G,1e3/60)},T=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(G){return clearTimeout(G)},M=Date.now(),A=void 0;function Z(){var G=void 0,O=void 0;A&&(T.call(window,A),A=null),_.forEach(function(x){var S;(S=x.event)&&(x.event=null,x.listener(S),G=!0)}),G?(M=Date.now(),O=!0):Date.now()-M<p&&(O=!0),O&&(A=v.call(window,Z))}function L(G){var O=-1;return _.some(function(x,S){return x.listener===G&&(O=S,!0)}),O}f.default={add:function(G){var O=void 0;return-1===L(G)?(_.push(O={listener:G}),function(x){O.event=x,A||Z()}):null},remove:function(G){-1<(G=L(G))&&(_.splice(G,1),!_.length&&A&&(T.call(window,A),A=null))}}}],Yt.c=Fr,Yt.d=function(u,f,h){Yt.o(u,f)||Object.defineProperty(u,f,{enumerable:!0,get:h})},Yt.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},Yt.t=function(u,f){if(1&f&&(u=Yt(u)),8&f||4&f&&"object"==typeof u&&u&&u.__esModule)return u;var h=Object.create(null);if(Yt.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:u}),2&f&&"string"!=typeof u)for(var p in u)Yt.d(h,p,function(_){return u[_]}.bind(null,p));return h},Yt.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return Yt.d(f,"a",f),f},Yt.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},Yt.p="",Yt(Yt.s=0).default),Gs={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:Vn},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:Vn},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:Vn},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},xl={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},no="fade",ro=[],Ut={},md=0,Ft={},yd=0;function Yt(u){if(Fr[u])return Fr[u].exports;var f=Fr[u]={i:u,l:!1,exports:{}};return Nr[u].call(f.exports,f,f.exports,Yt),f.l=!0,f.exports}function kl(){var u=Date.now(),f=!1;as&&(El.call(window,as),as=null),mn.forEach(function(h){var p,_,v;if(h.framesStart){if((p=u-h.framesStart)>=h.duration&&h.count&&h.loopsLeft<=1)return v=h.frames[h.lastFrame=h.reverse?0:h.frames.length-1],h.frameCallback(v.value,!0,v.timeRatio,v.outputRatio),void(h.framesStart=null);if(p>h.duration){if(_=Math.floor(p/h.duration),h.count){if(_>=h.loopsLeft)return v=h.frames[h.lastFrame=h.reverse?0:h.frames.length-1],h.frameCallback(v.value,!0,v.timeRatio,v.outputRatio),void(h.framesStart=null);h.loopsLeft-=_}h.framesStart+=h.duration*_,p=u-h.framesStart}h.reverse&&(p=h.duration-p),v=h.frames[h.lastFrame=Math.round(p/os)],!1!==h.frameCallback(v.value,!1,v.timeRatio,v.outputRatio)?f=!0:h.framesStart=null}}),f&&(as=Sl.call(window,kl))}function Ol(u,f){u.framesStart=Date.now(),null!=f&&(u.framesStart-=u.duration*(u.reverse?1-f:f)),u.loopsLeft=u.count,u.lastFrame=null,kl()}function ni(u,f){var h,p;return typeof u!=typeof f||(h=ir(u)?"obj":Array.isArray(u)?"array":"")!=(ir(f)?"obj":Array.isArray(f)?"array":"")||("obj"===h?ni(p=Object.keys(u).sort(),Object.keys(f).sort())||p.some(function(_){return ni(u[_],f[_])}):"array"===h?u.length!==f.length||u.some(function(_,v){return ni(_,f[v])}):u!==f)}function Qt(u){return u&&(ir(u)?Object.keys(u).reduce(function(f,h){return f[h]=Qt(u[h]),f},{}):Array.isArray(u)?u.map(Qt):u)}function qs(u){var f,h,p,_=1,v=u=(u+"").trim();function T(Z){var A=1;return(Z=gd.exec(Z))&&(A=parseFloat(Z[1]),Z[2]?A=0<=A&&A<=100?A/100:1:(A<0||1<A)&&(A=1)),A}return(f=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(u))?(h=f[1].toLowerCase(),p=f[2].trim().split(/\s*,\s*/),"rgba"===h&&4===p.length?(_=T(p[3]),v="rgb("+p.slice(0,3).join(", ")+")"):"hsla"===h&&4===p.length?(_=T(p[3]),v="hsl("+p.slice(0,3).join(", ")+")"):"hwb"===h&&4===p.length?(_=T(p[3]),v="hwb("+p.slice(0,3).join(", ")+")"):"gray"===h&&2===p.length?(_=T(p[1]),v="gray("+p[0]+")"):"device-cmyk"===h&&5<=p.length&&(_=T(p[4]),v="device-cmyk("+p.slice(0,4).join(", ")+")")):(f=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(u))?v=f[1]?(_=parseInt(f[2],16)/255,"#"+f[1]):(_=parseInt(f[4]+f[4],16)/255,"#"+f[3]):"transparent"===u.toLocaleLowerCase()&&(_=0),[_,v]}function Mi(u){return!(!u||u.nodeType!==Node.ELEMENT_NODE||"function"!=typeof u.getBoundingClientRect)}function ds(u,f){var h,p,_,v={};if(!(_=u.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(u.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(p in h=u.getBoundingClientRect())v[p]=h[p];if(!f){if(!(_=_.defaultView))return console.error("Cannot get window that contains the element."),null;v.left+=_.pageXOffset,v.right+=_.pageXOffset,v.top+=_.pageYOffset,v.bottom+=_.pageYOffset}return v}function Ks(u,f){var h,p=[],_=u;for(f=f||window;;){if(!(h=_.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(h=h.defaultView))return console.error("Cannot get window that contains the element."),null;if(h===f)break;if(!(_=h.frameElement))return console.error("`baseWindow` was not found."),null;p.unshift(_)}return p}function Pi(u,f){var h=0,p=0;return(f=Ks(u,f=f||window))?f.length?(f.forEach(function(_,v){var T=ds(_,0<v);h+=T.left,p+=T.top,_=(v=_).ownerDocument.defaultView.getComputedStyle(v,""),T={left:v.clientLeft+parseFloat(_.paddingLeft),top:v.clientTop+parseFloat(_.paddingTop)},h+=T.left,p+=T.top}),(f=ds(u,!0)).left+=h,f.right+=h,f.top+=p,f.bottom+=p,f):ds(u):null}function In(u,p){var h=u.x-p.x;return p=u.y-p.y,Math.sqrt(h*h+p*p)}function fs(u,_,h){var p=_.x-u.x;return{x:u.x+p*h,y:u.y+(_=_.y-u.y)*h,angle:Math.atan2(_,p)/(Math.PI/180)}}function hs(u,f,h){return u=Math.atan2(u.y-f.y,f.x-u.x),{x:f.x+Math.cos(u)*h,y:f.y+Math.sin(u)*h*-1}}function ri(x,S,h,k,F){var v=1-F,T=(Z=(L=v*v)*v)*x.x+3*L*F*S.x+3*v*(O=F*F)*h.x+(G=O*F)*k.x,M=Z*x.y+3*L*F*S.y+3*v*O*h.y+G*k.y,A=x.x+2*F*(S.x-x.x)+O*(h.x-2*S.x+x.x),Z=x.y+2*F*(S.y-x.y)+O*(h.y-2*S.y+x.y),L=S.x+2*F*(h.x-S.x)+O*(k.x-2*h.x+S.x),G=S.y+2*F*(h.y-S.y)+O*(k.y-2*h.y+S.y),O=v*x.x+F*S.x;return x=v*x.y+F*S.y,S=v*h.x+F*k.x,F=v*h.y+F*k.y,k=90-180*Math.atan2(A-L,Z-G)/Math.PI,{x:T,y:M,fromP2:{x:A,y:Z},toP1:{x:L,y:G},fromP1:{x:O,y:x},toP2:{x:S,y:F},angle:k+=180<k?-180:180}}function Ri(u,f,h,p,_){function v(G,O,x,S,F){return G*(G*(-3*O+9*x-9*S+3*F)+6*O-12*x+6*S)-3*O+3*x}var T,M,A=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0,L=(_=null==_||1<_?1:_<0?0:_)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(G,O){T=v(M=L*G+L,u.x,f.x,h.x,p.x),M=v(M,u.y,f.y,h.y,p.y),M=T*T+M*M,Z+=A[O]*Math.sqrt(M)}),L*Z}function Ys(u,f,h,p,_){for(var v,T=.5,M=1-T;v=Ri(u,f,h,p,M),!(Math.abs(v-_)<=.01);)M+=(v<_?1:-1)*(T/=2);return M}function xn(u,f){var h;return u.forEach(function(p){p=f?p.map(function(_){return f(_={x:_.x,y:_.y}),_}):p,(h=h||[{type:"M",values:[p[0].x,p[0].y]}]).push(p.length?2===p.length?{type:"L",values:[p[1].x,p[1].y]}:{type:"C",values:[p[1].x,p[1].y,p[2].x,p[2].y,p[3].x,p[3].y]}:{type:"Z",values:[]})}),h}function Ml(u){var f=[],h=0;return u.forEach(function(p){p=(2===p.length?In:Ri).apply(null,p),f.push(p),h+=p}),{segsLen:f,lenAll:h}}function Qs(u,f){return null==u||null==f||u.length!==f.length||u.some(function(h,p){var _=f[p];return h.type!==_.type||h.values.some(function(v,T){return v!==_.values[T]})})}function It(u,f,h){u.events[f]?u.events[f].indexOf(h)<0&&u.events[f].push(h):u.events[f]=[h]}function xt(u,f,h){var p;u.events[f]&&-1<(p=u.events[f].indexOf(h))&&u.events[f].splice(p,1)}function ii(u){sn&&clearTimeout(sn),ro.push(u),sn=setTimeout(function(){ro.forEach(function(f){f()}),ro=[]},0)}function mt(u,f){u.reflowTargets.indexOf(f)<0&&u.reflowTargets.push(f)}function Pl(u){u.reflowTargets.forEach(function(f){var h;h=f,setTimeout(function(){var p=h.parentNode,_=h.nextSibling;p.insertBefore(p.removeChild(h),_)},0)}),u.reflowTargets=[]}function sr(u,f,h,p,_,v,T){var M;"auto-start-reverse"===h?("boolean"!=typeof ss&&(f.setAttribute("orient","auto-start-reverse"),ss=f.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),ss?f.setAttribute("orient",h):((M=_.createSVGTransform()).setRotate(180,0,0),v.transform.baseVal.appendItem(M),f.setAttribute("orient","auto"),M=!0)):(f.setAttribute("orient",h),!1===ss&&v.transform.baseVal.clear()),f=f.viewBox.baseVal,M?(f.x=-p.right,f.y=-p.bottom):(f.x=p.left,f.y=p.top),f.width=p.width,f.height=p.height,yn&&mt(u,T)}function Rl(u,f){return{prop:u?"markerEnd":"markerStart",orient:f?f.noRotate?"0":u?"auto":"auto-start-reverse":null}}function nt(u,f){Object.keys(f).forEach(function(h){var p=f[h];u[h]=null!=p.iniValue?p.hasSE?[p.iniValue,p.iniValue]:p.iniValue:p.hasSE?p.hasProps?[{},{}]:[]:p.hasProps?{}:null})}function fe(u,f,h,p,_){return p!==f[h]&&(f[h]=p,_&&_.forEach(function(v){v(u,p,h)}),!0)}function $n(p){function f(v,T){return v+parseFloat(T)}var h=p.getComputedStyle((_=p.document).documentElement,""),_=(p=p.getComputedStyle(_.body,""),{x:0,y:0});return"static"!==p.position?(_.x-=[h.marginLeft,h.borderLeftWidth,h.paddingLeft,p.marginLeft,p.borderLeftWidth].reduce(f,0),_.y-=[h.marginTop,h.borderTopWidth,h.paddingTop,p.marginTop,p.borderTopWidth].reduce(f,0)):"static"!==h.position&&(_.x-=[h.marginLeft,h.borderLeftWidth].reduce(f,0),_.y-=[h.marginTop,h.borderTopWidth].reduce(f,0)),_}function vd(u){var f,h=u.document;h.getElementById(ud)||(f=(new u.DOMParser).parseFromString(cd,"image/svg+xml"),h.body.appendChild(f.documentElement),pd(u))}function Li(u,f){f!==u.isShown&&(!!f!=!!u.isShown&&(u.svg.style.visibility=f?"":"hidden"),u.isShown=f,u.events&&u.events.svgShow&&u.events.svgShow.forEach(function(h){h(u,f)}))}function en(u,f){var h,p,_,v,T,M,A,Z,L,G,O,x,S,F,k,P,N,I,ue,j,R,ee,$,C,H,Q,V,se,ae,Ie,Ze,Te,Ge,De,ye,ge,X,Ue,ve,Ve,gt,Ni,yt,ce={};f.line&&(ce.line=(Z=(h=u).options,G=!1,G=fe(h,p=h.curStats,"line_color",Z.lineColor,(L=h.events).cur_line_color)||G,G=fe(h,p,"line_colorTra",qs(p.line_color)[0]<1)||G,G=fe(h,p,"line_strokeWidth",Z.lineSize,L.cur_line_strokeWidth)||G)),(f.plug||ce.line)&&(ce.plug=(v=(_=u).options,T=_.curStats,M=_.events,A=!1,[0,1].forEach(function(K){var Se,at,bn,vt,ar,Js,Fi,Cr,Bi=v.plugSE[K];A=fe(_,T.plug_enabledSE,K,Bi!==Vn)||A,A=fe(_,T.plug_plugSE,K,Bi)||A,A=fe(_,T.plug_colorSE,K,Cr=v.plugColorSE[K]||T.line_color,M.cur_plug_colorSE)||A,A=fe(_,T.plug_colorTraSE,K,qs(Cr)[0]<1)||A,Bi!==Vn&&(vt=at=(Se=js[cs[Bi]]).widthR*v.plugSizeSE[K],ar=bn=Se.heightR*v.plugSizeSE[K],wt&&(vt*=T.line_strokeWidth,ar*=T.line_strokeWidth),A=fe(_,T.plug_markerWidthSE,K,vt)||A,A=fe(_,T.plug_markerHeightSE,K,ar)||A,T.capsMaskMarker_markerWidthSE[K]=at,T.capsMaskMarker_markerHeightSE[K]=bn),T.plugOutline_plugSE[K]=T.capsMaskMarker_plugSE[K]=Bi,T.plug_enabledSE[K]?(T.position_plugOverheadSE[K]=Se.overhead*(Cr=T.line_strokeWidth/Kt.lineSize*v.plugSizeSE[K]),T.viewBox_plugBCircleSE[K]=Se.bCircle*Cr,Js=Se.sideLen*Cr,Fi=Se.backLen*Cr):(T.position_plugOverheadSE[K]=-T.line_strokeWidth/2,T.viewBox_plugBCircleSE[K]=Js=Fi=0),fe(_,T.attach_plugSideLenSE,K,Js,M.cur_attach_plugSideLenSE),fe(_,T.attach_plugBackLenSE,K,Fi,M.cur_attach_plugBackLenSE),T.capsMaskAnchor_enabledSE[K]=!T.plug_enabledSE[K]}),A=fe(_,T,"plug_enabled",T.plug_enabledSE[0]||T.plug_enabledSE[1])||A)),(f.lineOutline||ce.line)&&(ce.lineOutline=(L=(Z=u).options,$=!1,$=fe(Z,G=Z.curStats,"lineOutline_enabled",L.lineOutlineEnabled)||$,$=fe(Z,G,"lineOutline_color",L.lineOutlineColor)||$,$=fe(Z,G,"lineOutline_colorTra",qs(G.lineOutline_color)[0]<1)||$,$=fe(Z,G,"lineOutline_strokeWidth",G.line_strokeWidth-2*(L=G.line_strokeWidth*L.lineOutlineSize))||$,$=fe(Z,G,"lineOutline_inStrokeWidth",G.lineOutline_colorTra?G.lineOutline_strokeWidth+2*Il:G.line_strokeWidth-L)||$)),(f.plugOutline||ce.line||ce.plug||ce.lineOutline)&&(ce.plugOutline=(x=(O=u).options,S=O.curStats,F=!1,[0,1].forEach(function(K){var Se=S.plugOutline_plugSE[K],at=Se!==Vn?js[cs[Se]]:null;F=fe(O,S.plugOutline_enabledSE,K,x.plugOutlineEnabledSE[K]&&S.plug_enabled&&S.plug_enabledSE[K]&&!!at&&!!at.outlineBase)||F,F=fe(O,S.plugOutline_colorSE,K,Se=x.plugOutlineColorSE[K]||S.lineOutline_color)||F,F=fe(O,S.plugOutline_colorTraSE,K,qs(Se)[0]<1)||F,at&&at.outlineBase&&((Se=x.plugOutlineSizeSE[K])>at.outlineMax&&(Se=at.outlineMax),F=fe(O,S.plugOutline_strokeWidthSE,K,Se*=2*at.outlineBase)||F,F=fe(O,S.plugOutline_inStrokeWidthSE,K,S.plugOutline_colorTraSE[K]?Se-Il/(S.line_strokeWidth/Kt.lineSize)/x.plugSizeSE[K]*2:Se/2)||F)}),F)),(f.faces||ce.line||ce.plug||ce.lineOutline||ce.plugOutline)&&(ce.faces=(N=(k=u).curStats,I=k.aplStats,ue=k.events,j=!1,!N.line_altColor&&fe(k,I,"line_color",P=N.line_color,ue.apl_line_color)&&(k.lineFace.style.stroke=P,j=!0),fe(k,I,"line_strokeWidth",P=N.line_strokeWidth,ue.apl_line_strokeWidth)&&(k.lineShape.style.strokeWidth=P+"px",j=!0,(ti||yn)&&(mt(k,k.lineShape),yn&&(mt(k,k.lineFace),mt(k,k.lineMaskCaps)))),fe(k,I,"lineOutline_enabled",P=N.lineOutline_enabled,ue.apl_lineOutline_enabled)&&(k.lineOutlineFace.style.display=P?"inline":"none",j=!0),N.lineOutline_enabled&&(fe(k,I,"lineOutline_color",P=N.lineOutline_color,ue.apl_lineOutline_color)&&(k.lineOutlineFace.style.stroke=P,j=!0),fe(k,I,"lineOutline_strokeWidth",P=N.lineOutline_strokeWidth,ue.apl_lineOutline_strokeWidth)&&(k.lineOutlineMaskShape.style.strokeWidth=P+"px",j=!0,yn&&(mt(k,k.lineOutlineMaskCaps),mt(k,k.lineOutlineFace))),fe(k,I,"lineOutline_inStrokeWidth",P=N.lineOutline_inStrokeWidth,ue.apl_lineOutline_inStrokeWidth)&&(k.lineMaskShape.style.strokeWidth=P+"px",j=!0,yn&&(mt(k,k.lineOutlineMaskCaps),mt(k,k.lineOutlineFace)))),fe(k,I,"plug_enabled",P=N.plug_enabled,ue.apl_plug_enabled)&&(k.plugsFace.style.display=P?"inline":"none",j=!0),N.plug_enabled&&[0,1].forEach(function(K){var Se=N.plug_plugSE[K],at=Se!==Vn?js[cs[Se]]:null,bn=Rl(K,at);fe(k,I.plug_enabledSE,K,P=N.plug_enabledSE[K],ue.apl_plug_enabledSE)&&(k.plugsFace.style[bn.prop]=P?"url(#"+k.plugMarkerIdSE[K]+")":"none",j=!0),N.plug_enabledSE[K]&&(fe(k,I.plug_plugSE,K,Se,ue.apl_plug_plugSE)&&(k.plugFaceSE[K].href.baseVal="#"+at.elmId,sr(k,k.plugMarkerSE[K],bn.orient,at.bBox,k.svg,k.plugMarkerShapeSE[K],k.plugsFace),j=!0,ti&&mt(k,k.plugsFace)),fe(k,I.plug_colorSE,K,P=N.plug_colorSE[K],ue.apl_plug_colorSE)&&(k.plugFaceSE[K].style.fill=P,j=!0,(Oi||wt||yn)&&!N.line_colorTra&&mt(k,yn?k.lineMaskCaps:k.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(vt){var ar="plug_"+vt+"SE";fe(k,I[ar],K,P=N[ar][K],ue["apl_"+ar])&&(k.plugMarkerSE[K][vt].baseVal.value=P,j=!0)}),fe(k,I.plugOutline_enabledSE,K,P=N.plugOutline_enabledSE[K],ue.apl_plugOutline_enabledSE)&&(P?(k.plugFaceSE[K].style.mask="url(#"+k.plugMaskIdSE[K]+")",k.plugOutlineFaceSE[K].style.display="inline"):(k.plugFaceSE[K].style.mask="none",k.plugOutlineFaceSE[K].style.display="none"),j=!0),N.plugOutline_enabledSE[K]&&(fe(k,I.plugOutline_plugSE,K,Se,ue.apl_plugOutline_plugSE)&&(k.plugOutlineFaceSE[K].href.baseVal=k.plugMaskShapeSE[K].href.baseVal=k.plugOutlineMaskShapeSE[K].href.baseVal="#"+at.elmId,[k.plugMaskSE[K],k.plugOutlineMaskSE[K]].forEach(function(vt){vt.x.baseVal.value=at.bBox.left,vt.y.baseVal.value=at.bBox.top,vt.width.baseVal.value=at.bBox.width,vt.height.baseVal.value=at.bBox.height}),j=!0),fe(k,I.plugOutline_colorSE,K,P=N.plugOutline_colorSE[K],ue.apl_plugOutline_colorSE)&&(k.plugOutlineFaceSE[K].style.fill=P,j=!0,yn&&(mt(k,k.lineMaskCaps),mt(k,k.lineOutlineMaskCaps))),fe(k,I.plugOutline_strokeWidthSE,K,P=N.plugOutline_strokeWidthSE[K],ue.apl_plugOutline_strokeWidthSE)&&(k.plugOutlineMaskShapeSE[K].style.strokeWidth=P+"px",j=!0),fe(k,I.plugOutline_inStrokeWidthSE,K,P=N.plugOutline_inStrokeWidthSE[K],ue.apl_plugOutline_inStrokeWidthSE)&&(k.plugMaskShapeSE[K].style.strokeWidth=P+"px",j=!0)))}),j)),(f.position||ce.line||ce.plug)&&(ce.position=function _d(u){var f,h,p,_,v,T,M,A,Z,L,G,O,x,S,F=u.options,k=u.curStats,P=u.aplStats,N=k.position_socketXYSE,I=!1;function ue(R,ee){return(R=ee===rr?{x:R.left+R.width/2,y:R.top}:ee===an?{x:R.right,y:R.top+R.height/2}:ee===Bn?{x:R.left+R.width/2,y:R.bottom}:{x:R.left,y:R.top+R.height/2}).socketId=ee,R}function j(R){return{x:R.x,y:R.y}}if(k.position_path=F.path,k.position_lineStrokeWidth=k.line_strokeWidth,k.position_socketGravitySE=f=Qt(F.socketGravitySE),h=[0,1].map(function(R){var ee=F.anchorSE[R],$=u.optionIsAttach.anchorSE[R],C=!1!==$?Ft[ee._id]:null,H=!1!==$&&C.conf.getStrokeWidth?C.conf.getStrokeWidth(C,u):0,Q=!1!==$&&C.conf.getBBoxNest?C.conf.getBBoxNest(C,u,H):Pi(ee,u.baseWindow);return k.capsMaskAnchor_pathDataSE[R]=!1!==$&&C.conf.getPathData?C.conf.getPathData(C,u,H):($=null!=(ee=Q).right?ee.right:ee.left+ee.width,[{type:"M",values:[ee.left,ee.top]},{type:"L",values:[$,ee.top]},{type:"L",values:[$,C=null!=ee.bottom?ee.bottom:ee.top+ee.height]},{type:"L",values:[ee.left,C]},{type:"Z",values:[]}]),k.capsMaskAnchor_strokeWidthSE[R]=H,Q}),M=-1,F.socketSE[0]&&F.socketSE[1]?(N[0]=ue(h[0],F.socketSE[0]),N[1]=ue(h[1],F.socketSE[1])):(F.socketSE[0]||F.socketSE[1]?(T=F.socketSE[0]?(v=0,1):(v=1,0),N[v]=ue(h[v],F.socketSE[v]),(_=zs.map(function(R){return ue(h[T],R)})).forEach(function(R){var ee=In(R,N[v]);(ee<M||-1===M)&&(N[T]=R,M=ee)})):(_=zs.map(function(R){return ue(h[1],R)}),zs.map(function(R){return ue(h[0],R)}).forEach(function(R){_.forEach(function(ee){var $=In(R,ee);($<M||-1===M)&&(N[0]=R,N[1]=ee,M=$)})})),[0,1].forEach(function(R){var ee,$;F.socketSE[R]||(h[R].width||h[R].height?h[R].width||N[R].socketId!==br&&N[R].socketId!==an?h[R].height||N[R].socketId!==rr&&N[R].socketId!==Bn||(N[R].socketId=0<=N[R?0:1].y-h[R].top?Bn:rr):N[R].socketId=0<=N[R?0:1].x-h[R].left?an:br:(ee=N[R?0:1].x-h[R].left,$=N[R?0:1].y-h[R].top,N[R].socketId=Math.abs(ee)>=Math.abs($)?0<=ee?an:br:0<=$?Bn:rr))})),k.position_path!==P.position_path||k.position_lineStrokeWidth!==P.position_lineStrokeWidth||[0,1].some(function(R){return k.position_plugOverheadSE[R]!==P.position_plugOverheadSE[R]||(ee=N[R]).x!==($=P.position_socketXYSE[R]).x||ee.y!==$.y||ee.socketId!==$.socketId||($=P.position_socketGravitySE[R],(R=null==(ee=f[R])?"auto":Array.isArray(ee)?"array":"number")!=(null==$?"auto":Array.isArray($)?"array":"number")||("array"==R?ee[0]!==$[0]||ee[1]!==$[1]:ee!==$));var ee,$})){switch(u.pathList.baseVal=p=[],u.pathList.animVal=null,k.position_path){case Tl:p.push([j(N[0]),j(N[1])]);break;case $s:O=(x=Ap*((O="number"==typeof f[0]&&0<f[0]||"number"==typeof f[1]&&0<f[1])?-1:1))-(S=Math.atan2(N[1].y-N[0].y,N[1].x-N[0].x)),S=Math.PI-S-x,x=In(N[0],N[1])/Math.sqrt(2)*to,O={x:N[0].x+Math.cos(O)*x,y:N[0].y+Math.sin(O)*x*-1},x={x:N[1].x+Math.cos(S)*x,y:N[1].y+Math.sin(S)*x*-1},p.push([j(N[0]),O,x,j(N[1])]);break;case wr:case Xa:Z=[f[0],k.position_path===Xa?0:f[1]],L=[],G=[],N.forEach(function(R,ee){var $,C=Z[ee],H=Array.isArray(C)?{x:C[0],y:C[1]}:"number"==typeof C?R.socketId===rr?{x:0,y:-C}:R.socketId===an?{x:C,y:0}:R.socketId===Bn?{x:0,y:C}:{x:-C,y:0}:($=N[ee?0:1],C=0<(C=k.position_plugOverheadSE[ee])?fd+(Ws<C?(C-Ws)*hd:0):dd+(k.position_lineStrokeWidth>Je?(k.position_lineStrokeWidth-Je)*eo:0),R.socketId===rr?{x:0,y:-(H=(H=(R.y-$.y)/2)<C?C:H)}:R.socketId===an?{x:H=(H=($.x-R.x)/2)<C?C:H,y:0}:R.socketId===Bn?{x:0,y:H=(H=($.y-R.y)/2)<C?C:H}:{x:-(H=(H=(R.x-$.x)/2)<C?C:H),y:0});L[ee]=R.x+H.x,G[ee]=R.y+H.y}),p.push([j(N[0]),{x:L[0],y:G[0]},{x:L[1],y:G[1]},j(N[1])]);break;case Ja:!function(){var R,ee=1,$=2,C=3,H=4,Q=[[],[]],V=[];function se(ge){return ge===ee?C:ge===$?H:ge===C?ee:$}function ae(ge){return ge===$||ge===H?"x":"y"}function Ie(ge,X,Ue){var ve={x:ge.x,y:ge.y};if(Ue){if(Ue===se(ge.dirId))throw new Error("Invalid dirId: "+Ue);ve.dirId=Ue}else ve.dirId=ge.dirId;return ve.dirId===ee?ve.y-=X:ve.dirId===$?ve.x+=X:ve.dirId===C?ve.y+=X:ve.x-=X,ve}function Ze(ge,X){return X.dirId===ee?ge.y<=X.y:X.dirId===$?ge.x>=X.x:X.dirId===C?ge.y>=X.y:ge.x<=X.x}function Te(ge,X){return X.dirId===ee||X.dirId===C?ge.x===X.x:ge.y===X.y}function Ge(ge){return ge[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function De(ge,X,Ue){return Math.abs(X[Ue]-ge[Ue])}function ye(ge,X,Ue){return"x"===Ue?ge.x<X.x?$:H:ge.y<X.y?C:ee}for(N.forEach(function(ge,X){var Ue=j(ge),ve=f[X];ge=Array.isArray(ve)?ve[0]<0?[H,-ve[0]]:0<ve[0]?[$,ve[0]]:ve[1]<0?[ee,-ve[1]]:0<ve[1]?[C,ve[1]]:[ge.socketId,0]:"number"!=typeof ve?[ge.socketId,Un]:0<=ve?[ge.socketId,ve]:[se(ge.socketId),-ve],Ue.dirId=ge[0],ve=ge[1],Q[X].push(Ue),V[X]=Ie(Ue,ve)});function(){var ge,X,Ue,ve,Ve=[Ze(V[1],V[0]),Ze(V[0],V[1])],gt=[ae(V[0].dirId),ae(V[1].dirId)];if(gt[0]===gt[1]){if(Ve[0]&&Ve[1])return void(Te(V[1],V[0])||(V[0][gt[0]]===V[1][gt[1]]?(Q[0].push(V[0]),Q[1].push(V[1])):(ge=V[0][gt[0]]+(V[1][gt[1]]-V[0][gt[0]])/2,Q[0].push(Ie(V[0],Math.abs(ge-V[0][gt[0]]))),Q[1].push(Ie(V[1],Math.abs(ge-V[1][gt[1]]))))));Ve[0]!==Ve[1]?(X=Ge(Ve),(Ue=De(V[X.notContain],V[X.contain],gt[X.notContain]))<Un&&(V[X.notContain]=Ie(V[X.notContain],Un-Ue)),Q[X.notContain].push(V[X.notContain]),V[X.notContain]=Ie(V[X.notContain],Un,Te(V[X.contain],V[X.notContain])?"x"===gt[X.notContain]?C:$:ye(V[X.notContain],V[X.contain],"x"===gt[X.notContain]?"y":"x"))):(Ue=De(V[0],V[1],"x"===gt[0]?"y":"x"),Q.forEach(function(Ni,yt){var ce=0===yt?1:0;Ni.push(V[yt]),V[yt]=Ie(V[yt],Un,2*Un<=Ue?ye(V[yt],V[ce],"x"===gt[yt]?"y":"x"):"x"===gt[yt]?C:$)}))}else{if(Ve[0]&&Ve[1])return void(Te(V[1],V[0])?Q[1].push(V[1]):Te(V[0],V[1])?Q[0].push(V[0]):Q[0].push("x"===gt[0]?{x:V[1].x,y:V[0].y}:{x:V[0].x,y:V[1].y}));Ve[0]!==Ve[1]?(X=Ge(Ve),Q[X.notContain].push(V[X.notContain]),V[X.notContain]=Ie(V[X.notContain],Un,De(V[X.notContain],V[X.contain],gt[X.contain])>=Un?ye(V[X.notContain],V[X.contain],gt[X.contain]):V[X.contain].dirId)):(ve=[{x:V[0].x,y:V[0].y},{x:V[1].x,y:V[1].y}],Q.forEach(function(Ni,yt){var ce=0===yt?1:0,K=De(ve[yt],ve[ce],gt[yt]);K<Un&&(V[yt]=Ie(V[yt],Un-K)),Ni.push(V[yt]),V[yt]=Ie(V[yt],Un,ye(V[yt],V[ce],gt[ce]))}))}return 1}(););Q[1].reverse(),Q[0].concat(Q[1]).forEach(function(ge,X){ge={x:ge.x,y:ge.y},0<X&&p.push([R,ge]),R=ge})}()}A=[],k.position_plugOverheadSE.forEach(function(R,ee){var $,C,H,Q,V,se,ae,Ie,Ze,Te=!ee;0<R?2===($=p[C=Te?0:p.length-1]).length?(A[C]=A[C]||In.apply(null,$),A[C]>ki&&(A[C]-R<ki&&(R=A[C]-ki),ae=fs($[0],$[1],(Te?R:A[C]-R)/A[C]),p[C]=Te?[ae,$[1]]:[$[0],ae],A[C]-=R)):(A[C]=A[C]||Ri.apply(null,$),A[C]>ki&&(A[C]-R<ki&&(R=A[C]-ki),ae=ri($[0],$[1],$[2],$[3],Ys($[0],$[1],$[2],$[3],Te?R:A[C]-R)),Q=Te?(H=$[0],ae.toP1):(H=$[3],ae.fromP2),V=Math.atan2(H.y-ae.y,ae.x-H.x),se=In(ae,Q),ae.x=H.x+Math.cos(V)*R,ae.y=H.y+Math.sin(V)*R*-1,Q.x=ae.x+Math.cos(V)*se,Q.y=ae.y+Math.sin(V)*se*-1,p[C]=Te?[ae,ae.toP1,ae.toP2,$[3]]:[$[0],ae.fromP1,ae.fromP2,ae],A[C]=null)):R<0&&($=p[C=Te?0:p.length-1],ee=-h[ee]["x"==(Ie=(ae=N[ee].socketId)===br||ae===an?"x":"y")?"width":"height"],Ze=(R=R<ee?ee:R)*(ae===br||ae===rr?-1:1),2===$.length?$[Te?0:$.length-1][Ie]+=Ze:(Te?[0,1]:[$.length-2,$.length-1]).forEach(function(Ge){$[Ge][Ie]+=Ze}),A[C]=null)}),P.position_socketXYSE=Qt(N),P.position_plugOverheadSE=Qt(k.position_plugOverheadSE),P.position_path=k.position_path,P.position_lineStrokeWidth=k.position_lineStrokeWidth,P.position_socketGravitySE=Qt(f),I=!0,u.events.apl_position&&u.events.apl_position.forEach(function(R){R(u,p)})}return I}(u)),(f.path||ce.position)&&(ce.path=($=(R=u).curStats,V=R.aplStats,C=$.path_edge,se=!1,(Q=R.pathList.animVal||R.pathList.baseVal)&&(C.x1=C.x2=Q[0][0].x,C.y1=C.y2=Q[0][0].y,$.path_pathData=ee=xn(Q,function(K){K.x<C.x1&&(C.x1=K.x),K.y<C.y1&&(C.y1=K.y),K.x>C.x2&&(C.x2=K.x),K.y>C.y2&&(C.y2=K.y)}),Qs(ee,V.path_pathData)&&(R.linePath.setPathData(ee),V.path_pathData=ee,se=!0,yn?(mt(R,R.plugsFace),mt(R,R.lineMaskCaps)):ti&&mt(R,R.linePath),R.events.apl_path&&R.events.apl_path.forEach(function(K){K(R,ee)}))),se)),ce.viewBox=(se=(Q=(H=u).curStats).path_edge,ae=Q.viewBox_bBox,Ie=(V=H.aplStats).viewBox_bBox,Ze=H.svg.viewBox.baseVal,Te=H.svg.style,Ge=!1,V=Math.max(Q.line_strokeWidth/2,Q.viewBox_plugBCircleSE[0]||0,Q.viewBox_plugBCircleSE[1]||0),De={x1:se.x1-V,y1:se.y1-V,x2:se.x2+V,y2:se.y2+V},H.events.new_edge4viewBox&&H.events.new_edge4viewBox.forEach(function(K){K(H,De)}),ae.x=Q.lineMask_x=Q.lineOutlineMask_x=Q.maskBGRect_x=De.x1,ae.y=Q.lineMask_y=Q.lineOutlineMask_y=Q.maskBGRect_y=De.y1,ae.width=De.x2-De.x1,ae.height=De.y2-De.y1,["x","y","width","height"].forEach(function(K){var Se;(Se=ae[K])!==Ie[K]&&(Ze[K]=Ie[K]=Se,Te[Mt[K]]=Se+("x"===K||"y"===K?H.bodyOffset[K]:0)+"px",Ge=!0)}),Ge),ce.mask=(X=(ye=u).curStats,Ue=ye.aplStats,ve=!1,X.plug_enabled?[0,1].forEach(function(K){X.capsMaskMarker_enabledSE[K]=X.plug_enabledSE[K]&&X.plug_colorTraSE[K]||X.plugOutline_enabledSE[K]&&X.plugOutline_colorTraSE[K]}):X.capsMaskMarker_enabledSE[0]=X.capsMaskMarker_enabledSE[1]=!1,X.capsMaskMarker_enabled=X.capsMaskMarker_enabledSE[0]||X.capsMaskMarker_enabledSE[1],X.lineMask_outlineMode=X.lineOutline_enabled,X.caps_enabled=X.capsMaskMarker_enabled||X.capsMaskAnchor_enabledSE[0]||X.capsMaskAnchor_enabledSE[1],X.lineMask_enabled=X.caps_enabled||X.lineMask_outlineMode,(X.lineMask_enabled&&!X.lineMask_outlineMode||X.lineOutline_enabled)&&["x","y"].forEach(function(K){var Se="maskBGRect_"+K;fe(ye,Ue,Se,ge=X[Se])&&(ye.maskBGRect[K].baseVal.value=ge,ve=!0)}),fe(ye,Ue,"lineMask_enabled",ge=X.lineMask_enabled)&&(ye.lineFace.style.mask=ge?"url(#"+ye.lineMaskId+")":"none",ve=!0,wt&&mt(ye,ye.lineMask)),X.lineMask_enabled&&(fe(ye,Ue,"lineMask_outlineMode",ge=X.lineMask_outlineMode)&&(ge?(ye.lineMaskBG.style.display="none",ye.lineMaskShape.style.display="inline"):(ye.lineMaskBG.style.display="inline",ye.lineMaskShape.style.display="none"),ve=!0),["x","y"].forEach(function(K){var Se="lineMask_"+K;fe(ye,Ue,Se,ge=X[Se])&&(ye.lineMask[K].baseVal.value=ge,ve=!0)}),fe(ye,Ue,"caps_enabled",ge=X.caps_enabled)&&(ye.lineMaskCaps.style.display=ye.lineOutlineMaskCaps.style.display=ge?"inline":"none",ve=!0,wt&&mt(ye,ye.capsMaskLine)),X.caps_enabled&&([0,1].forEach(function(K){var Se;fe(ye,Ue.capsMaskAnchor_enabledSE,K,ge=X.capsMaskAnchor_enabledSE[K])&&(ye.capsMaskAnchorSE[K].style.display=ge?"inline":"none",ve=!0,wt&&mt(ye,ye.lineMask)),X.capsMaskAnchor_enabledSE[K]&&(Qs(Se=X.capsMaskAnchor_pathDataSE[K],Ue.capsMaskAnchor_pathDataSE[K])&&(ye.capsMaskAnchorSE[K].setPathData(Se),Ue.capsMaskAnchor_pathDataSE[K]=Se,ve=!0),fe(ye,Ue.capsMaskAnchor_strokeWidthSE,K,ge=X.capsMaskAnchor_strokeWidthSE[K])&&(ye.capsMaskAnchorSE[K].style.strokeWidth=ge+"px",ve=!0))}),fe(ye,Ue,"capsMaskMarker_enabled",ge=X.capsMaskMarker_enabled)&&(ye.capsMaskLine.style.display=ge?"inline":"none",ve=!0),X.capsMaskMarker_enabled&&[0,1].forEach(function(K){var Se=X.capsMaskMarker_plugSE[K],at=Se!==Vn?js[cs[Se]]:null,bn=Rl(K,at);fe(ye,Ue.capsMaskMarker_enabledSE,K,ge=X.capsMaskMarker_enabledSE[K])&&(ye.capsMaskLine.style[bn.prop]=ge?"url(#"+ye.lineMaskMarkerIdSE[K]+")":"none",ve=!0),X.capsMaskMarker_enabledSE[K]&&(fe(ye,Ue.capsMaskMarker_plugSE,K,Se)&&(ye.capsMaskMarkerShapeSE[K].href.baseVal="#"+at.elmId,sr(ye,ye.capsMaskMarkerSE[K],bn.orient,at.bBox,ye.svg,ye.capsMaskMarkerShapeSE[K],ye.capsMaskLine),ve=!0,ti&&(mt(ye,ye.capsMaskLine),mt(ye,ye.lineFace))),["markerWidth","markerHeight"].forEach(function(vt){var ar="capsMaskMarker_"+vt+"SE";fe(ye,Ue[ar],K,ge=X[ar][K])&&(ye.capsMaskMarkerSE[K][vt].baseVal.value=ge,ve=!0)}))}))),X.lineOutline_enabled&&["x","y"].forEach(function(K){var Se="lineOutlineMask_"+K;fe(ye,Ue,Se,ge=X[Se])&&(ye.lineOutlineMask[K].baseVal.value=ge,ve=!0)}),ve),f.effect&&(Ni=(Ve=u).curStats,yt=Ve.aplStats,Object.keys(ot).forEach(function(vt){var Se=ot[vt],at=vt+"_enabled",bn=vt+"_options";vt=Ni[bn],fe(Ve,yt,at,gt=Ni[at])?(gt&&(yt[bn]=Qt(vt)),Se[gt?"init":"remove"](Ve)):gt&&ni(vt,yt[bn])&&(Se.remove(Ve),yt[at]=!0,yt[bn]=Qt(vt),Se.init(Ve))})),(Oi||wt)&&ce.line&&!ce.path&&mt(u,u.lineShape),Oi&&ce.plug&&!ce.line&&mt(u,u.plugsFace),Pl(u)}function Zs(u,f){return{duration:(Jt(u.duration)&&0<u.duration?u:f).duration,timing:Pt.validTiming(u.timing)?u.timing:Qt(f.timing)}}function Br(u,f,h,p){var _=u.curStats,v=u.aplStats,T={};function M(){["show_on","show_effect","show_animOptions"].forEach(function(A){v[A]=_[A]})}_.show_on=f,h&&ft[h]&&(_.show_effect=h,_.show_animOptions=Zs(ir(p)?p:{},ft[h].defaultAnimOptions)),T.show_on=_.show_on!==v.show_on,T.show_effect=_.show_effect!==v.show_effect,T.show_animOptions=ni(_.show_animOptions,v.show_animOptions),T.show_effect||T.show_animOptions?_.show_inAnim?(h=T.show_effect?ft[v.show_effect].stop(u,!0,!0):ft[v.show_effect].stop(u),M(),ft[v.show_effect].init(u,h)):T.show_on&&(v.show_effect&&T.show_effect&&ft[v.show_effect].stop(u,!0,!0),M(),ft[v.show_effect].init(u)):T.show_on&&(M(),ft[v.show_effect].start(u))}function Ll(u,f,h){return h={props:u,optionName:h},u.attachments.indexOf(f)<0&&(!f.conf.bind||f.conf.bind(f,h))&&(u.attachments.push(f),f.boundTargets.push(h),1)}function gs(u,f,h){var p=u.attachments.indexOf(f);-1<p&&u.attachments.splice(p,1),f.boundTargets.some(function(_,v){return _.props===u&&(f.conf.unbind&&f.conf.unbind(f,_),p=v,!0)})&&(f.boundTargets.splice(p,1),h||ii(function(){f.boundTargets.length||is(f)}))}function ps(u,f){var h,p,_,v,T,M,A,Z,L,G,O,x,S,F,k,P=u.options,N={};function I(C,H,Q,V,se){var ae={};return Q?null!=V?(ae.container=C[Q],ae.key=V):(ae.container=C,ae.key=Q):(ae.container=C,ae.key=H),ae.default=se,ae.acceptsAuto=null==ae.default,ae}function ue(C,H,Q,V,se,ae,De){var Ze,Te,Ge;return De=I(C,Q,se,ae,De),null!=H[Q]&&(Te=(H[Q]+"").toLowerCase())&&(De.acceptsAuto&&Te===ht||(Ge=V[Te]))&&Ge!==De.container[De.key]&&(De.container[De.key]=Ge,Ze=!0),null!=De.container[De.key]||De.acceptsAuto||(De.container[De.key]=De.default,Ze=!0),Ze}function j(C,H,Q,V,se,ae,X,Ze,Te){var Ge,De,ye,ge;if(X=I(C,Q,se,ae,X),!V){if(null==X.default)throw new Error("Invalid `type`: "+Q);V=typeof X.default}return null!=H[Q]&&(X.acceptsAuto&&(H[Q]+"").toLowerCase()===ht||(ye=De=H[Q],("number"===(ge=V)?Jt(ye):typeof ye===ge)&&(De=Te&&"string"===V&&De?De.trim():De,1)&&(!Ze||Ze(De))))&&De!==X.container[X.key]&&(X.container[X.key]=De,Ge=!0),null!=X.container[X.key]||X.acceptsAuto||(X.container[X.key]=X.default,Ge=!0),Ge}if(f=f||{},["start","end"].forEach(function(C,H){var Q=f[C],V=!1;if(Q&&(Mi(Q)||(V=Ii(Q,"anchor")))&&Q!==P.anchorSE[H]){if(!1!==u.optionIsAttach.anchorSE[H]&&gs(u,Ft[P.anchorSE[H]._id]),V&&!Ll(u,Ft[Q._id],C))throw new Error("Can't bind attachment");P.anchorSE[H]=Q,u.optionIsAttach.anchorSE[H]=V,h=N.position=!0}}),!P.anchorSE[0]||!P.anchorSE[1]||P.anchorSE[0]===P.anchorSE[1])throw new Error("`start` and `end` are required.");function R(C){var H=T.appendChild(F.createElementNS(ke,"mask"));return H.id=C,H.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[H.x,H.y,H.width,H.height].forEach(function(Q){Q.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),H}function ee(C){var H=T.appendChild(F.createElementNS(ke,"marker"));return H.id=C,H.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,H.viewBox.baseVal||H.setAttribute("viewBox","0 0 0 0"),H}function $(C){return[C.width,C.height].forEach(function(H){H.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),C}h&&(O=function(C,H){var Q,V;if(!(C=Ks(C))||!(Q=Ks(H)))throw new Error("Cannot get frames.");return C.length&&Q.length&&(C.reverse(),Q.reverse(),C.some(function(se){return Q.some(function(ae){return ae===se&&(V=ae.contentWindow,!0)})})),V||window}(!1!==u.optionIsAttach.anchorSE[0]?Ft[P.anchorSE[0]._id].element:P.anchorSE[0],!1!==u.optionIsAttach.anchorSE[1]?Ft[P.anchorSE[1]._id].element:P.anchorSE[1]))!==u.baseWindow&&(S=(p=u).aplStats,F=(_=O).document,k=At+"-"+p._id,p.pathList={},nt(S,Gs),Object.keys(ot).forEach(function(C){var H=C+"_enabled";S[H]&&(ot[C].remove(p),S[H]=!1)}),p.baseWindow&&p.svg&&p.baseWindow.document.body.removeChild(p.svg),vd(p.baseWindow=_),p.bodyOffset=$n(_),p.svg=v=F.createElementNS(ke,"svg"),v.className.baseVal=At,v.viewBox.baseVal||v.setAttribute("viewBox","0 0 0 0"),p.defs=T=v.appendChild(F.createElementNS(ke,"defs")),p.linePath=A=T.appendChild(F.createElementNS(ke,"path")),A.id=Z=k+"-line-path",A.className.baseVal=At+"-line-path",wt&&(A.style.fill="none"),p.lineShape=A=T.appendChild(F.createElementNS(ke,"use")),A.id=L=k+"-line-shape",A.href.baseVal="#"+Z,(M=T.appendChild(F.createElementNS(ke,"g"))).id=G=k+"-caps",p.capsMaskAnchorSE=[0,1].map(function(){var C=M.appendChild(F.createElementNS(ke,"path"));return C.className.baseVal=At+"-caps-mask-anchor",C}),p.lineMaskMarkerIdSE=[k+"-caps-mask-marker-0",k+"-caps-mask-marker-1"],p.capsMaskMarkerSE=[0,1].map(function(C){return ee(p.lineMaskMarkerIdSE[C])}),p.capsMaskMarkerShapeSE=[0,1].map(function(C){return(C=p.capsMaskMarkerSE[C].appendChild(F.createElementNS(ke,"use"))).className.baseVal=At+"-caps-mask-marker-shape",C}),p.capsMaskLine=A=M.appendChild(F.createElementNS(ke,"use")),A.className.baseVal=At+"-caps-mask-line",A.href.baseVal="#"+L,p.maskBGRect=A=$(T.appendChild(F.createElementNS(ke,"rect"))),A.id=O=k+"-mask-bg-rect",A.className.baseVal=At+"-mask-bg-rect",wt&&(A.style.fill="white"),p.lineMask=$(R(p.lineMaskId=k+"-line-mask")),p.lineMaskBG=A=p.lineMask.appendChild(F.createElementNS(ke,"use")),A.href.baseVal="#"+O,p.lineMaskShape=A=p.lineMask.appendChild(F.createElementNS(ke,"use")),A.className.baseVal=At+"-line-mask-shape",A.href.baseVal="#"+Z,A.style.display="none",p.lineMaskCaps=A=p.lineMask.appendChild(F.createElementNS(ke,"use")),A.href.baseVal="#"+G,p.lineOutlineMask=$(R(_=k+"-line-outline-mask")),(A=p.lineOutlineMask.appendChild(F.createElementNS(ke,"use"))).href.baseVal="#"+O,p.lineOutlineMaskShape=A=p.lineOutlineMask.appendChild(F.createElementNS(ke,"use")),A.className.baseVal=At+"-line-outline-mask-shape",A.href.baseVal="#"+Z,p.lineOutlineMaskCaps=A=p.lineOutlineMask.appendChild(F.createElementNS(ke,"use")),A.href.baseVal="#"+G,p.face=v.appendChild(F.createElementNS(ke,"g")),p.lineFace=A=p.face.appendChild(F.createElementNS(ke,"use")),A.href.baseVal="#"+L,p.lineOutlineFace=A=p.face.appendChild(F.createElementNS(ke,"use")),A.href.baseVal="#"+L,A.style.mask="url(#"+_+")",A.style.display="none",p.plugMaskIdSE=[k+"-plug-mask-0",k+"-plug-mask-1"],p.plugMaskSE=[0,1].map(function(C){return R(p.plugMaskIdSE[C])}),p.plugMaskShapeSE=[0,1].map(function(C){return(C=p.plugMaskSE[C].appendChild(F.createElementNS(ke,"use"))).className.baseVal=At+"-plug-mask-shape",C}),x=[],p.plugOutlineMaskSE=[0,1].map(function(C){return R(x[C]=k+"-plug-outline-mask-"+C)}),p.plugOutlineMaskShapeSE=[0,1].map(function(C){return(C=p.plugOutlineMaskSE[C].appendChild(F.createElementNS(ke,"use"))).className.baseVal=At+"-plug-outline-mask-shape",C}),p.plugMarkerIdSE=[k+"-plug-marker-0",k+"-plug-marker-1"],p.plugMarkerSE=[0,1].map(function(C){return C=ee(p.plugMarkerIdSE[C]),wt&&(C.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),C}),p.plugMarkerShapeSE=[0,1].map(function(C){return p.plugMarkerSE[C].appendChild(F.createElementNS(ke,"g"))}),p.plugFaceSE=[0,1].map(function(C){return p.plugMarkerShapeSE[C].appendChild(F.createElementNS(ke,"use"))}),p.plugOutlineFaceSE=[0,1].map(function(C){var H=p.plugMarkerShapeSE[C].appendChild(F.createElementNS(ke,"use"));return H.style.mask="url(#"+x[C]+")",H.style.display="none",H}),p.plugsFace=A=p.face.appendChild(F.createElementNS(ke,"use")),A.className.baseVal=At+"-plugs-face",A.href.baseVal="#"+L,A.style.display="none",p.curStats.show_inAnim?(p.isShown=1,ft[S.show_effect].stop(p,!0)):p.isShown||(v.style.visibility="hidden"),F.body.appendChild(v),[0,1,2].forEach(function(Q){var H;(Q=p.options.labelSEM[Q])&&Ii(Q,"label")&&(H=Ft[Q._id]).conf.initSvg&&H.conf.initSvg(H,p)}),N.line=N.plug=N.lineOutline=N.plugOutline=N.faces=N.effect=!0),N.position=ue(P,f,"path",Tt,null,null,Kt.path)||N.position,N.position=ue(P,f,"startSocket",xi,"socketSE",0)||N.position,N.position=ue(P,f,"endSocket",xi,"socketSE",1)||N.position,[f.startSocketGravity,f.endSocketGravity].forEach(function(C,H){var Q,V,se=!1;null!=C&&(Array.isArray(C)?Jt(C[0])&&Jt(C[1])&&(se=[C[0],C[1]],Array.isArray(P.socketGravitySE[H])&&(Q=se).length===(V=P.socketGravitySE[H]).length&&Q.every(function(ae,Ie){return ae===V[Ie]})&&(se=!1)):((C+"").toLowerCase()===ht?se=null:Jt(C)&&0<=C&&(se=C),se===P.socketGravitySE[H]&&(se=!1)),!1!==se&&(P.socketGravitySE[H]=se,N.position=!0))}),N.line=j(P,f,"color",null,"lineColor",null,Kt.lineColor,null,!0)||N.line,N.line=j(P,f,"size",null,"lineSize",null,Kt.lineSize,function(C){return 0<C})||N.line,["startPlug","endPlug"].forEach(function(C,H){N.plug=ue(P,f,C,Hn,"plugSE",H,Kt.plugSE[H])||N.plug,N.plug=j(P,f,C+"Color","string","plugColorSE",H,null,null,!0)||N.plug,N.plug=j(P,f,C+"Size",null,"plugSizeSE",H,Kt.plugSizeSE[H],function(Q){return 0<Q})||N.plug}),N.lineOutline=j(P,f,"outline",null,"lineOutlineEnabled",null,Kt.lineOutlineEnabled)||N.lineOutline,N.lineOutline=j(P,f,"outlineColor",null,"lineOutlineColor",null,Kt.lineOutlineColor,null,!0)||N.lineOutline,N.lineOutline=j(P,f,"outlineSize",null,"lineOutlineSize",null,Kt.lineOutlineSize,function(C){return 0<C&&C<=.48})||N.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(C,H){N.plugOutline=j(P,f,C,null,"plugOutlineEnabledSE",H,Kt.plugOutlineEnabledSE[H])||N.plugOutline,N.plugOutline=j(P,f,C+"Color","string","plugOutlineColorSE",H,null,null,!0)||N.plugOutline,N.plugOutline=j(P,f,C+"Size",null,"plugOutlineSizeSE",H,Kt.plugOutlineSizeSE[H],function(Q){return 1<=Q})||N.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(C,H){var Q,V,se,ae=f[C],Ie=P.labelSEM[H]&&!u.optionIsAttach.labelSEM[H]?Ft[P.labelSEM[H]._id].text:P.labelSEM[H],Ze=!1;if((Q="string"==typeof ae)&&(ae=ae.trim()),(Q||ae&&(Ze=Ii(ae,"label")))&&ae!==Ie){if(P.labelSEM[H]&&(gs(u,Ft[P.labelSEM[H]._id]),P.labelSEM[H]=""),ae){if(Ze?(V=Ft[(se=ae)._id]).boundTargets.slice().forEach(function(Te){V.conf.removeOption(V,Te)}):se=new Lr(he.captionLabel,[ae]),!Ll(u,Ft[se._id],C))throw new Error("Can't bind attachment");P.labelSEM[H]=se}u.optionIsAttach.labelSEM[H]=Ze}}),Object.keys(ot).forEach(function(C){var H,Q,V=ot[C],se=C+"_enabled",ae=C+"_options";function Ie(Te){var Ge={};return V.optionsConf.forEach(function(De){var ye=De[0],ge=De[3];null==De[4]||Ge[ge]||(Ge[ge]=[]),("function"==typeof ye?ye:"id"===ye?ue:j).apply(null,[Ge,Te].concat(De.slice(1)))}),Ge}function Ze(Te){var Ge,De=C+"_animOptions";return Te.hasOwnProperty("animation")?ir(Te.animation)?Ge=u.curStats[De]=Zs(Te.animation,V.defaultAnimOptions):u.curStats[De]=(Ge=!!Te.animation)?Zs({},V.defaultAnimOptions):null:u.curStats[De]=(Ge=!!V.defaultEnabled)?Zs({},V.defaultAnimOptions):null,Ge}f.hasOwnProperty(C)&&(ir(H=f[C])?(u.curStats[se]=!0,Q=u.curStats[ae]=Ie(H),V.anim&&(u.curStats[ae].animation=Ze(H))):(Q=u.curStats[se]=!!H)&&(u.curStats[ae]=Ie({}),V.anim&&(u.curStats[ae].animation=Ze({}))),ni(Q,P[C])&&(P[C]=Q,N.effect=!0))}),en(u,N)}function _n(u,f,h){var p={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};nt(p.curStats,Gs),nt(p.aplStats,Gs),Object.keys(ot).forEach(function(_){var v=ot[_].stats;nt(p.curStats,v),nt(p.aplStats,v),p.options[_]=!1}),nt(p.curStats,xl),nt(p.aplStats,xl),p.curStats.show_effect=no,p.curStats.show_animOptions=Qt(ft[no].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++md}),p._id=this._id,Ut[this._id]=p,1===arguments.length&&(h=u,u=null),h=h||{},(u||f)&&(h=Qt(h),u&&(h.start=u),f&&(h.end=f)),p.isShown=p.aplStats.show_on=!h.hide,this.setOptions(h)}function Xs(u){return function(f){var h={};h[u]=f,this.setOptions(h)}}function Nl(u,f){var h,p={conf:u,curStats:{},aplStats:{},boundTargets:[]},_={};u.argOptions.every(function(v){return!(!f.length||("string"==typeof v.type?typeof f[0]!==v.type:"function"!=typeof v.type||!v.type(f[0]))||(_[v.optionName]=f.shift(),0))}),h=f.length&&ir(f[0])?Qt(f[0]):{},Object.keys(_).forEach(function(v){h[v]=_[v]}),u.stats&&(nt(p.curStats,u.stats),nt(p.aplStats,u.stats)),Object.defineProperty(this,"_id",{value:++yd}),Object.defineProperty(this,"isRemoved",{get:function(){return!Ft[this._id]}}),p._id=this._id,u.init&&!u.init(p,h)||(Ft[this._id]=p)}ot={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(u){return 0<u}],["type","gap","number",null,null,null,function(u){return 0<u}]],init:function(u){It(u,"apl_line_strokeWidth",ot.dash.update),u.lineFace.style.strokeDashoffset=0,ot.dash.update(u)},remove:function(u){var f=u.curStats;xt(u,"apl_line_strokeWidth",ot.dash.update),f.dash_animId&&(Pt.remove(f.dash_animId),f.dash_animId=null),u.lineFace.style.strokeDasharray="none",u.lineFace.style.strokeDashoffset=0,nt(u.aplStats,ot.dash.stats)},update:function(u){var f,h=u.curStats,p=u.aplStats,_=p.dash_options,v=!1;h.dash_len=_.len||2*p.line_strokeWidth,h.dash_gap=_.gap||p.line_strokeWidth,h.dash_maxOffset=h.dash_len+h.dash_gap,v=fe(u,p,"dash_len",h.dash_len)||v,(v=fe(u,p,"dash_gap",h.dash_gap)||v)&&(u.lineFace.style.strokeDasharray=p.dash_len+","+p.dash_gap),h.dash_animOptions?(v=fe(u,p,"dash_maxOffset",h.dash_maxOffset),p.dash_animOptions&&(v||ni(h.dash_animOptions,p.dash_animOptions))&&(h.dash_animId&&(f=Pt.stop(h.dash_animId),Pt.remove(h.dash_animId)),p.dash_animOptions=null),p.dash_animOptions||(h.dash_animId=Pt.add(function(T){return(1-T)*p.dash_maxOffset+"px"},function(T){u.lineFace.style.strokeDashoffset=T},h.dash_animOptions.duration,0,h.dash_animOptions.timing,!1,f),p.dash_animOptions=Qt(h.dash_animOptions))):p.dash_animOptions&&(h.dash_animId&&(Pt.remove(h.dash_animId),h.dash_animId=null),u.lineFace.style.strokeDashoffset=0,p.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(u){var f=u.baseWindow.document,h=u.defs,p=At+"-"+u._id+"-gradient";u.efc_gradient_gradient=h=h.appendChild(f.createElementNS(ke,"linearGradient")),h.id=p,h.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[h.x1,h.y1,h.x2,h.y2].forEach(function(_){_.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),u.efc_gradient_stopSE=[0,1].map(function(_){var v=u.efc_gradient_gradient.appendChild(f.createElementNS(ke,"stop"));try{v.offset.baseVal=_}catch(T){if(T.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw T;v.setAttribute("offset",_)}return v}),It(u,"cur_plug_colorSE",ot.gradient.update),It(u,"apl_path",ot.gradient.update),u.curStats.line_altColor=!0,u.lineFace.style.stroke="url(#"+p+")",ot.gradient.update(u)},remove:function(u){u.efc_gradient_gradient&&(u.defs.removeChild(u.efc_gradient_gradient),u.efc_gradient_gradient=u.efc_gradient_stopSE=null),xt(u,"cur_plug_colorSE",ot.gradient.update),xt(u,"apl_path",ot.gradient.update),u.curStats.line_altColor=!1,u.lineFace.style.stroke=u.curStats.line_color,nt(u.aplStats,ot.gradient.stats)},update:function(u){var f,h=u.curStats,p=u.aplStats,_=p.gradient_options,v=u.pathList.animVal||u.pathList.baseVal;[0,1].forEach(function(T){h.gradient_colorSE[T]=_.colorSE[T]||h.plug_colorSE[T]}),h.gradient_pointSE[0]={x:(f=v[0][0]).x,y:f.y},f=(v=v[v.length-1])[v.length-1],h.gradient_pointSE[1]={x:f.x,y:f.y},[0,1].forEach(function(T){var M;fe(u,p.gradient_colorSE,T,M=h.gradient_colorSE[T])&&(wt?(M=qs(M),u.efc_gradient_stopSE[T].style.stopColor=M[1],u.efc_gradient_stopSE[T].style.stopOpacity=M[0]):u.efc_gradient_stopSE[T].style.stopColor=M),["x","y"].forEach(function(A){(M=h.gradient_pointSE[T][A])!==p.gradient_pointSE[T][A]&&(u.efc_gradient_gradient[A+(T+1)].baseVal.value=p.gradient_pointSE[T][A]=M)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(u){return 0<=u}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(u){return 0<=u&&u<=1}]],init:function(u){var f,h,p,_,v=u.baseWindow.document,T=u.defs,M=At+"-"+u._id+"-dropShadow",A=(f=v,h=M,_={},"boolean"!=typeof Vs&&(Vs=!!window.SVGFEDropShadowElement&&!wt),_.elmsAppend=[_.elmFilter=v=f.createElementNS(ke,"filter")],v.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,v.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),v.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),v.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),v.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),v.id=h,Vs?(_.elmOffset=_.elmBlur=p=v.appendChild(f.createElementNS(ke,"feDropShadow")),_.styleFlood=p.style):(_.elmBlur=v.appendChild(f.createElementNS(ke,"feGaussianBlur")),_.elmOffset=p=v.appendChild(f.createElementNS(ke,"feOffset")),p.result.baseVal="offsetblur",p=v.appendChild(f.createElementNS(ke,"feFlood")),_.styleFlood=p.style,(p=v.appendChild(f.createElementNS(ke,"feComposite"))).in2.baseVal="offsetblur",p.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(p=v.appendChild(f.createElementNS(ke,"feMerge"))).appendChild(f.createElementNS(ke,"feMergeNode")),p.appendChild(f.createElementNS(ke,"feMergeNode")).in1.baseVal="SourceGraphic"),_);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(Z){u["efc_dropShadow_"+Z]=A[Z]}),A.elmsAppend.forEach(function(Z){T.appendChild(Z)}),u.face.setAttribute("filter","url(#"+M+")"),It(u,"new_edge4viewBox",ot.dropShadow.adjustEdge),ot.dropShadow.update(u)},remove:function(u){var f=u.defs;u.efc_dropShadow_elmsAppend&&(u.efc_dropShadow_elmsAppend.forEach(function(h){f.removeChild(h)}),u.efc_dropShadow_elmFilter=u.efc_dropShadow_elmOffset=u.efc_dropShadow_elmBlur=u.efc_dropShadow_styleFlood=u.efc_dropShadow_elmsAppend=null),xt(u,"new_edge4viewBox",ot.dropShadow.adjustEdge),en(u,{}),u.face.removeAttribute("filter"),nt(u.aplStats,ot.dropShadow.stats)},update:function(u){var f,h,p=u.curStats,_=u.aplStats,v=_.dropShadow_options;p.dropShadow_dx=f=v.dx,fe(u,_,"dropShadow_dx",f)&&(u.efc_dropShadow_elmOffset.dx.baseVal=f,h=!0),p.dropShadow_dy=f=v.dy,fe(u,_,"dropShadow_dy",f)&&(u.efc_dropShadow_elmOffset.dy.baseVal=f,h=!0),p.dropShadow_blur=f=v.blur,fe(u,_,"dropShadow_blur",f)&&(u.efc_dropShadow_elmBlur.setStdDeviation(f,f),h=!0),h&&en(u,{}),p.dropShadow_color=f=v.color,fe(u,_,"dropShadow_color",f)&&(u.efc_dropShadow_styleFlood.floodColor=f),p.dropShadow_opacity=f=v.opacity,fe(u,_,"dropShadow_opacity",f)&&(u.efc_dropShadow_styleFlood.floodOpacity=f)},adjustEdge:function(u,f){var h,p=u.curStats,_=u.aplStats;null!=p.dropShadow_dx&&((h={x1:f.x1-(h=3*p.dropShadow_blur)+p.dropShadow_dx,y1:f.y1-h+p.dropShadow_dy,x2:f.x2+h+p.dropShadow_dx,y2:f.y2+h+p.dropShadow_dy}).x1<f.x1&&(f.x1=h.x1),h.y1<f.y1&&(f.y1=h.y1),h.x2>f.x2&&(f.x2=h.x2),h.y2>f.y2&&(f.y2=h.y2),["x","y"].forEach(function(v){var T,M="dropShadow_"+v;p[M]=T=f[v+"1"],fe(u,_,M,T)&&(u.efc_dropShadow_elmFilter[v].baseVal.value=T)}))}}},Object.keys(ot).forEach(function(u){var f=ot[u],h=f.stats;h[u+"_enabled"]={iniValue:!1},h[u+"_options"]={hasProps:!0},f.anim&&(h[u+"_animOptions"]={},h[u+"_animId"]={})}),ft={none:{defaultAnimOptions:{},init:function(u,f){var h=u.curStats;h.show_animId&&(Pt.remove(h.show_animId),h.show_animId=null),ft.none.start(u,f)},start:function(u,f){ft.none.stop(u,!0)},stop:function(u,f,h){return h=h??u.aplStats.show_on,u.curStats.show_inAnim=!1,f&&Li(u,h),h?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(u,f){var h=u.curStats,p=u.aplStats;h.show_animId&&Pt.remove(h.show_animId),h.show_animId=Pt.add(function(_){return _},function(_,v){v?ft.fade.stop(u,!0):(u.svg.style.opacity=_+"",yn&&(mt(u,u.svg),Pl(u)))},p.show_animOptions.duration,1,p.show_animOptions.timing,null,!1),ft.fade.start(u,f)},start:function(u,f){var h,p=u.curStats;p.show_inAnim&&(h=Pt.stop(p.show_animId)),Li(u,1),p.show_inAnim=!0,Pt.start(p.show_animId,!u.aplStats.show_on,f??h)},stop:function(u,f,h){var p,_=u.curStats;return h=h??u.aplStats.show_on,p=_.show_inAnim?Pt.stop(_.show_animId):h?1:0,_.show_inAnim=!1,f&&(u.svg.style.opacity=h?"":"0",Li(u,h)),p}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(u,f){var h=u.curStats,p=u.aplStats,_=u.pathList.baseVal,v=Ml(_),T=v.segsLen,M=v.lenAll;h.show_animId&&Pt.remove(h.show_animId),h.show_animId=Pt.add(function(A){var Z,L,G,O=-1;if(0===A)L=[[_[0][0],_[0][0]]];else if(1===A)L=_;else{for(Z=M*A,L=[];Z>=T[++O];)L.push(_[O]),Z-=T[O];Z&&(2===(G=_[O]).length?L.push([G[0],fs(G[0],G[1],Z/T[O])]):(A=ri(G[0],G[1],G[2],G[3],Ys(G[0],G[1],G[2],G[3],Z)),L.push([G[0],A.fromP1,A.fromP2,A])))}return L},function(A,Z){Z?ft.draw.stop(u,!0):(u.pathList.animVal=A,en(u,{path:!0}))},p.show_animOptions.duration,1,p.show_animOptions.timing,null,!1),ft.draw.start(u,f)},start:function(u,f){var h,p=u.curStats;p.show_inAnim&&(h=Pt.stop(p.show_animId)),Li(u,1),p.show_inAnim=!0,It(u,"apl_position",ft.draw.update),Pt.start(p.show_animId,!u.aplStats.show_on,f??h)},stop:function(u,f,h){var p,_=u.curStats;return h=h??u.aplStats.show_on,p=_.show_inAnim?Pt.stop(_.show_animId):h?1:0,_.show_inAnim=!1,f&&(u.pathList.animVal=h?null:[[u.pathList.baseVal[0][0],u.pathList.baseVal[0][0]]],en(u,{path:!0}),Li(u,h)),p},update:function(u){xt(u,"apl_position",ft.draw.update),u.curStats.show_inAnim?ft.draw.init(u,ft.draw.stop(u)):u.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(u){var f=u[0],h=u[1],p=u[2];Object.defineProperty(_n.prototype,f,{get:function(){var _=null!=p?Ut[this._id].options[h][p]:h?Ut[this._id].options[h]:Ut[this._id].options[f];return null==_?ht:Qt(_)},set:Xs(f),enumerable:!0})}),[["path",Tt],["startSocket",xi,"socketSE",0],["endSocket",xi,"socketSE",1],["startPlug",Hn,"plugSE",0],["endPlug",Hn,"plugSE",1]].forEach(function(u){var f=u[0],h=u[1],p=u[2],_=u[3];Object.defineProperty(_n.prototype,f,{get:function(){var v,T=null!=_?Ut[this._id].options[p][_]:p?Ut[this._id].options[p]:Ut[this._id].options[f];return T?Object.keys(h).some(function(M){return h[M]===T&&(v=M,!0)})?v:new Error("It's broken"):ht},set:Xs(f),enumerable:!0})}),Object.keys(ot).forEach(function(u){var f=ot[u];Object.defineProperty(_n.prototype,u,{get:function(){var h,p,_=Ut[this._id].options[u];return ir(_)?(h=_,p=f.optionsConf.reduce(function(v,O){var M,A=O[0],Z=O[1],L=O[2],G=O[3],x=null!=(O=O[4])?h[G][O]:G?h[G]:h[Z];return v[Z]="id"===A?x?Object.keys(L).some(function(S){return L[S]===x&&(M=S,!0)})?M:new Error("It's broken"):ht:null==x?ht:Qt(x),v},{}),f.anim&&(p.animation=Qt(h.animation)),p):_},set:Xs(u),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(u,f){Object.defineProperty(_n.prototype,u,{get:function(){var h=Ut[this._id],p=h.options;return p.labelSEM[f]&&!h.optionIsAttach.labelSEM[f]?Ft[p.labelSEM[f]._id].text:p.labelSEM[f]||""},set:Xs(u),enumerable:!0})}),_n.prototype.setOptions=function(u){return ps(Ut[this._id],u),this},_n.prototype.position=function(){return en(Ut[this._id],{position:!0}),this},_n.prototype.remove=function(){var u=Ut[this._id],f=u.curStats;Object.keys(ot).forEach(function(h){f[h+="_animId"]&&Pt.remove(f[h])}),f.show_animId&&Pt.remove(f.show_animId),u.attachments.slice().forEach(function(h){gs(u,h)}),u.baseWindow&&u.svg&&u.baseWindow.document.body.removeChild(u.svg),delete Ut[this._id]},_n.prototype.show=function(u,f){return Br(Ut[this._id],!0,u,f),this},_n.prototype.hide=function(u,f){return Br(Ut[this._id],!1,u,f),this},is=function(u){u&&Ft[u._id]&&(u.boundTargets.slice().forEach(function(f){gs(f.props,u,!0)}),u.conf.remove&&u.conf.remove(u),delete Ft[u._id])},Nl.prototype.remove=function(){var u=this,f=Ft[u._id];f&&(f.boundTargets.slice().forEach(function(h){f.conf.removeOption(f,h)}),ii(function(){var h=Ft[u._id];h&&(console.error("LeaderLineAttachment was not removed by removeOption"),is(h))}))},Lr=Nl,window.LeaderLineAttachment=Lr,Ii=function(u,f){return u instanceof Lr&&(!(u.isRemoved||f&&Ft[u._id].conf.type!==f)||null)},he={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Mi}],init:function(u,f){return u.element=he.pointAnchor.checkElement(f.element),u.x=he.pointAnchor.parsePercent(f.x,!0)||[.5,!0],u.y=he.pointAnchor.parsePercent(f.y,!0)||[.5,!0],!0},removeOption:function(v,f){var h=f.props,p={},_=v.element;_===(v=h.options.anchorSE["start"===f.optionName?1:0])&&(_=v===document.body?new Lr(he.pointAnchor,[_]):document.body),p[f.optionName]=_,ps(h,p)},getBBoxNest:function(u,_){var h=Pi(u.element,_.baseWindow),p=h.width;return _=h.height,h.width=h.height=0,h.left=h.right=h.left+u.x[0]*(u.x[1]?p:1),h.top=h.bottom=h.top+u.y[0]*(u.y[1]?_:1),h},parsePercent:function(u,f){var h,p,_=!1;return Jt(u)?p=u:"string"==typeof u&&(h=gd.exec(u))&&h[2]&&(_=0!=(p=parseFloat(h[1])/100)),null!=p&&(f||0<=p)?[p,_]:null},checkElement:function(u){if(null==u)u=document.body;else if(!Mi(u))throw new Error("`element` must be Element");return u}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Mi},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(u,f){var h,p=[];return u.element=he.pointAnchor.checkElement(f.element),"string"==typeof f.color&&(u.color=f.color.trim()),"string"==typeof f.fillColor&&(u.fill=f.fillColor.trim()),Jt(f.size)&&0<=f.size&&(u.size=f.size),f.dash&&(u.dash=!0,Jt(f.dash.len)&&0<f.dash.len&&(u.dashLen=f.dash.len),Jt(f.dash.gap)&&0<f.dash.gap&&(u.dashGap=f.dash.gap)),"circle"===f.shape?u.shape=f.shape:"polygon"===f.shape&&Array.isArray(f.points)&&3<=f.points.length&&f.points.every(function(_){var v={};return!(!(v.x=he.pointAnchor.parsePercent(_[0],!0))||!(v.y=he.pointAnchor.parsePercent(_[1],!0))||(p.push(v),(v.x[1]||v.y[1])&&(u.hasRatio=!0),0))})?(u.shape=f.shape,u.points=p):(u.shape="rect",u.radius=Jt(f.radius)&&0<=f.radius?f.radius:0),"rect"!==u.shape&&"circle"!==u.shape||(u.x=he.pointAnchor.parsePercent(f.x,!0)||[-.05,!0],u.y=he.pointAnchor.parsePercent(f.y,!0)||[-.05,!0],u.width=he.pointAnchor.parsePercent(f.width)||[1.1,!0],u.height=he.pointAnchor.parsePercent(f.height)||[1.1,!0],(u.x[1]||u.y[1]||u.width[1]||u.height[1])&&(u.hasRatio=!0)),u.svg=f=(h=u.element.ownerDocument).createElementNS(ke,"svg"),f.className.baseVal=At+"-areaAnchor",f.viewBox.baseVal||f.setAttribute("viewBox","0 0 0 0"),u.path=f.appendChild(h.createElementNS(ke,"path")),u.path.style.fill=u.fill||"none",u.isShown=!1,f.style.visibility="hidden",h.body.appendChild(f),vd(h=h.defaultView),u.bodyOffset=$n(h),u.updateColor=function(){var v=u.aplStats,T=u.boundTargets.length?u.boundTargets[0].props.curStats:null;u.curStats.color=T=u.color||(T?T.line_color:Kt.lineColor),fe(u,v,"color",T)&&(u.path.style.stroke=T)},u.updateShow=function(){Li(u,u.boundTargets.some(function(_){return!0===_.props.isShown}))},!0},bind:function(u,f){return f=f.props,u.color||It(f,"cur_line_color",u.updateColor),It(f,"svgShow",u.updateShow),ii(function(){u.updateColor(),u.updateShow()}),!0},unbind:function(u,f){f=f.props,u.color||xt(f,"cur_line_color",u.updateColor),xt(f,"svgShow",u.updateShow),1<u.boundTargets.length&&ii(function(){u.updateColor(),u.updateShow(),he.areaAnchor.update(u)&&u.boundTargets.forEach(function(h){en(h.props,{position:!0})})})},removeOption:function(u,f){he.pointAnchor.removeOption(u,f)},remove:function(u){u.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),u.boundTargets.forEach(function(f){he.areaAnchor.unbind(u,f)})),u.svg.parentNode.removeChild(u.svg)},getStrokeWidth:function(u,f){return he.areaAnchor.update(u)&&1<u.boundTargets.length&&ii(function(){u.boundTargets.forEach(function(h){h.props!==f&&en(h.props,{position:!0})})}),u.curStats.strokeWidth},getPathData:function(u,f){var h=Pi(u.element,f.baseWindow);return xn(u.curStats.pathListRel,function(p){p.x+=h.left,p.y+=h.top})},getBBoxNest:function(u,f){return f=Pi(u.element,f.baseWindow),{left:(u=u.curStats.bBoxRel).left+f.left,top:u.top+f.top,right:u.right+f.left,bottom:u.bottom+f.top,width:u.width,height:u.height}},update:function(u){var f,h,p,_,v,T,M,A,Z,L,G,O,x,S,F,k,P=u.curStats,N=u.aplStats,I=u.boundTargets.length?u.boundTargets[0].props.curStats:null,ue={};if(ue.strokeWidth=fe(u,P,"strokeWidth",null!=u.size?u.size:I?I.line_strokeWidth:Kt.lineSize),f=ds(u.element),ue.elementWidth=fe(u,P,"elementWidth",f.width),ue.elementHeight=fe(u,P,"elementHeight",f.height),ue.elementLeft=fe(u,P,"elementLeft",f.left),ue.elementTop=fe(u,P,"elementTop",f.top),ue.strokeWidth||u.hasRatio&&(ue.elementWidth||ue.elementHeight)){switch(u.shape){case"rect":(O={left:u.x[0]*(u.x[1]?f.width:1),top:u.y[0]*(u.y[1]?f.height:1),width:u.width[0]*(u.width[1]?f.width:1),height:u.height[0]*(u.height[1]?f.height:1)}).right=O.left+O.width,O.bottom=O.top+O.height,G=P.strokeWidth/2,A=(M=Math.min(O.width,O.height))?M/2*Math.SQRT2+G:0,L=(M=u.radius?u.radius<=A?u.radius:A:0)?(A=(M-G)/Math.SQRT2,L=[{x:O.left-(Z=M-A),y:O.top+A},{x:O.left+A,y:O.top-Z},{x:O.right-A,y:O.top-Z},{x:O.right+Z,y:O.top+A},{x:O.right+Z,y:O.bottom-A},{x:O.right-A,y:O.bottom+Z},{x:O.left+A,y:O.bottom+Z},{x:O.left-Z,y:O.bottom-A}],P.pathListRel=[[L[0],{x:L[0].x,y:L[0].y-(G=M*to)},{x:L[1].x-G,y:L[1].y},L[1]]],L[1].x!==L[2].x&&P.pathListRel.push([L[1],L[2]]),P.pathListRel.push([L[2],{x:L[2].x+G,y:L[2].y},{x:L[3].x,y:L[3].y-G},L[3]]),L[3].y!==L[4].y&&P.pathListRel.push([L[3],L[4]]),P.pathListRel.push([L[4],{x:L[4].x,y:L[4].y+G},{x:L[5].x+G,y:L[5].y},L[5]]),L[5].x!==L[6].x&&P.pathListRel.push([L[5],L[6]]),P.pathListRel.push([L[6],{x:L[6].x-G,y:L[6].y},{x:L[7].x,y:L[7].y+G},L[7]]),L[7].y!==L[0].y&&P.pathListRel.push([L[7],L[0]]),P.pathListRel.push([]),[{x:O.left-(Z=M-A+P.strokeWidth/2),y:O.top-Z},{x:O.right+Z,y:O.bottom+Z}]):(P.pathListRel=[[(L=[{x:O.left-(Z=P.strokeWidth/2),y:O.top-Z},{x:O.right+Z,y:O.bottom+Z}])[0],{x:L[1].x,y:L[0].y}],[{x:L[1].x,y:L[0].y},L[1]],[L[1],{x:L[0].x,y:L[1].y}],[]],[{x:O.left-P.strokeWidth,y:O.top-P.strokeWidth},{x:O.right+P.strokeWidth,y:O.bottom+P.strokeWidth}]),P.bBoxRel={left:L[0].x,top:L[0].y,right:L[1].x,bottom:L[1].y,width:L[1].x-L[0].x,height:L[1].y-L[0].y};break;case"circle":(T={left:u.x[0]*(u.x[1]?f.width:1),top:u.y[0]*(u.y[1]?f.height:1),width:u.width[0]*(u.width[1]?f.width:1),height:u.height[0]*(u.height[1]?f.height:1)}).width||T.height||(T.width=T.height=10),T.width||(T.width=T.height),T.height||(T.height=T.width),T.right=T.left+T.width,T.bottom=T.top+T.height,G=T.left+T.width/2,M=T.top+T.height/2,v=P.strokeWidth/2,Z=T.height/2,O=(A=T.width/2)*Math.SQRT2+v,L=Z*Math.SQRT2+v,P.pathListRel=[[(v=[{x:G-O,y:M},{x:G,y:M-L},{x:G+O,y:M},{x:G,y:M+L}])[0],{x:v[0].x,y:v[0].y-(G=L*to)},{x:v[1].x-(M=O*to),y:v[1].y},v[1]],[v[1],{x:v[1].x+M,y:v[1].y},{x:v[2].x,y:v[2].y-G},v[2]],[v[2],{x:v[2].x,y:v[2].y+G},{x:v[3].x+M,y:v[3].y},v[3]],[v[3],{x:v[3].x-M,y:v[3].y},{x:v[0].x,y:v[0].y+G},v[0]],[]],P.bBoxRel={left:(v=[{x:T.left-(A=O-A+P.strokeWidth/2),y:T.top-(Z=L-Z+P.strokeWidth/2)},{x:T.right+A,y:T.bottom+Z}])[0].x,top:v[0].y,right:v[1].x,bottom:v[1].y,width:v[1].x-v[0].x,height:v[1].y-v[0].y};break;case"polygon":u.points.forEach(function(ee){var R=ee.x[0]*(ee.x[1]?f.width:1);ee=ee.y[0]*(ee.y[1]?f.height:1),p?(R<p.left&&(p.left=R),R>p.right&&(p.right=R),ee<p.top&&(p.top=ee),ee>p.bottom&&(p.bottom=ee)):p={left:R,right:R,top:ee,bottom:ee},_?P.pathListRel.push([_,{x:R,y:ee}]):P.pathListRel=[],_={x:R,y:ee}}),P.pathListRel.push([]),P.bBoxRel={left:(v=[{x:p.left-(v=P.strokeWidth/2),y:p.top-v},{x:p.right+v,y:p.bottom+v}])[0].x,top:v[0].y,right:v[1].x,bottom:v[1].y,width:v[1].x-v[0].x,height:v[1].y-v[0].y}}ue.pathListRel=ue.bBoxRel=!0}return(ue.pathListRel||ue.elementLeft||ue.elementTop)&&(P.pathData=xn(P.pathListRel,function(j){j.x+=f.left,j.y+=f.top})),fe(u,N,"strokeWidth",h=P.strokeWidth)&&(u.path.style.strokeWidth=h+"px"),Qs(h=P.pathData,N.pathData)&&(u.path.setPathData(h),N.pathData=h,ue.pathData=!0),u.dash&&(!ue.pathData&&(!ue.strokeWidth||u.dashLen&&u.dashGap)||(P.dashLen=u.dashLen||2*P.strokeWidth,P.dashGap=u.dashGap||P.strokeWidth),ue.dash=fe(u,N,"dashLen",P.dashLen)||ue.dash,ue.dash=fe(u,N,"dashGap",P.dashGap)||ue.dash,ue.dash&&(u.path.style.strokeDasharray=N.dashLen+","+N.dashGap)),S=N.viewBoxBBox,F=u.svg.viewBox.baseVal,k=u.svg.style,(x=P.viewBoxBBox).x=P.bBoxRel.left+f.left,x.y=P.bBoxRel.top+f.top,x.width=P.bBoxRel.width,x.height=P.bBoxRel.height,["x","y","width","height"].forEach(function(j){(h=x[j])!==S[j]&&(F[j]=S[j]=h,k[Mt[j]]=h+("x"===j||"y"===j?u.bodyOffset[j]:0)+"px")}),ue.strokeWidth||ue.pathListRel||ue.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Mi},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(u,f){var h,p,_,v,T,M,A,Z,L,G=he.mouseHoverAnchor,O={};if(u.element=he.pointAnchor.checkElement(f.element),!((Z=(A=u.element).ownerDocument)&&(L=Z.defaultView)&&L.HTMLElement&&A instanceof L.HTMLElement))throw new Error("`element` must be HTML element");return G.style.backgroundSize=G.backgroundSize.width+"px "+G.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(x){var S=G[x];u[x]=Object.keys(S).reduce(function(F,k){return F[k]=S[k],F},{})}),"inline"===(h=u.element.ownerDocument.defaultView.getComputedStyle(u.element,"")).display?u.style.display="inline-block":"none"===h.display&&(u.style.display="block"),he.mouseHoverAnchor.dirKeys.forEach(function(F){var S=F[0];F="padding"+F[1],parseFloat(h[F])<G.padding[S]&&(u.style[F]=G.padding[S]+"px")}),u.style.display&&(_=u.element.style.display,u.element.style.display=u.style.display),he.mouseHoverAnchor.dirKeys.forEach(function(x){u.style[x="padding"+x[1]]&&(O[x]=u.element.style[x],u.element.style[x]=u.style[x])}),(A=u.element.getBoundingClientRect()).height<G.minHeight&&(yn?(L=G.minHeight,"content-box"===h.boxSizing?L-=parseFloat(h.borderTopWidth)+parseFloat(h.borderBottomWidth)+parseFloat(h.paddingTop)+parseFloat(h.paddingBottom):"padding-box"===h.boxSizing&&(L-=parseFloat(h.borderTopWidth)+parseFloat(h.borderBottomWidth)),u.style.height=L+"px"):u.style.height=parseFloat(h.height)+(G.minHeight-A.height)+"px"),u.style.backgroundPosition=wt?A.width-G.backgroundSize.width-G.backgroundPosition.right+"px "+G.backgroundPosition.top+"px":"right "+G.backgroundPosition.right+"px top "+G.backgroundPosition.top+"px",u.style.display&&(u.element.style.display=_),he.mouseHoverAnchor.dirKeys.forEach(function(x){u.style[x="padding"+x[1]]&&(u.element.style[x]=O[x])}),["style","hoverStyle"].forEach(function(x){var S=u[x],F=f[x];ir(F)&&Object.keys(F).forEach(function(k){"string"==typeof F[k]||Jt(F[k])?S[k]=F[k]:null==F[k]&&delete S[k]})}),"function"==typeof f.onSwitch&&(M=f.onSwitch),f.showEffectName&&ft[f.showEffectName]&&(u.showEffectName=v=f.showEffectName),T=f.animOptions,u.elmStyle=p=u.element.style,u.mouseenter=function(x){u.hoverStyleSave=G.getStyles(p,Object.keys(u.hoverStyle)),G.setStyles(p,u.hoverStyle),u.boundTargets.forEach(function(S){Br(S.props,!0,v,T)}),M&&M(x)},u.mouseleave=function(x){G.setStyles(p,u.hoverStyleSave),u.boundTargets.forEach(function(S){Br(S.props,!1,v,T)}),M&&M(x)},!0},bind:function(u,f){var h,p,_,v,T;return f.props.svg?he.mouseHoverAnchor.llShow(f.props,!1,u.showEffectName):ii(function(){he.mouseHoverAnchor.llShow(f.props,!1,u.showEffectName)}),u.enabled||(u.styleSave=he.mouseHoverAnchor.getStyles(u.elmStyle,Object.keys(u.style)),he.mouseHoverAnchor.setStyles(u.elmStyle,u.style),u.removeEventListener=(p=u.mouseenter,_=u.mouseleave,"onmouseenter"in(h=u.element)&&"onmouseleave"in h?(h.addEventListener("mouseenter",p,!1),h.addEventListener("mouseleave",_,!1),function(){h.removeEventListener("mouseenter",p,!1),h.removeEventListener("mouseleave",_,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),h.addEventListener("mouseover",v=function(M){M.relatedTarget&&(M.relatedTarget===this||this.compareDocumentPosition(M.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||p.apply(this,arguments)}),h.addEventListener("mouseout",T=function(M){M.relatedTarget&&(M.relatedTarget===this||this.compareDocumentPosition(M.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||_.apply(this,arguments)}),function(){h.removeEventListener("mouseover",v,!1),h.removeEventListener("mouseout",T,!1)})),u.enabled=!0),!0},unbind:function(u,f){u.enabled&&u.boundTargets.length<=1&&(u.removeEventListener(),he.mouseHoverAnchor.setStyles(u.elmStyle,u.styleSave),u.enabled=!1),he.mouseHoverAnchor.llShow(f.props,!0,u.showEffectName)},removeOption:function(u,f){he.pointAnchor.removeOption(u,f)},remove:function(u){u.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),u.boundTargets.forEach(function(f){he.mouseHoverAnchor.unbind(u,f)}))},getBBoxNest:function(u,f){return Pi(u.element,f.baseWindow)},llShow:function(u,f,h){ft[h||u.curStats.show_effect].stop(u,!0,f),u.aplStats.show_on=f},getStyles:function(u,f){return f.reduce(function(h,p){return h[p]=u[p],h},{})},setStyles:function(u,f){Object.keys(f).forEach(function(h){u[h]=f[h]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(u,f){return"string"==typeof f.text&&(u.text=f.text.trim()),!!u.text&&("string"==typeof f.color&&(u.color=f.color.trim()),u.outlineColor="string"==typeof f.outlineColor?f.outlineColor.trim():"#fff",Array.isArray(f.offset)&&Jt(f.offset[0])&&Jt(f.offset[1])&&(u.offset={x:f.offset[0],y:f.offset[1]}),Jt(f.lineOffset)&&(u.lineOffset=f.lineOffset),he.captionLabel.textStyleProps.forEach(function(h){null!=f[h]&&(u[h]=f[h])}),u.updateColor=function(h){he.captionLabel.updateColor(u,h)},u.updateSocketXY=function(h){var p,_=u.curStats,v=u.aplStats,T=h.curStats,M=T.position_socketXYSE[u.socketIndex];null!=M.x&&(u.offset?(_.x=M.x+u.offset.x,_.y=M.y+u.offset.y):(p=u.height/2,h=Math.max(T.attach_plugSideLenSE[u.socketIndex]||0,T.line_strokeWidth/2),T=T.position_socketXYSE[u.socketIndex?0:1],M.socketId===br||M.socketId===an?(_.x=M.socketId===br?M.x-p-u.width:M.x+p,_.y=T.y<M.y?M.y+h+p:M.y-h-p-u.height):(_.x=T.x<M.x?M.x+h+p:M.x-h-p-u.width,_.y=M.socketId===rr?M.y-p-u.height:M.y+p)),fe(u,v,"x",p=_.x)&&(u.elmPosition.x.baseVal.getItem(0).value=p),fe(u,v,"y",p=_.y)&&(u.elmPosition.y.baseVal.getItem(0).value=p+u.height))},u.updatePath=function(v){var p=u.curStats,_=u.aplStats;(v=v.pathList.animVal||v.pathList.baseVal)&&(v=he.captionLabel.getMidPoint(v,u.lineOffset),p.x=v.x-u.width/2,p.y=v.y-u.height/2,fe(u,_,"x",v=p.x)&&(u.elmPosition.x.baseVal.getItem(0).value=v),fe(u,_,"y",v=p.y)&&(u.elmPosition.y.baseVal.getItem(0).value=v+u.height))},u.updateShow=function(h){he.captionLabel.updateShow(u,h)},wt&&(u.adjustEdge=function(h,p){var _=u.curStats;null!=_.x&&he.captionLabel.adjustEdge(p,{x:_.x,y:_.y,width:u.width,height:u.height},u.strokeWidth/2)}),!0)},updateColor:function(u,_){var p=u.aplStats;_=_.curStats,u.curStats.color=_=u.color||_.line_color,fe(u,p,"color",_)&&(u.styleFill.fill=_)},updateShow:function(u,f){(f=!0===f.isShown)!==u.isShown&&(u.styleShow.visibility=f?"":"hidden",u.isShown=f)},adjustEdge:function(u,f,h){(h={x1:f.x-h,y1:f.y-h,x2:f.x+f.width+h,y2:f.y+f.height+h}).x1<u.x1&&(u.x1=h.x1),h.y1<u.y1&&(u.y1=h.y1),h.x2>u.x2&&(u.x2=h.x2),h.y2>u.y2&&(u.y2=h.y2)},newText:function(u,f,h,p,_){var v,T,M=f.createElementNS(ke,"text");return M.textContent=u,[M.x,M.y].forEach(function(A){var Z=h.createSVGLength();Z.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),A.baseVal.initialize(Z)}),"boolean"!=typeof ei&&(ei="paintOrder"in M.style),_&&!ei?(v=f.createElementNS(ke,"defs"),M.id=p,v.appendChild(M),(T=(u=f.createElementNS(ke,"g")).appendChild(f.createElementNS(ke,"use"))).href.baseVal="#"+p,(f=u.appendChild(f.createElementNS(ke,"use"))).href.baseVal="#"+p,(T=T.style).strokeLinejoin="round",{elmPosition:M,styleText:M.style,styleFill:f.style,styleStroke:T,styleShow:u.style,elmsAppend:[v,u]}):(T=M.style,_&&(T.strokeLinejoin="round",T.paintOrder="stroke"),{elmPosition:M,styleText:T,styleFill:T,styleStroke:_?T:null,styleShow:T,elmsAppend:[M]})},getMidPoint:function(u,f){var h,p,v,_=(v=Ml(u)).segsLen,T=-1,M=(v=v.lenAll)/2+(f||0);if(M<=0)return 2===(h=u[0]).length?fs(h[0],h[1],0):ri(h[0],h[1],h[2],h[3],0);if(v<=M)return 2===(h=u[u.length-1]).length?fs(h[0],h[1],1):ri(h[0],h[1],h[2],h[3],1);for(p=[];M>_[++T];)p.push(u[T]),M-=_[T];return 2===(h=u[T]).length?fs(h[0],h[1],M/_[T]):ri(h[0],h[1],h[2],h[3],Ys(h[0],h[1],h[2],h[3],M))},initSvg:function(u,f){var h,p,_=he.captionLabel.newText(u.text,f.baseWindow.document,f.svg,At+"-captionLabel-"+u._id,u.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(v){u[v]=_[v]}),u.isShown=!1,u.styleShow.visibility="hidden",he.captionLabel.textStyleProps.forEach(function(v){null!=u[v]&&(_.styleText[v]=u[v])}),_.elmsAppend.forEach(function(v){f.svg.appendChild(v)}),h=_.elmPosition.getBBox(),u.width=h.width,u.height=h.height,u.outlineColor&&(_.styleStroke.strokeWidth=(p=10<(p=h.height/9)?10:p<2?2:p)+"px",_.styleStroke.stroke=u.outlineColor),u.strokeWidth=p||0,nt(u.aplStats,he.captionLabel.stats),u.updateColor(f),u.refSocketXY?u.updateSocketXY(f):u.updatePath(f),wt&&en(f,{}),u.updateShow(f)},bind:function(u,f){var h=f.props;return u.color||It(h,"cur_line_color",u.updateColor),(u.refSocketXY="startLabel"===f.optionName||"endLabel"===f.optionName)?(u.socketIndex="startLabel"===f.optionName?0:1,It(h,"apl_position",u.updateSocketXY),u.offset||(It(h,"cur_attach_plugSideLenSE",u.updateSocketXY),It(h,"cur_line_strokeWidth",u.updateSocketXY))):It(h,"apl_path",u.updatePath),It(h,"svgShow",u.updateShow),wt&&It(h,"new_edge4viewBox",u.adjustEdge),he.captionLabel.initSvg(u,h),!0},unbind:function(u,f){var h=f.props;u.elmsAppend&&(u.elmsAppend.forEach(function(p){h.svg.removeChild(p)}),u.elmPosition=u.styleFill=u.styleShow=u.elmsAppend=null),nt(u.curStats,he.captionLabel.stats),nt(u.aplStats,he.captionLabel.stats),u.color||xt(h,"cur_line_color",u.updateColor),u.refSocketXY?(xt(h,"apl_position",u.updateSocketXY),u.offset||(xt(h,"cur_attach_plugSideLenSE",u.updateSocketXY),xt(h,"cur_line_strokeWidth",u.updateSocketXY))):xt(h,"apl_path",u.updatePath),xt(h,"svgShow",u.updateShow),wt&&(xt(h,"new_edge4viewBox",u.adjustEdge),en(h,{}))},removeOption:function(u,f){var h=f.props,p={};p[f.optionName]="",ps(h,p)},remove:function(u){u.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),u.boundTargets.forEach(function(f){he.captionLabel.unbind(u,f)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(u,f){return"string"==typeof f.text&&(u.text=f.text.trim()),!!u.text&&("string"==typeof f.color&&(u.color=f.color.trim()),u.outlineColor="string"==typeof f.outlineColor?f.outlineColor.trim():"#fff",Jt(f.lineOffset)&&(u.lineOffset=f.lineOffset),he.captionLabel.textStyleProps.forEach(function(h){null!=f[h]&&(u[h]=f[h])}),u.updateColor=function(h){he.captionLabel.updateColor(u,h)},u.updatePath=function(h){var _=u.aplStats,v=h.curStats,T=h.pathList.animVal||h.pathList.baseVal;T&&(u.curStats.pathData=v=he.pathLabel.getOffsetPathData(T,v.line_strokeWidth/2+u.strokeWidth/2+u.height/4,1.25*u.height),Qs(v,_.pathData)&&(u.elmPath.setPathData(v),_.pathData=v,u.bBox=u.elmPosition.getBBox(),u.updateStartOffset(h)))},u.updateStartOffset=function(h){var p,_,v=u.curStats,T=u.aplStats,M=h.curStats;v.pathData&&(2===u.semIndex&&!u.lineOffset||(_=v.pathData.reduce(function(A,Z){var L,G=Z.values;switch(Z.type){case"M":p={x:G[0],y:G[1]};break;case"L":L={x:G[0],y:G[1]},p&&(A+=In(p,L)),p=L;break;case"C":L={x:G[4],y:G[5]},p&&(A+=Ri(p,{x:G[0],y:G[1]},{x:G[2],y:G[3]},L)),p=L}return A},0),h=0===u.semIndex?0:1===u.semIndex?_:_/2,2!==u.semIndex&&(M=Math.max(M.attach_plugBackLenSE[u.semIndex]||0,M.line_strokeWidth/2)+u.strokeWidth/2+u.height/4,h=(h+=0===u.semIndex?M:-M)<0?0:_<h?_:h),u.lineOffset&&(h=(h+=u.lineOffset)<0?0:_<h?_:h),v.startOffset=h,fe(u,T,"startOffset",h)&&(u.elmOffset.startOffset.baseVal.value=h)))},u.updateShow=function(h){he.captionLabel.updateShow(u,h)},wt&&(u.adjustEdge=function(h,p){u.bBox&&he.captionLabel.adjustEdge(p,u.bBox,u.strokeWidth/2)}),!0)},getOffsetPathData:function(u,f,h){var p,_,v=[];function T(M,A){return Math.abs(M.x-A.x)<3&&Math.abs(M.y-A.y)<3}return u.forEach(function(M){var A,Z,L,G,O,x,S,F,k,P,N;2===M.length?(F=M[0],k=M[1],P=f,N=Math.atan2(F.y-k.y,k.x-F.x)+.5*Math.PI,A=[{x:F.x+Math.cos(N)*P,y:F.y+Math.sin(N)*P*-1},{x:k.x+Math.cos(N)*P,y:k.y+Math.sin(N)*P*-1}],p?(L=p.points,0<=(S=Math.atan2(L[1].y-L[0].y,L[0].x-L[1].x)-Math.atan2(M[0].y-M[1].y,M[1].x-M[0].x))&&S<=Math.PI?Z={type:"line",points:A,inside:!0}:(O=hs(L[0],L[1],f),G=hs(A[1],A[0],f),N=(k=O).x-(x=L[0]).x,F=(-(P=k.y-x.y)*(x.x-G.x)+N*(x.y-G.y))/(-(S=(F=A[1]).x-G.x)*P+N*(k=F.y-G.y)),k=(S*(x.y-G.y)-k*(x.x-G.x))/(-S*P+N*k),Z=(P=0<=F&&F<=1&&0<=k&&k<=1?{x:x.x+k*N,y:x.y+k*P}:null)?{type:"line",points:[L[1]=P,A[1]]}:(L[1]=T(G,O)?G:O,{type:"line",points:[G,A[1]]}),p.len=In(L[0],L[1]))):Z={type:"line",points:A},Z.len=In(Z.points[0],Z.points[1]),v.push(p=Z)):(v.push({type:"cubic",points:function(I,ue,j,R,ee,$){for(var C,H,Q=Ri(I,ue,j,R)/16,V=1/(16<ee?ee/16*Q:Q),se=[],ae=0;H=(90-(C=ri(I,ue,j,R,ae)).angle)*(Math.PI/180),se.push({x:C.x+Math.cos(H)*ee,y:C.y+Math.sin(H)*ee*-1}),!(1<=ae);)1<(ae+=V)&&(ae=1);return se}(M[0],M[1],M[2],M[3],f)}),p=null)}),p=null,v.forEach(function(M){var A;p="line"===M.type?(M.inside&&(p.len>f?((A=p.points)[1]=hs(A[0],A[1],-f),p.len=In(A[0],A[1])):(p.points=null,p.len=0),M.len>f+h?((A=M.points)[0]=hs(A[1],A[0],-(f+h)),M.len=In(A[0],A[1])):(M.points=null,M.len=0)),M):null}),v.reduce(function(M,A){var Z=A.points;return Z&&(_&&T(Z[0],_)||M.push({type:"M",values:[Z[0].x,Z[0].y]}),"line"===A.type?M.push({type:"L",values:[Z[1].x,Z[1].y]}):(Z.shift(),Z.forEach(function(L){M.push({type:"L",values:[L.x,L.y]})})),_=Z[Z.length-1]),M},[])},newText:function(u,f,h,p){var _,v,T,M,A=f.createElementNS(ke,"defs"),Z=A.appendChild(f.createElementNS(ke,"path"));return Z.id=_=h+"-path",(T=(v=f.createElementNS(ke,"text")).appendChild(f.createElementNS(ke,"textPath"))).href.baseVal="#"+_,T.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),T.textContent=u,"boolean"!=typeof ei&&(ei="paintOrder"in v.style),p&&!ei?(v.id=u=h+"-text",A.appendChild(v),(M=(h=f.createElementNS(ke,"g")).appendChild(f.createElementNS(ke,"use"))).href.baseVal="#"+u,(f=h.appendChild(f.createElementNS(ke,"use"))).href.baseVal="#"+u,(M=M.style).strokeLinejoin="round",{elmPosition:v,elmPath:Z,elmOffset:T,styleText:v.style,styleFill:f.style,styleStroke:M,styleShow:h.style,elmsAppend:[A,h]}):(M=v.style,p&&(M.strokeLinejoin="round",M.paintOrder="stroke"),{elmPosition:v,elmPath:Z,elmOffset:T,styleText:M,styleFill:M,styleStroke:p?M:null,styleShow:M,elmsAppend:[A,v]})},initSvg:function(u,f){var h,p,_,v=he.pathLabel.newText(u.text,f.baseWindow.document,At+"-pathLabel-"+u._id,u.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(T){u[T]=v[T]}),u.isShown=!1,u.styleShow.visibility="hidden",he.captionLabel.textStyleProps.forEach(function(T){null!=u[T]&&(v.styleText[T]=u[T])}),v.elmsAppend.forEach(function(T){f.svg.appendChild(T)}),v.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),Oi&&(_=v.elmOffset.href.baseVal,v.elmOffset.href.baseVal=""),h=v.elmPosition.getBBox(),Oi&&(v.elmOffset.href.baseVal=_),v.styleText.textAnchor=["start","end","middle"][u.semIndex],2!==u.semIndex||u.lineOffset||v.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),u.height=h.height,u.outlineColor&&(v.styleStroke.strokeWidth=(p=10<(p=h.height/9)?10:p<2?2:p)+"px",v.styleStroke.stroke=u.outlineColor),u.strokeWidth=p||0,nt(u.aplStats,he.pathLabel.stats),u.updateColor(f),u.updatePath(f),u.updateStartOffset(f),wt&&en(f,{}),u.updateShow(f)},bind:function(u,f){var h=f.props;return u.color||It(h,"cur_line_color",u.updateColor),It(h,"cur_line_strokeWidth",u.updatePath),It(h,"apl_path",u.updatePath),u.semIndex="startLabel"===f.optionName?0:"endLabel"===f.optionName?1:2,2===u.semIndex&&!u.lineOffset||It(h,"cur_attach_plugBackLenSE",u.updateStartOffset),It(h,"svgShow",u.updateShow),wt&&It(h,"new_edge4viewBox",u.adjustEdge),he.pathLabel.initSvg(u,h),!0},unbind:function(u,f){var h=f.props;u.elmsAppend&&(u.elmsAppend.forEach(function(p){h.svg.removeChild(p)}),u.elmPosition=u.elmPath=u.elmOffset=u.styleFill=u.styleShow=u.elmsAppend=null),nt(u.curStats,he.pathLabel.stats),nt(u.aplStats,he.pathLabel.stats),u.color||xt(h,"cur_line_color",u.updateColor),xt(h,"cur_line_strokeWidth",u.updatePath),xt(h,"apl_path",u.updatePath),2===u.semIndex&&!u.lineOffset||xt(h,"cur_attach_plugBackLenSE",u.updateStartOffset),xt(h,"svgShow",u.updateShow),wt&&(xt(h,"new_edge4viewBox",u.adjustEdge),en(h,{}))},removeOption:function(u,f){var h=f.props,p={};p[f.optionName]="",ps(h,p)},remove:function(u){u.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),u.boundTargets.forEach(function(f){he.pathLabel.unbind(u,f)}))}}},Object.keys(he).forEach(function(u){_n[u]=function(){return new Lr(he[u],Array.prototype.slice.call(arguments))}}),_n.positionByWindowResize=!0,window.addEventListener("resize",vn.add(function(){_n.positionByWindowResize&&Object.keys(Ut).forEach(function(u){en(Ut[u],{position:!0})})}),!1)}()}},Cl=>{Cl(Cl.s=825)}]);